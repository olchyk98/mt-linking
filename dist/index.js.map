{
  "version": 3,
  "sources": ["../node_modules/blessed/lib/alias.js", "../node_modules/blessed/lib/tput.js", "../node_modules/blessed/lib/colors.js", "../node_modules/blessed/lib/keys.js", "../node_modules/blessed/lib/gpmclient.js", "../node_modules/blessed/lib/program.js", "../node_modules/blessed/lib/events.js", "../node_modules/blessed/lib/unicode.js", "../node_modules/blessed/lib/widgets/box.js", "../node_modules/blessed/lib/widgets/scrollablebox.js", "../node_modules/blessed/lib/widgets/element.js", "../node_modules/blessed/lib/helpers.js", "../node_modules/blessed/lib/widgets/scrollabletext.js", "../node_modules/blessed/lib/widgets/log.js", "../node_modules/blessed/lib/widgets/screen.js", "../node_modules/blessed/lib/widgets/node.js", "../node_modules/blessed/vendor/tng.js", "../node_modules/blessed/lib/widgets/ansiimage.js", "../node_modules/blessed/lib/widgets/bigtext.js", "../node_modules/blessed/lib/widgets/input.js", "../node_modules/blessed/lib/widgets/button.js", "../node_modules/blessed/lib/widgets/checkbox.js", "../node_modules/blessed/lib/widgets/list.js", "../node_modules/blessed/lib/widgets/filemanager.js", "../node_modules/blessed/lib/widgets/form.js", "../node_modules/blessed/lib/widgets/overlayimage.js", "../node_modules/blessed/lib/widgets/image.js", "../node_modules/blessed/lib/widgets/layout.js", "../node_modules/blessed/lib/widgets/line.js", "../node_modules/blessed/lib/widgets/listbar.js", "../node_modules/blessed/lib/widgets/table.js", "../node_modules/blessed/lib/widgets/listtable.js", "../node_modules/blessed/lib/widgets/text.js", "../node_modules/blessed/lib/widgets/loading.js", "../node_modules/blessed/lib/widgets/message.js", "../node_modules/blessed/lib/widgets/progressbar.js", "../node_modules/blessed/lib/widgets/textarea.js", "../node_modules/blessed/lib/widgets/textbox.js", "../node_modules/blessed/lib/widgets/prompt.js", "../node_modules/blessed/lib/widgets/question.js", "../node_modules/blessed/lib/widgets/radiobutton.js", "../node_modules/blessed/lib/widgets/radioset.js", "../node_modules/term.js/src/term.js", "../node_modules/term.js/lib/index.js", "../node_modules/term.js/index.js", "../node_modules/blessed/lib/widgets/terminal.js", "../node_modules/blessed/lib/widgets/video.js", "../node_modules/blessed/lib/widget.js", "../node_modules/blessed/lib/blessed.js", "../src/core/spawn-screen.ts", "../src/input/bind-exit-input.ts", "../node_modules/ramda/es/internal/_isPlaceholder.js", "../node_modules/ramda/es/internal/_curry1.js", "../node_modules/ramda/es/internal/_curry2.js", "../node_modules/ramda/es/internal/_arity.js", "../node_modules/ramda/es/internal/_curryN.js", "../node_modules/ramda/es/curryN.js", "../node_modules/ramda/es/internal/_isArray.js", "../node_modules/ramda/es/internal/_isTransformer.js", "../node_modules/ramda/es/internal/_dispatchable.js", "../node_modules/ramda/es/internal/_xfBase.js", "../node_modules/ramda/es/internal/_arrayFromIterator.js", "../node_modules/ramda/es/internal/_includesWith.js", "../node_modules/ramda/es/internal/_functionName.js", "../node_modules/ramda/es/internal/_has.js", "../node_modules/ramda/es/internal/_objectIs.js", "../node_modules/ramda/es/internal/_isArguments.js", "../node_modules/ramda/es/keys.js", "../node_modules/ramda/es/type.js", "../node_modules/ramda/es/internal/_equals.js", "../node_modules/ramda/es/equals.js", "../node_modules/ramda/es/internal/_map.js", "../node_modules/ramda/es/internal/_arrayReduce.js", "../node_modules/ramda/es/internal/_isObject.js", "../node_modules/ramda/es/internal/_xmap.js", "../node_modules/ramda/es/map.js", "../node_modules/ramda/es/internal/_isString.js", "../node_modules/ramda/es/internal/_isTypedArray.js", "../node_modules/ramda/es/empty.js", "../node_modules/ramda/es/isEmpty.js", "../src/ui/tabs-navigation.ts", "../index.ts"],
  "sourcesContent": ["/**\n * alias.js - terminfo/cap aliases for blessed.\n * https://github.com/chjj/blessed\n * Taken from terminfo(5) man page.\n */\n\n/* jshint maxlen: 300 */\n// jscs:disable maximumLineLength\n// jscs:disable\n\nvar alias = exports;\n\n// These are the boolean capabilities:\nalias.bools = {\n  //         Variable                                      Cap-                               TCap                                  Description\n  //         Booleans                                      name                               Code\n  'auto_left_margin':                                      ['bw',                                 'bw'], //                                cub1 wraps from col\u2010 umn 0 to last column\n  'auto_right_margin':                                     ['am',                                 'am'], //                                terminal has auto\u2010 matic margins\n  'back_color_erase':                                      ['bce',                                'ut'], //                                screen erased with background color\n  'can_change':                                            ['ccc',                                'cc'], //                                terminal can re- define existing col\u2010 ors\n  'ceol_standout_glitch':                                  ['xhp',                                'xs'], //                                standout not erased by overwriting (hp)\n  'col_addr_glitch':                                       ['xhpa',                               'YA'], //                                only positive motion for hpa/mhpa caps\n  'cpi_changes_res':                                       ['cpix',                               'YF'], //                                changing character pitch changes reso\u2010 lution\n  'cr_cancels_micro_mode':                                 ['crxm',                               'YB'], //                                using cr turns off micro mode\n  'dest_tabs_magic_smso':                                  ['xt',                                 'xt'], //                                tabs destructive, magic so char (t1061)\n  'eat_newline_glitch':                                    ['xenl',                               'xn'], //                                newline ignored after 80 cols (con\u2010 cept)\n  'erase_overstrike':                                      ['eo',                                 'eo'], //                                can erase over\u2010 strikes with a blank\n  'generic_type':                                          ['gn',                                 'gn'], //                                generic line type\n  'hard_copy':                                             ['hc',                                 'hc'], //                                hardcopy terminal\n  'hard_cursor':                                           ['chts',                               'HC'], //                                cursor is hard to see\n  'has_meta_key':                                          ['km',                                 'km'], //                                Has a meta key (i.e., sets 8th-bit)\n  'has_print_wheel':                                       ['daisy',                              'YC'], //                                printer needs opera\u2010 tor to change char\u2010 acter set\n  'has_status_line':                                       ['hs',                                 'hs'], //                                has extra status line\n  'hue_lightness_saturation':                              ['hls',                                'hl'], //                                terminal uses only HLS color notation (Tektronix)\n  'insert_null_glitch':                                    ['in',                                 'in'], //                                insert mode distin\u2010 guishes nulls\n  'lpi_changes_res':                                       ['lpix',                               'YG'], //                                changing line pitch changes resolution\n  'memory_above':                                          ['da',                                 'da'], //                                display may be retained above the screen\n  'memory_below':                                          ['db',                                 'db'], //                                display may be retained below the screen\n  'move_insert_mode':                                      ['mir',                                'mi'], //                                safe to move while in insert mode\n  'move_standout_mode':                                    ['msgr',                               'ms'], //                                safe to move while in standout mode\n  'needs_xon_xoff':                                        ['nxon',                               'nx'], //                                padding will not work, xon/xoff required\n  'no_esc_ctlc':                                           ['xsb',                                'xb'], //                                beehive (f1=escape, f2=ctrl C)\n  'no_pad_char':                                           ['npc',                                'NP'], //                                pad character does not exist\n  'non_dest_scroll_region':                                ['ndscr',                              'ND'], //                                scrolling region is non-destructive\n  'non_rev_rmcup':                                         ['nrrmc',                              'NR'], //                                smcup does not reverse rmcup\n  'over_strike':                                           ['os',                                 'os'], //                                terminal can over\u2010 strike\n  'prtr_silent':                                           ['mc5i',                               '5i'], //                                printer will not echo on screen\n  'row_addr_glitch':                                       ['xvpa',                               'YD'], //                                only positive motion for vpa/mvpa caps\n  'semi_auto_right_margin':                                ['sam',                                'YE'], //                                printing in last column causes cr\n  'status_line_esc_ok':                                    ['eslok',                              'es'], //                                escape can be used on the status line\n  'tilde_glitch':                                          ['hz',                                 'hz'], //                                cannot print ~'s (hazeltine)\n  'transparent_underline':                                 ['ul',                                 'ul'], //                                underline character overstrikes\n  'xon_xoff':                                              ['xon',                                'xo']  //                                terminal uses xon/xoff handshaking\n};\n\n// These are the numeric capabilities:\nalias.numbers = {\n  //         Variable                                      Cap-                               TCap                                  Description\n  //          Numeric                                      name                               Code\n  'columns':                                               ['cols',                               'co'], //                                number of columns in a line\n  'init_tabs':                                             ['it',                                 'it'], //                                tabs initially every # spaces\n  'label_height':                                          ['lh',                                 'lh'], //                                rows in each label\n  'label_width':                                           ['lw',                                 'lw'], //                                columns in each label\n  'lines':                                                 ['lines',                              'li'], //                                number of lines on screen or page\n  'lines_of_memory':                                       ['lm',                                 'lm'], //                                lines of memory if > line. 0 means varies\n  'magic_cookie_glitch':                                   ['xmc',                                'sg'], //                                number of blank characters left by smso or rmso\n  'max_attributes':                                        ['ma',                                 'ma'], //                                maximum combined attributes terminal can handle\n  'max_colors':                                            ['colors',                             'Co'], //                                maximum number of colors on screen\n  'max_pairs':                                             ['pairs',                              'pa'], //                                maximum number of color-pairs on the screen\n  'maximum_windows':                                       ['wnum',                               'MW'], //                                maximum number of defineable windows\n  'no_color_video':                                        ['ncv',                                'NC'], //                                video attributes that cannot be used with colors\n  'num_labels':                                            ['nlab',                               'Nl'], //                                number of labels on screen\n  'padding_baud_rate':                                     ['pb',                                 'pb'], //                                lowest baud rate where padding needed\n  'virtual_terminal':                                      ['vt',                                 'vt'], //                                virtual terminal number (CB/unix)\n  'width_status_line':                                     ['wsl',                                'ws'], //                                number of columns in status line\n\n  // The  following  numeric  capabilities  are present in the SVr4.0 term structure, but are not yet documented in the man page.  They came in with\n  // SVr4's printer support.\n\n\n  //         Variable                                      Cap-                               TCap                                  Description\n  //          Numeric                                      name                               Code\n  'bit_image_entwining':                                   ['bitwin',                             'Yo'], //                                number of passes for each bit-image row\n  'bit_image_type':                                        ['bitype',                             'Yp'], //                                type of bit-image device\n  'buffer_capacity':                                       ['bufsz',                              'Ya'], //                                numbers of bytes buffered before printing\n  'buttons':                                               ['btns',                               'BT'], //                                number of buttons on mouse\n  'dot_horz_spacing':                                      ['spinh',                              'Yc'], //                                spacing of dots hor\u2010 izontally in dots per inch\n  'dot_vert_spacing':                                      ['spinv',                              'Yb'], //                                spacing of pins ver\u2010 tically in pins per inch\n  'max_micro_address':                                     ['maddr',                              'Yd'], //                                maximum value in micro_..._address\n  'max_micro_jump':                                        ['mjump',                              'Ye'], //                                maximum value in parm_..._micro\n  'micro_col_size':                                        ['mcs',                                'Yf'], //                                character step size when in micro mode\n  'micro_line_size':                                       ['mls',                                'Yg'], //                                line step size when in micro mode\n  'number_of_pins':                                        ['npins',                              'Yh'], //                                numbers of pins in print-head\n  'output_res_char':                                       ['orc',                                'Yi'], //                                horizontal resolu\u2010 tion in units per line\n  'output_res_horz_inch':                                  ['orhi',                               'Yk'], //                                horizontal resolu\u2010 tion in units per inch\n  'output_res_line':                                       ['orl',                                'Yj'], //                                vertical resolution in units per line\n  'output_res_vert_inch':                                  ['orvi',                               'Yl'], //                                vertical resolution in units per inch\n  'print_rate':                                            ['cps',                                'Ym'], //                                print rate in char\u2010 acters per second\n  'wide_char_size':                                        ['widcs',                              'Yn']  //                                character step size when in double wide mode\n};\n\n// These are the string capabilities:\nalias.strings = {\n  //         Variable                                    Cap-                             TCap                                   Description\n  //          String                                     name                             Code\n  'acs_chars':                                           ['acsc',                             'ac'], //                              graphics charset pairs, based on vt100\n  'back_tab':                                            ['cbt',                              'bt'], //                              back tab (P)\n  'bell':                                                ['bel',                              'bl'], //                              audible signal (bell) (P)\n  'carriage_return':                                     ['cr',                               'cr'], //                              carriage return (P*) (P*)\n  'change_char_pitch':                                   ['cpi',                              'ZA'], //                              Change number of characters per inch to #1\n  'change_line_pitch':                                   ['lpi',                              'ZB'], //                              Change number of lines per inch to #1\n  'change_res_horz':                                     ['chr',                              'ZC'], //                              Change horizontal resolution to #1\n  'change_res_vert':                                     ['cvr',                              'ZD'], //                              Change vertical res\u2010 olution to #1\n  'change_scroll_region':                                ['csr',                              'cs'], //                              change region to line #1 to line #2 (P)\n  'char_padding':                                        ['rmp',                              'rP'], //                              like ip but when in insert mode\n  'clear_all_tabs':                                      ['tbc',                              'ct'], //                              clear all tab stops (P)\n  'clear_margins':                                       ['mgc',                              'MC'], //                              clear right and left soft margins\n  'clear_screen':                                        ['clear',                            'cl'], //                              clear screen and home cursor (P*)\n  'clr_bol':                                             ['el1',                              'cb'], //                              Clear to beginning of line\n  'clr_eol':                                             ['el',                               'ce'], //                              clear to end of line (P)\n  'clr_eos':                                             ['ed',                               'cd'], //                              clear to end of screen (P*)\n  'column_address':                                      ['hpa',                              'ch'], //                              horizontal position #1, absolute (P)\n  'command_character':                                   ['cmdch',                            'CC'], //                              terminal settable cmd character in prototype !?\n  'create_window':                                       ['cwin',                             'CW'], //                              define a window #1 from #2,#3 to #4,#5\n  'cursor_address':                                      ['cup',                              'cm'], //                              move to row #1 col\u2010 umns #2\n  'cursor_down':                                         ['cud1',                             'do'], //                              down one line\n  'cursor_home':                                         ['home',                             'ho'], //                              home cursor (if no cup)\n  'cursor_invisible':                                    ['civis',                            'vi'], //                              make cursor invisi\u2010 ble\n  'cursor_left':                                         ['cub1',                             'le'], //                              move left one space\n  'cursor_mem_address':                                  ['mrcup',                            'CM'], //                              memory relative cur\u2010 sor addressing, move to row #1 columns #2\n  'cursor_normal':                                       ['cnorm',                            've'], //                              make cursor appear normal (undo civis/cvvis)\n  'cursor_right':                                        ['cuf1',                             'nd'], //                              non-destructive space (move right one space)\n  'cursor_to_ll':                                        ['ll',                               'll'], //                              last line, first column (if no cup)\n  'cursor_up':                                           ['cuu1',                             'up'], //                              up one line\n  'cursor_visible':                                      ['cvvis',                            'vs'], //                              make cursor very visible\n  'define_char':                                         ['defc',                             'ZE'], //                              Define a character #1, #2 dots wide, descender #3\n  'delete_character':                                    ['dch1',                             'dc'], //                              delete character (P*)\n  'delete_line':                                         ['dl1',                              'dl'], //                              delete line (P*)\n  'dial_phone':                                          ['dial',                             'DI'], //                              dial number #1\n  'dis_status_line':                                     ['dsl',                              'ds'], //                              disable status line\n  'display_clock':                                       ['dclk',                             'DK'], //                              display clock\n  'down_half_line':                                      ['hd',                               'hd'], //                              half a line down\n  'ena_acs':                                             ['enacs',                            'eA'], //                              enable alternate char set\n  'enter_alt_charset_mode':                              ['smacs',                            'as'], //                              start alternate character set (P)\n  'enter_am_mode':                                       ['smam',                             'SA'], //                              turn on automatic margins\n  'enter_blink_mode':                                    ['blink',                            'mb'], //                              turn on blinking\n  'enter_bold_mode':                                     ['bold',                             'md'], //                              turn on bold (extra bright) mode\n  'enter_ca_mode':                                       ['smcup',                            'ti'], //                              string to start pro\u2010 grams using cup\n  'enter_delete_mode':                                   ['smdc',                             'dm'], //                              enter delete mode\n  'enter_dim_mode':                                      ['dim',                              'mh'], //                              turn on half-bright mode\n  'enter_doublewide_mode':                               ['swidm',                            'ZF'], //                              Enter double-wide mode\n  'enter_draft_quality':                                 ['sdrfq',                            'ZG'], //                              Enter draft-quality mode\n  'enter_insert_mode':                                   ['smir',                             'im'], //                              enter insert mode\n  'enter_italics_mode':                                  ['sitm',                             'ZH'], //                              Enter italic mode\n  'enter_leftward_mode':                                 ['slm',                              'ZI'], //                              Start leftward car\u2010 riage motion\n  'enter_micro_mode':                                    ['smicm',                            'ZJ'], //                              Start micro-motion mode\n  'enter_near_letter_quality':                           ['snlq',                             'ZK'], //                              Enter NLQ mode\n  'enter_normal_quality':                                ['snrmq',                            'ZL'], //                              Enter normal-quality mode\n  'enter_protected_mode':                                ['prot',                             'mp'], //                              turn on protected mode\n  'enter_reverse_mode':                                  ['rev',                              'mr'], //                              turn on reverse video mode\n  'enter_secure_mode':                                   ['invis',                            'mk'], //                              turn on blank mode (characters invisi\u2010 ble)\n  'enter_shadow_mode':                                   ['sshm',                             'ZM'], //                              Enter shadow-print mode\n  'enter_standout_mode':                                 ['smso',                             'so'], //                              begin standout mode\n  'enter_subscript_mode':                                ['ssubm',                            'ZN'], //                              Enter subscript mode\n  'enter_superscript_mode':                              ['ssupm',                            'ZO'], //                              Enter superscript mode\n  'enter_underline_mode':                                ['smul',                             'us'], //                              begin underline mode\n  'enter_upward_mode':                                   ['sum',                              'ZP'], //                              Start upward car\u2010 riage motion\n  'enter_xon_mode':                                      ['smxon',                            'SX'], //                              turn on xon/xoff handshaking\n  'erase_chars':                                         ['ech',                              'ec'], //                              erase #1 characters (P)\n  'exit_alt_charset_mode':                               ['rmacs',                            'ae'], //                              end alternate char\u2010 acter set (P)\n  'exit_am_mode':                                        ['rmam',                             'RA'], //                              turn off automatic margins\n  'exit_attribute_mode':                                 ['sgr0',                             'me'], //                              turn off all attributes\n  'exit_ca_mode':                                        ['rmcup',                            'te'], //                              strings to end pro\u2010 grams using cup\n  'exit_delete_mode':                                    ['rmdc',                             'ed'], //                              end delete mode\n  'exit_doublewide_mode':                                ['rwidm',                            'ZQ'], //                              End double-wide mode\n  'exit_insert_mode':                                    ['rmir',                             'ei'], //                              exit insert mode\n  'exit_italics_mode':                                   ['ritm',                             'ZR'], //                              End italic mode\n  'exit_leftward_mode':                                  ['rlm',                              'ZS'], //                              End left-motion mode\n\n\n  'exit_micro_mode':                                     ['rmicm',                            'ZT'], //                              End micro-motion mode\n  'exit_shadow_mode':                                    ['rshm',                             'ZU'], //                              End shadow-print mode\n  'exit_standout_mode':                                  ['rmso',                             'se'], //                              exit standout mode\n  'exit_subscript_mode':                                 ['rsubm',                            'ZV'], //                              End subscript mode\n  'exit_superscript_mode':                               ['rsupm',                            'ZW'], //                              End superscript mode\n  'exit_underline_mode':                                 ['rmul',                             'ue'], //                              exit underline mode\n  'exit_upward_mode':                                    ['rum',                              'ZX'], //                              End reverse charac\u2010 ter motion\n  'exit_xon_mode':                                       ['rmxon',                            'RX'], //                              turn off xon/xoff handshaking\n  'fixed_pause':                                         ['pause',                            'PA'], //                              pause for 2-3 sec\u2010 onds\n  'flash_hook':                                          ['hook',                             'fh'], //                              flash switch hook\n  'flash_screen':                                        ['flash',                            'vb'], //                              visible bell (may not move cursor)\n  'form_feed':                                           ['ff',                               'ff'], //                              hardcopy terminal page eject (P*)\n  'from_status_line':                                    ['fsl',                              'fs'], //                              return from status line\n  'goto_window':                                         ['wingo',                            'WG'], //                              go to window #1\n  'hangup':                                              ['hup',                              'HU'], //                              hang-up phone\n  'init_1string':                                        ['is1',                              'i1'], //                              initialization string\n  'init_2string':                                        ['is2',                              'is'], //                              initialization string\n  'init_3string':                                        ['is3',                              'i3'], //                              initialization string\n  'init_file':                                           ['if',                               'if'], //                              name of initializa\u2010 tion file\n  'init_prog':                                           ['iprog',                            'iP'], //                              path name of program for initialization\n  'initialize_color':                                    ['initc',                            'Ic'], //                              initialize color #1 to (#2,#3,#4)\n  'initialize_pair':                                     ['initp',                            'Ip'], //                              Initialize color pair #1 to fg=(#2,#3,#4), bg=(#5,#6,#7)\n  'insert_character':                                    ['ich1',                             'ic'], //                              insert character (P)\n  'insert_line':                                         ['il1',                              'al'], //                              insert line (P*)\n  'insert_padding':                                      ['ip',                               'ip'], //                              insert padding after inserted character\n  'key_a1':                                              ['ka1',                              'K1'], //                              upper left of keypad\n  'key_a3':                                              ['ka3',                              'K3'], //                              upper right of key\u2010 pad\n  'key_b2':                                              ['kb2',                              'K2'], //                              center of keypad\n  'key_backspace':                                       ['kbs',                              'kb'], //                              backspace key\n  'key_beg':                                             ['kbeg',                             '@1'], //                              begin key\n  'key_btab':                                            ['kcbt',                             'kB'], //                              back-tab key\n  'key_c1':                                              ['kc1',                              'K4'], //                              lower left of keypad\n  'key_c3':                                              ['kc3',                              'K5'], //                              lower right of key\u2010 pad\n  'key_cancel':                                          ['kcan',                             '@2'], //                              cancel key\n  'key_catab':                                           ['ktbc',                             'ka'], //                              clear-all-tabs key\n  'key_clear':                                           ['kclr',                             'kC'], //                              clear-screen or erase key\n  'key_close':                                           ['kclo',                             '@3'], //                              close key\n  'key_command':                                         ['kcmd',                             '@4'], //                              command key\n  'key_copy':                                            ['kcpy',                             '@5'], //                              copy key\n  'key_create':                                          ['kcrt',                             '@6'], //                              create key\n  'key_ctab':                                            ['kctab',                            'kt'], //                              clear-tab key\n  'key_dc':                                              ['kdch1',                            'kD'], //                              delete-character key\n  'key_dl':                                              ['kdl1',                             'kL'], //                              delete-line key\n  'key_down':                                            ['kcud1',                            'kd'], //                              down-arrow key\n\n  'key_eic':                                             ['krmir',                            'kM'], //                              sent by rmir or smir in insert mode\n  'key_end':                                             ['kend',                             '@7'], //                              end key\n  'key_enter':                                           ['kent',                             '@8'], //                              enter/send key\n  'key_eol':                                             ['kel',                              'kE'], //                              clear-to-end-of-line key\n  'key_eos':                                             ['ked',                              'kS'], //                              clear-to-end-of- screen key\n  'key_exit':                                            ['kext',                             '@9'], //                              exit key\n  'key_f0':                                              ['kf0',                              'k0'], //                              F0 function key\n  'key_f1':                                              ['kf1',                              'k1'], //                              F1 function key\n  'key_f10':                                             ['kf10',                             'k;'], //                              F10 function key\n  'key_f11':                                             ['kf11',                             'F1'], //                              F11 function key\n  'key_f12':                                             ['kf12',                             'F2'], //                              F12 function key\n  'key_f13':                                             ['kf13',                             'F3'], //                              F13 function key\n  'key_f14':                                             ['kf14',                             'F4'], //                              F14 function key\n  'key_f15':                                             ['kf15',                             'F5'], //                              F15 function key\n  'key_f16':                                             ['kf16',                             'F6'], //                              F16 function key\n  'key_f17':                                             ['kf17',                             'F7'], //                              F17 function key\n  'key_f18':                                             ['kf18',                             'F8'], //                              F18 function key\n  'key_f19':                                             ['kf19',                             'F9'], //                              F19 function key\n  'key_f2':                                              ['kf2',                              'k2'], //                              F2 function key\n  'key_f20':                                             ['kf20',                             'FA'], //                              F20 function key\n  'key_f21':                                             ['kf21',                             'FB'], //                              F21 function key\n  'key_f22':                                             ['kf22',                             'FC'], //                              F22 function key\n  'key_f23':                                             ['kf23',                             'FD'], //                              F23 function key\n  'key_f24':                                             ['kf24',                             'FE'], //                              F24 function key\n  'key_f25':                                             ['kf25',                             'FF'], //                              F25 function key\n  'key_f26':                                             ['kf26',                             'FG'], //                              F26 function key\n  'key_f27':                                             ['kf27',                             'FH'], //                              F27 function key\n  'key_f28':                                             ['kf28',                             'FI'], //                              F28 function key\n  'key_f29':                                             ['kf29',                             'FJ'], //                              F29 function key\n  'key_f3':                                              ['kf3',                              'k3'], //                              F3 function key\n  'key_f30':                                             ['kf30',                             'FK'], //                              F30 function key\n  'key_f31':                                             ['kf31',                             'FL'], //                              F31 function key\n  'key_f32':                                             ['kf32',                             'FM'], //                              F32 function key\n  'key_f33':                                             ['kf33',                             'FN'], //                              F33 function key\n  'key_f34':                                             ['kf34',                             'FO'], //                              F34 function key\n  'key_f35':                                             ['kf35',                             'FP'], //                              F35 function key\n  'key_f36':                                             ['kf36',                             'FQ'], //                              F36 function key\n  'key_f37':                                             ['kf37',                             'FR'], //                              F37 function key\n  'key_f38':                                             ['kf38',                             'FS'], //                              F38 function key\n  'key_f39':                                             ['kf39',                             'FT'], //                              F39 function key\n  'key_f4':                                              ['kf4',                              'k4'], //                              F4 function key\n  'key_f40':                                             ['kf40',                             'FU'], //                              F40 function key\n  'key_f41':                                             ['kf41',                             'FV'], //                              F41 function key\n  'key_f42':                                             ['kf42',                             'FW'], //                              F42 function key\n  'key_f43':                                             ['kf43',                             'FX'], //                              F43 function key\n  'key_f44':                                             ['kf44',                             'FY'], //                              F44 function key\n  'key_f45':                                             ['kf45',                             'FZ'], //                              F45 function key\n  'key_f46':                                             ['kf46',                             'Fa'], //                              F46 function key\n  'key_f47':                                             ['kf47',                             'Fb'], //                              F47 function key\n  'key_f48':                                             ['kf48',                             'Fc'], //                              F48 function key\n  'key_f49':                                             ['kf49',                             'Fd'], //                              F49 function key\n  'key_f5':                                              ['kf5',                              'k5'], //                              F5 function key\n  'key_f50':                                             ['kf50',                             'Fe'], //                              F50 function key\n  'key_f51':                                             ['kf51',                             'Ff'], //                              F51 function key\n  'key_f52':                                             ['kf52',                             'Fg'], //                              F52 function key\n  'key_f53':                                             ['kf53',                             'Fh'], //                              F53 function key\n  'key_f54':                                             ['kf54',                             'Fi'], //                              F54 function key\n  'key_f55':                                             ['kf55',                             'Fj'], //                              F55 function key\n  'key_f56':                                             ['kf56',                             'Fk'], //                              F56 function key\n  'key_f57':                                             ['kf57',                             'Fl'], //                              F57 function key\n  'key_f58':                                             ['kf58',                             'Fm'], //                              F58 function key\n  'key_f59':                                             ['kf59',                             'Fn'], //                              F59 function key\n\n  'key_f6':                                              ['kf6',                              'k6'], //                              F6 function key\n  'key_f60':                                             ['kf60',                             'Fo'], //                              F60 function key\n  'key_f61':                                             ['kf61',                             'Fp'], //                              F61 function key\n  'key_f62':                                             ['kf62',                             'Fq'], //                              F62 function key\n  'key_f63':                                             ['kf63',                             'Fr'], //                              F63 function key\n  'key_f7':                                              ['kf7',                              'k7'], //                              F7 function key\n  'key_f8':                                              ['kf8',                              'k8'], //                              F8 function key\n  'key_f9':                                              ['kf9',                              'k9'], //                              F9 function key\n  'key_find':                                            ['kfnd',                             '@0'], //                              find key\n  'key_help':                                            ['khlp',                             '%1'], //                              help key\n  'key_home':                                            ['khome',                            'kh'], //                              home key\n  'key_ic':                                              ['kich1',                            'kI'], //                              insert-character key\n  'key_il':                                              ['kil1',                             'kA'], //                              insert-line key\n  'key_left':                                            ['kcub1',                            'kl'], //                              left-arrow key\n  'key_ll':                                              ['kll',                              'kH'], //                              lower-left key (home down)\n  'key_mark':                                            ['kmrk',                             '%2'], //                              mark key\n  'key_message':                                         ['kmsg',                             '%3'], //                              message key\n  'key_move':                                            ['kmov',                             '%4'], //                              move key\n  'key_next':                                            ['knxt',                             '%5'], //                              next key\n  'key_npage':                                           ['knp',                              'kN'], //                              next-page key\n  'key_open':                                            ['kopn',                             '%6'], //                              open key\n  'key_options':                                         ['kopt',                             '%7'], //                              options key\n  'key_ppage':                                           ['kpp',                              'kP'], //                              previous-page key\n  'key_previous':                                        ['kprv',                             '%8'], //                              previous key\n  'key_print':                                           ['kprt',                             '%9'], //                              print key\n  'key_redo':                                            ['krdo',                             '%0'], //                              redo key\n  'key_reference':                                       ['kref',                             '&1'], //                              reference key\n  'key_refresh':                                         ['krfr',                             '&2'], //                              refresh key\n  'key_replace':                                         ['krpl',                             '&3'], //                              replace key\n  'key_restart':                                         ['krst',                             '&4'], //                              restart key\n  'key_resume':                                          ['kres',                             '&5'], //                              resume key\n  'key_right':                                           ['kcuf1',                            'kr'], //                              right-arrow key\n  'key_save':                                            ['ksav',                             '&6'], //                              save key\n  'key_sbeg':                                            ['kBEG',                             '&9'], //                              shifted begin key\n  'key_scancel':                                         ['kCAN',                             '&0'], //                              shifted cancel key\n  'key_scommand':                                        ['kCMD',                             '*1'], //                              shifted command key\n  'key_scopy':                                           ['kCPY',                             '*2'], //                              shifted copy key\n  'key_screate':                                         ['kCRT',                             '*3'], //                              shifted create key\n  'key_sdc':                                             ['kDC',                              '*4'], //                              shifted delete-char\u2010 acter key\n  'key_sdl':                                             ['kDL',                              '*5'], //                              shifted delete-line key\n  'key_select':                                          ['kslt',                             '*6'], //                              select key\n  'key_send':                                            ['kEND',                             '*7'], //                              shifted end key\n  'key_seol':                                            ['kEOL',                             '*8'], //                              shifted clear-to- end-of-line key\n  'key_sexit':                                           ['kEXT',                             '*9'], //                              shifted exit key\n  'key_sf':                                              ['kind',                             'kF'], //                              scroll-forward key\n  'key_sfind':                                           ['kFND',                             '*0'], //                              shifted find key\n  'key_shelp':                                           ['kHLP',                             '#1'], //                              shifted help key\n  'key_shome':                                           ['kHOM',                             '#2'], //                              shifted home key\n  'key_sic':                                             ['kIC',                              '#3'], //                              shifted insert-char\u2010 acter key\n  'key_sleft':                                           ['kLFT',                             '#4'], //                              shifted left-arrow key\n  'key_smessage':                                        ['kMSG',                             '%a'], //                              shifted message key\n  'key_smove':                                           ['kMOV',                             '%b'], //                              shifted move key\n  'key_snext':                                           ['kNXT',                             '%c'], //                              shifted next key\n  'key_soptions':                                        ['kOPT',                             '%d'], //                              shifted options key\n  'key_sprevious':                                       ['kPRV',                             '%e'], //                              shifted previous key\n  'key_sprint':                                          ['kPRT',                             '%f'], //                              shifted print key\n  'key_sr':                                              ['kri',                              'kR'], //                              scroll-backward key\n  'key_sredo':                                           ['kRDO',                             '%g'], //                              shifted redo key\n  'key_sreplace':                                        ['kRPL',                             '%h'], //                              shifted replace key\n\n  'key_sright':                                          ['kRIT',                             '%i'], //                              shifted right-arrow key\n  'key_srsume':                                          ['kRES',                             '%j'], //                              shifted resume key\n  'key_ssave':                                           ['kSAV',                             '!1'], //                              shifted save key\n  'key_ssuspend':                                        ['kSPD',                             '!2'], //                              shifted suspend key\n  'key_stab':                                            ['khts',                             'kT'], //                              set-tab key\n  'key_sundo':                                           ['kUND',                             '!3'], //                              shifted undo key\n  'key_suspend':                                         ['kspd',                             '&7'], //                              suspend key\n  'key_undo':                                            ['kund',                             '&8'], //                              undo key\n  'key_up':                                              ['kcuu1',                            'ku'], //                              up-arrow key\n  'keypad_local':                                        ['rmkx',                             'ke'], //                              leave 'key\u2010 board_transmit' mode\n  'keypad_xmit':                                         ['smkx',                             'ks'], //                              enter 'key\u2010 board_transmit' mode\n  'lab_f0':                                              ['lf0',                              'l0'], //                              label on function key f0 if not f0\n  'lab_f1':                                              ['lf1',                              'l1'], //                              label on function key f1 if not f1\n  'lab_f10':                                             ['lf10',                             'la'], //                              label on function key f10 if not f10\n  'lab_f2':                                              ['lf2',                              'l2'], //                              label on function key f2 if not f2\n  'lab_f3':                                              ['lf3',                              'l3'], //                              label on function key f3 if not f3\n  'lab_f4':                                              ['lf4',                              'l4'], //                              label on function key f4 if not f4\n  'lab_f5':                                              ['lf5',                              'l5'], //                              label on function key f5 if not f5\n  'lab_f6':                                              ['lf6',                              'l6'], //                              label on function key f6 if not f6\n  'lab_f7':                                              ['lf7',                              'l7'], //                              label on function key f7 if not f7\n  'lab_f8':                                              ['lf8',                              'l8'], //                              label on function key f8 if not f8\n  'lab_f9':                                              ['lf9',                              'l9'], //                              label on function key f9 if not f9\n  'label_format':                                        ['fln',                              'Lf'], //                              label format\n  'label_off':                                           ['rmln',                             'LF'], //                              turn off soft labels\n  'label_on':                                            ['smln',                             'LO'], //                              turn on soft labels\n  'meta_off':                                            ['rmm',                              'mo'], //                              turn off meta mode\n  'meta_on':                                             ['smm',                              'mm'], //                              turn on meta mode (8th-bit on)\n  'micro_column_address':                                ['mhpa',                             'ZY'], //                              Like column_address in micro mode\n  'micro_down':                                          ['mcud1',                            'ZZ'], //                              Like cursor_down in micro mode\n  'micro_left':                                          ['mcub1',                            'Za'], //                              Like cursor_left in micro mode\n  'micro_right':                                         ['mcuf1',                            'Zb'], //                              Like cursor_right in micro mode\n  'micro_row_address':                                   ['mvpa',                             'Zc'], //                              Like row_address #1 in micro mode\n  'micro_up':                                            ['mcuu1',                            'Zd'], //                              Like cursor_up in micro mode\n  'newline':                                             ['nel',                              'nw'], //                              newline (behave like cr followed by lf)\n  'order_of_pins':                                       ['porder',                           'Ze'], //                              Match software bits to print-head pins\n  'orig_colors':                                         ['oc',                               'oc'], //                              Set all color pairs to the original ones\n  'orig_pair':                                           ['op',                               'op'], //                              Set default pair to its original value\n  'pad_char':                                            ['pad',                              'pc'], //                              padding char (instead of null)\n\n\n  'parm_dch':                                            ['dch',                              'DC'], //                              delete #1 characters (P*)\n  'parm_delete_line':                                    ['dl',                               'DL'], //                              delete #1 lines (P*)\n  'parm_down_cursor':                                    ['cud',                              'DO'], //                              down #1 lines (P*)\n  'parm_down_micro':                                     ['mcud',                             'Zf'], //                              Like parm_down_cur\u2010 sor in micro mode\n  'parm_ich':                                            ['ich',                              'IC'], //                              insert #1 characters (P*)\n  'parm_index':                                          ['indn',                             'SF'], //                              scroll forward #1 lines (P)\n  'parm_insert_line':                                    ['il',                               'AL'], //                              insert #1 lines (P*)\n  'parm_left_cursor':                                    ['cub',                              'LE'], //                              move #1 characters to the left (P)\n  'parm_left_micro':                                     ['mcub',                             'Zg'], //                              Like parm_left_cur\u2010 sor in micro mode\n  'parm_right_cursor':                                   ['cuf',                              'RI'], //                              move #1 characters to the right (P*)\n  'parm_right_micro':                                    ['mcuf',                             'Zh'], //                              Like parm_right_cur\u2010 sor in micro mode\n  'parm_rindex':                                         ['rin',                              'SR'], //                              scroll back #1 lines (P)\n  'parm_up_cursor':                                      ['cuu',                              'UP'], //                              up #1 lines (P*)\n  'parm_up_micro':                                       ['mcuu',                             'Zi'], //                              Like parm_up_cursor in micro mode\n  'pkey_key':                                            ['pfkey',                            'pk'], //                              program function key #1 to type string #2\n  'pkey_local':                                          ['pfloc',                            'pl'], //                              program function key #1 to execute string #2\n  'pkey_xmit':                                           ['pfx',                              'px'], //                              program function key #1 to transmit string #2\n  'plab_norm':                                           ['pln',                              'pn'], //                              program label #1 to show string #2\n  'print_screen':                                        ['mc0',                              'ps'], //                              print contents of screen\n  'prtr_non':                                            ['mc5p',                             'pO'], //                              turn on printer for #1 bytes\n  'prtr_off':                                            ['mc4',                              'pf'], //                              turn off printer\n  'prtr_on':                                             ['mc5',                              'po'], //                              turn on printer\n  'pulse':                                               ['pulse',                            'PU'], //                              select pulse dialing\n  'quick_dial':                                          ['qdial',                            'QD'], //                              dial number #1 with\u2010 out checking\n  'remove_clock':                                        ['rmclk',                            'RC'], //                              remove clock\n  'repeat_char':                                         ['rep',                              'rp'], //                              repeat char #1 #2 times (P*)\n  'req_for_input':                                       ['rfi',                              'RF'], //                              send next input char (for ptys)\n  'reset_1string':                                       ['rs1',                              'r1'], //                              reset string\n  'reset_2string':                                       ['rs2',                              'r2'], //                              reset string\n  'reset_3string':                                       ['rs3',                              'r3'], //                              reset string\n  'reset_file':                                          ['rf',                               'rf'], //                              name of reset file\n  'restore_cursor':                                      ['rc',                               'rc'], //                              restore cursor to position of last save_cursor\n  'row_address':                                         ['vpa',                              'cv'], //                              vertical position #1 absolute (P)\n  'save_cursor':                                         ['sc',                               'sc'], //                              save current cursor position (P)\n  'scroll_forward':                                      ['ind',                              'sf'], //                              scroll text up (P)\n  'scroll_reverse':                                      ['ri',                               'sr'], //                              scroll text down (P)\n  'select_char_set':                                     ['scs',                              'Zj'], //                              Select character set, #1\n\n\n\n  'set_attributes':                                      ['sgr',                              'sa'], //                              define video attributes #1-#9 (PG9)\n  'set_background':                                      ['setb',                             'Sb'], //                              Set background color #1\n  'set_bottom_margin':                                   ['smgb',                             'Zk'], //                              Set bottom margin at current line\n  'set_bottom_margin_parm':                              ['smgbp',                            'Zl'], //                              Set bottom margin at line #1 or (if smgtp is not given) #2 lines from bottom\n  'set_clock':                                           ['sclk',                             'SC'], //                              set clock, #1 hrs #2 mins #3 secs\n  'set_color_pair':                                      ['scp',                              'sp'], //                              Set current color pair to #1\n  'set_foreground':                                      ['setf',                             'Sf'], //                              Set foreground color #1\n  'set_left_margin':                                     ['smgl',                             'ML'], //                              set left soft margin at current col\u2010 umn.  See smgl. (ML is not in BSD termcap).\n  'set_left_margin_parm':                                ['smglp',                            'Zm'], //                              Set left (right) margin at column #1\n  'set_right_margin':                                    ['smgr',                             'MR'], //                              set right soft margin at current column\n  'set_right_margin_parm':                               ['smgrp',                            'Zn'], //                              Set right margin at column #1\n  'set_tab':                                             ['hts',                              'st'], //                              set a tab in every row, current columns\n  'set_top_margin':                                      ['smgt',                             'Zo'], //                              Set top margin at current line\n  'set_top_margin_parm':                                 ['smgtp',                            'Zp'], //                              Set top (bottom) margin at row #1\n  'set_window':                                          ['wind',                             'wi'], //                              current window is lines #1-#2 cols #3-#4\n  'start_bit_image':                                     ['sbim',                             'Zq'], //                              Start printing bit image graphics\n  'start_char_set_def':                                  ['scsd',                             'Zr'], //                              Start character set defi\u2010 nition #1, with #2 charac\u2010 ters in the set\n  'stop_bit_image':                                      ['rbim',                             'Zs'], //                              Stop printing bit image graphics\n  'stop_char_set_def':                                   ['rcsd',                             'Zt'], //                              End definition of charac\u2010 ter set #1\n  'subscript_characters':                                ['subcs',                            'Zu'], //                              List of subscriptable characters\n  'superscript_characters':                              ['supcs',                            'Zv'], //                              List of superscriptable characters\n  'tab':                                                 ['ht',                               'ta'], //                              tab to next 8-space hard\u2010 ware tab stop\n  'these_cause_cr':                                      ['docr',                             'Zw'], //                              Printing any of these characters causes CR\n  'to_status_line':                                      ['tsl',                              'ts'], //                              move to status line, col\u2010 umn #1\n  'tone':                                                ['tone',                             'TO'], //                              select touch tone dialing\n  'underline_char':                                      ['uc',                               'uc'], //                              underline char and move past it\n  'up_half_line':                                        ['hu',                               'hu'], //                              half a line up\n  'user0':                                               ['u0',                               'u0'], //                              User string #0\n  'user1':                                               ['u1',                               'u1'], //                              User string #1\n  'user2':                                               ['u2',                               'u2'], //                              User string #2\n  'user3':                                               ['u3',                               'u3'], //                              User string #3\n  'user4':                                               ['u4',                               'u4'], //                              User string #4\n  'user5':                                               ['u5',                               'u5'], //                              User string #5\n\n  'user6':                                               ['u6',                               'u6'], //                              User string #6\n  'user7':                                               ['u7',                               'u7'], //                              User string #7\n  'user8':                                               ['u8',                               'u8'], //                              User string #8\n  'user9':                                               ['u9',                               'u9'], //                              User string #9\n  'wait_tone':                                           ['wait',                             'WA'], //                              wait for dial-tone\n  'xoff_character':                                      ['xoffc',                            'XF'], //                              XOFF character\n  'xon_character':                                       ['xonc',                             'XN'], //                              XON character\n  'zero_motion':                                         ['zerom',                            'Zx'], //                              No motion for subsequent character\n\n  // The following string capabilities are present in the SVr4.0 term structure, but were originally not documented in the man page.\n\n\n  //         Variable                                      Cap-                                 TCap                                 Description\n  //          String                                       name                                 Code\n  'alt_scancode_esc':                                      ['scesa',                                'S8'], //                                Alternate escape for scancode emu\u2010 lation\n  'bit_image_carriage_return':                             ['bicr',                                 'Yv'], //                                Move to beginning of same row\n  'bit_image_newline':                                     ['binel',                                'Zz'], //                                Move to next row of the bit image\n  'bit_image_repeat':                                      ['birep',                                'Xy'], //                                Repeat bit image cell #1 #2 times\n  'char_set_names':                                        ['csnm',                                 'Zy'], //                                Produce #1'th item from list of char\u2010 acter set names\n  'code_set_init':                                         ['csin',                                 'ci'], //                                Init sequence for multiple codesets\n  'color_names':                                           ['colornm',                              'Yw'], //                                Give name for color #1\n  'define_bit_image_region':                               ['defbi',                                'Yx'], //                                Define rectan\u2010 gualar bit image region\n  'device_type':                                           ['devt',                                 'dv'], //                                Indicate lan\u2010 guage/codeset sup\u2010 port\n  'display_pc_char':                                       ['dispc',                                'S1'], //                                Display PC charac\u2010 ter #1\n  'end_bit_image_region':                                  ['endbi',                                'Yy'], //                                End a bit-image region\n  'enter_pc_charset_mode':                                 ['smpch',                                'S2'], //                                Enter PC character display mode\n  'enter_scancode_mode':                                   ['smsc',                                 'S4'], //                                Enter PC scancode mode\n  'exit_pc_charset_mode':                                  ['rmpch',                                'S3'], //                                Exit PC character display mode\n  'exit_scancode_mode':                                    ['rmsc',                                 'S5'], //                                Exit PC scancode mode\n  'get_mouse':                                             ['getm',                                 'Gm'], //                                Curses should get button events, parameter #1 not documented.\n  'key_mouse':                                             ['kmous',                                'Km'], //                                Mouse event has occurred\n  'mouse_info':                                            ['minfo',                                'Mi'], //                                Mouse status information\n  'pc_term_options':                                       ['pctrm',                                'S6'], //                                PC terminal options\n  'pkey_plab':                                             ['pfxl',                                 'xl'], //                                Program function key #1 to type string #2 and show string #3\n  'req_mouse_pos':                                         ['reqmp',                                'RQ'], //                                Request mouse position\n\n  'scancode_escape':                                       ['scesc',                                'S7'], //                                Escape for scan\u2010 code emulation\n  'set0_des_seq':                                          ['s0ds',                                 's0'], //                                Shift to codeset 0 (EUC set 0, ASCII)\n  'set1_des_seq':                                          ['s1ds',                                 's1'], //                                Shift to codeset 1\n  'set2_des_seq':                                          ['s2ds',                                 's2'], //                                Shift to codeset 2\n  'set3_des_seq':                                          ['s3ds',                                 's3'], //                                Shift to codeset 3\n  'set_a_background':                                      ['setab',                                'AB'], //                                Set background color to #1, using ANSI escape\n  'set_a_foreground':                                      ['setaf',                                'AF'], //                                Set foreground color to #1, using ANSI escape\n  'set_color_band':                                        ['setcolor',                             'Yz'], //                                Change to ribbon color #1\n  'set_lr_margin':                                         ['smglr',                                'ML'], //                                Set both left and right margins to #1, #2.  (ML is not in BSD term\u2010 cap).\n  'set_page_length':                                       ['slines',                               'YZ'], //                                Set page length to #1 lines\n  'set_tb_margin':                                         ['smgtb',                                'MT'], //                                Sets both top and bottom margins to #1, #2\n\n  // The XSI Curses standard added these.  They are some post-4.1 versions of System V curses, e.g., Solaris 2.5 and IRIX 6.x.  The ncurses termcap\n  // names for them are invented; according to the XSI Curses standard, they have no termcap names.  If your compiled terminfo entries  use  these,\n  // they may not be binary-compatible with System V terminfo entries after SVr4.1; beware!\n\n\n  //         Variable                                      Cap-                               TCap                                 Description\n  //          String                                       name                               Code\n  'enter_horizontal_hl_mode':                              ['ehhlm',                              'Xh'], //                               Enter horizontal highlight mode\n  'enter_left_hl_mode':                                    ['elhlm',                              'Xl'], //                               Enter left highlight mode\n  'enter_low_hl_mode':                                     ['elohlm',                             'Xo'], //                               Enter low highlight mode\n  'enter_right_hl_mode':                                   ['erhlm',                              'Xr'], //                               Enter right high\u2010 light mode\n  'enter_top_hl_mode':                                     ['ethlm',                              'Xt'], //                               Enter top highlight mode\n  'enter_vertical_hl_mode':                                ['evhlm',                              'Xv'], //                               Enter vertical high\u2010 light mode\n  'set_a_attributes':                                      ['sgr1',                               'sA'], //                               Define second set of video attributes #1-#6\n  'set_pglen_inch':                                        ['slength',                            'sL']  //                               YI Set page length to #1 hundredth of an inch\n};\n", "/**\n * tput.js - parse and compile terminfo caps to javascript.\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n// Resources:\n//   $ man term\n//   $ man terminfo\n//   http://invisible-island.net/ncurses/man/term.5.html\n//   https://en.wikipedia.org/wiki/Terminfo\n\n// Todo:\n// - xterm's XT (set-title capability?) value should\n//   be true (at least tmux thinks it should).\n//   It's not parsed as true. Investigate.\n// - Possibly switch to other method of finding the\n//   extended data string table: i += h.symOffsetCount * 2;\n\n/**\n * Modules\n */\n\nvar assert = require('assert')\n  , path = require('path')\n  , fs = require('fs')\n  , cp = require('child_process');\n\n/**\n * Tput\n */\n\nfunction Tput(options) {\n  if (!(this instanceof Tput)) {\n    return new Tput(options);\n  }\n\n  options = options || {};\n  if (typeof options === 'string') {\n    options = { terminal: options };\n  }\n\n  this.options = options;\n  this.terminal = options.terminal\n    || options.term\n    || process.env.TERM\n    || (process.platform === 'win32' ? 'windows-ansi' : 'xterm');\n\n  this.terminal = this.terminal.toLowerCase();\n\n  this.debug = options.debug;\n  this.padding = options.padding;\n  this.extended = options.extended;\n  this.printf = options.printf;\n  this.termcap = options.termcap;\n  this.error = null;\n\n  this.terminfoPrefix = options.terminfoPrefix;\n  this.terminfoFile = options.terminfoFile;\n  this.termcapFile = options.termcapFile;\n\n  if (options.terminal || options.term) {\n    this.setup();\n  }\n}\n\nTput.prototype.setup = function() {\n  this.error = null;\n  try {\n    if (this.termcap) {\n      try {\n        this.injectTermcap();\n      } catch (e) {\n        if (this.debug) throw e;\n        this.error = new Error('Termcap parse error.');\n        this._useInternalCap(this.terminal);\n      }\n    } else {\n      try {\n        this.injectTerminfo();\n      } catch (e) {\n        if (this.debug) throw e;\n        this.error = new Error('Terminfo parse error.');\n        this._useInternalInfo(this.terminal);\n      }\n    }\n  } catch (e) {\n    // If there was an error, fallback\n    // to an internally stored terminfo/cap.\n    if (this.debug) throw e;\n    this.error = new Error('Terminfo not found.');\n    this._useXtermInfo();\n  }\n};\n\nTput.prototype.term = function(is) {\n  return this.terminal.indexOf(is) === 0;\n};\n\nTput.prototype._debug = function() {\n  if (!this.debug) return;\n  return console.log.apply(console, arguments);\n};\n\n/**\n * Fallback\n */\n\nTput.prototype._useVt102Cap = function() {\n  return this.injectTermcap('vt102');\n};\n\nTput.prototype._useXtermCap = function() {\n  return this.injectTermcap(__dirname + '/../usr/xterm.termcap');\n};\n\nTput.prototype._useXtermInfo = function() {\n  return this.injectTerminfo(__dirname + '/../usr/xterm');\n};\n\nTput.prototype._useInternalInfo = function(name) {\n  name = path.basename(name);\n  return this.injectTerminfo(__dirname + '/../usr/' + name);\n};\n\nTput.prototype._useInternalCap = function(name) {\n  name = path.basename(name);\n  return this.injectTermcap(__dirname + '/../usr/' + name + '.termcap');\n};\n\n/**\n * Terminfo\n */\n\nTput.ipaths = [\n  process.env.TERMINFO || '',\n  (process.env.TERMINFO_DIRS || '').split(':'),\n  (process.env.HOME || '') + '/.terminfo',\n  '/usr/share/terminfo',\n  '/usr/share/lib/terminfo',\n  '/usr/lib/terminfo',\n  '/usr/local/share/terminfo',\n  '/usr/local/share/lib/terminfo',\n  '/usr/local/lib/terminfo',\n  '/usr/local/ncurses/lib/terminfo',\n  '/lib/terminfo'\n];\n\nTput.prototype.readTerminfo = function(term) {\n  var data\n    , file\n    , info;\n\n  term = term || this.terminal;\n\n  file = path.normalize(this._prefix(term));\n  data = fs.readFileSync(file);\n  info = this.parseTerminfo(data, file);\n\n  if (this.debug) {\n    this._terminfo = info;\n  }\n\n  return info;\n};\n\nTput._prefix =\nTput.prototype._prefix = function(term) {\n  // If we have a terminfoFile, or our\n  // term looks like a filename, use it.\n  if (term) {\n    if (~term.indexOf(path.sep)) {\n      return term;\n    }\n    if (this.terminfoFile) {\n      return this.terminfoFile;\n    }\n  }\n\n  var paths = Tput.ipaths.slice()\n    , file;\n\n  if (this.terminfoPrefix) {\n    paths.unshift(this.terminfoPrefix);\n  }\n\n  // Try exact matches.\n  file = this._tprefix(paths, term);\n  if (file) return file;\n\n  // Try similar matches.\n  file = this._tprefix(paths, term, true);\n  if (file) return file;\n\n  // Not found.\n  throw new Error('Terminfo directory not found.');\n};\n\nTput._tprefix =\nTput.prototype._tprefix = function(prefix, term, soft) {\n  if (!prefix) return;\n\n  var file\n    , dir\n    , i\n    , sdiff\n    , sfile\n    , list;\n\n  if (Array.isArray(prefix)) {\n    for (i = 0; i < prefix.length; i++) {\n      file = this._tprefix(prefix[i], term, soft);\n      if (file) return file;\n    }\n    return;\n  }\n\n  var find = function(word) {\n    var file, ch;\n\n    file = path.resolve(prefix, word[0]);\n    try {\n      fs.statSync(file);\n      return file;\n    } catch (e) {\n      ;\n    }\n\n    ch = word[0].charCodeAt(0).toString(16);\n    if (ch.length < 2) ch = '0' + ch;\n\n    file = path.resolve(prefix, ch);\n    try {\n      fs.statSync(file);\n      return file;\n    } catch (e) {\n      ;\n    }\n  };\n\n  if (!term) {\n    // Make sure the directory's sub-directories\n    // are all one-letter, or hex digits.\n    // return find('x') ? prefix : null;\n    try {\n      dir = fs.readdirSync(prefix).filter(function(file) {\n        return file.length !== 1 && !/^[0-9a-fA-F]{2}$/.test(file);\n      });\n      if (!dir.length) {\n        return prefix;\n      }\n    } catch (e) {\n      ;\n    }\n    return;\n  }\n\n  term = path.basename(term);\n  dir = find(term);\n\n  if (!dir) return;\n\n  if (soft) {\n    try {\n      list = fs.readdirSync(dir);\n    } catch (e) {\n      return;\n    }\n\n    list.forEach(function(file) {\n      if (file.indexOf(term) === 0) {\n        var diff = file.length - term.length;\n        if (!sfile || diff < sdiff) {\n          sdiff = diff;\n          sfile = file;\n        }\n      }\n    });\n\n    return sfile && (soft || sdiff === 0)\n      ? path.resolve(dir, sfile)\n      : null;\n  }\n\n  file = path.resolve(dir, term);\n  try {\n    fs.statSync(file);\n    return file;\n  } catch (e) {\n    ;\n  }\n};\n\n/**\n * Terminfo Parser\n * All shorts are little-endian\n */\n\nTput.prototype.parseTerminfo = function(data, file) {\n  var info = {}\n    , extended\n    , l = data.length\n    , i = 0\n    , v\n    , o;\n\n  var h = info.header = {\n    dataSize: data.length,\n    headerSize: 12,\n    magicNumber: (data[1] << 8) | data[0],\n    namesSize: (data[3] << 8) | data[2],\n    boolCount: (data[5] << 8) | data[4],\n    numCount: (data[7] << 8) | data[6],\n    strCount: (data[9] << 8) | data[8],\n    strTableSize: (data[11] << 8) | data[10]\n  };\n\n  h.total = h.headerSize\n    + h.namesSize\n    + h.boolCount\n    + h.numCount * 2\n    + h.strCount * 2\n    + h.strTableSize;\n\n  i += h.headerSize;\n\n  // Names Section\n  var names = data.toString('ascii', i, i + h.namesSize - 1)\n    , parts = names.split('|')\n    , name = parts[0]\n    , desc = parts.pop();\n\n  info.name = name;\n  info.names = parts;\n  info.desc = desc;\n\n  info.dir = path.resolve(file, '..', '..');\n  info.file = file;\n\n  i += h.namesSize - 1;\n\n  // Names is nul-terminated.\n  assert.equal(data[i], 0);\n  i++;\n\n  // Booleans Section\n  // One byte for each flag\n  // Same order as <term.h>\n  info.bools = {};\n  l = i + h.boolCount;\n  o = 0;\n  for (; i < l; i++) {\n    v = Tput.bools[o++];\n    info.bools[v] = data[i] === 1;\n  }\n\n  // Null byte in between to make sure numbers begin on an even byte.\n  if (i % 2) {\n    assert.equal(data[i], 0);\n    i++;\n  }\n\n  // Numbers Section\n  info.numbers = {};\n  l = i + h.numCount * 2;\n  o = 0;\n  for (; i < l; i += 2) {\n    v = Tput.numbers[o++];\n    if (data[i + 1] === 0377 && data[i] === 0377) {\n      info.numbers[v] = -1;\n    } else {\n      info.numbers[v] = (data[i + 1] << 8) | data[i];\n    }\n  }\n\n  // Strings Section\n  info.strings = {};\n  l = i + h.strCount * 2;\n  o = 0;\n  for (; i < l; i += 2) {\n    v = Tput.strings[o++];\n    if (data[i + 1] === 0377 && data[i] === 0377) {\n      info.strings[v] = -1;\n    } else {\n      info.strings[v] = (data[i + 1] << 8) | data[i];\n    }\n  }\n\n  // String Table\n  Object.keys(info.strings).forEach(function(key) {\n    if (info.strings[key] === -1) {\n      delete info.strings[key];\n      return;\n    }\n\n    // Workaround: fix an odd bug in the screen-256color terminfo where it tries\n    // to set -1, but it appears to have {0xfe, 0xff} instead of {0xff, 0xff}.\n    // TODO: Possibly handle errors gracefully below, as well as in the\n    // extended info. Also possibly do: `if (info.strings[key] >= data.length)`.\n    if (info.strings[key] === 65534) {\n      delete info.strings[key];\n      return;\n    }\n\n    var s = i + info.strings[key]\n      , j = s;\n\n    while (data[j]) j++;\n\n    assert(j < data.length);\n\n    info.strings[key] = data.toString('ascii', s, j);\n  });\n\n  // Extended Header\n  if (this.extended !== false) {\n    i--;\n    i += h.strTableSize;\n    if (i % 2) {\n      assert.equal(data[i], 0);\n      i++;\n    }\n    l = data.length;\n    if (i < l - 1) {\n      try {\n        extended = this.parseExtended(data.slice(i));\n      } catch (e) {\n        if (this.debug) {\n          throw e;\n        }\n        return info;\n      }\n      info.header.extended = extended.header;\n      ['bools', 'numbers', 'strings'].forEach(function(key) {\n        merge(info[key], extended[key]);\n      });\n    }\n  }\n\n  return info;\n};\n\n/**\n * Extended Parsing\n */\n\n// Some data to help understand:\n\n// For xterm, non-extended header:\n// { dataSize: 3270,\n//   headerSize: 12,\n//   magicNumber: 282,\n//   namesSize: 48,\n//   boolCount: 38,\n//   numCount: 15,\n//   strCount: 413,\n//   strTableSize: 1388,\n//   total: 2342 }\n\n// For xterm, header:\n// Offset: 2342\n// { header:\n//    { dataSize: 928,\n//      headerSize: 10,\n//      boolCount: 2,\n//      numCount: 1,\n//      strCount: 57,\n//      strTableSize: 117,\n//      lastStrTableOffset: 680,\n//      total: 245 },\n\n// For xterm, layout:\n// { header: '0 - 10', // length: 10\n//   bools: '10 - 12', // length: 2\n//   numbers: '12 - 14', // length: 2\n//   strings: '14 - 128', // length: 114 (57 short)\n//   symoffsets: '128 - 248', // length: 120 (60 short)\n//   stringtable: '248 - 612', // length: 364\n//   sym: '612 - 928' } // length: 316\n//\n// How lastStrTableOffset works:\n//   data.length - h.lastStrTableOffset === 248\n//     (sym-offset end, string-table start)\n//   364 + 316 === 680 (lastStrTableOffset)\n// How strTableSize works:\n//   h.strCount + [symOffsetCount] === h.strTableSize\n//   57 + 60 === 117 (strTableSize)\n//   symOffsetCount doesn't actually exist in the header. it's just implied.\n// Getting the number of sym offsets:\n//   h.symOffsetCount = h.strTableSize - h.strCount;\n//   h.symOffsetSize = (h.strTableSize - h.strCount) * 2;\n\nTput.prototype.parseExtended = function(data) {\n  var info = {}\n    , l = data.length\n    , i = 0;\n\n  var h = info.header = {\n    dataSize: data.length,\n    headerSize: 10,\n    boolCount: (data[i + 1] << 8) | data[i + 0],\n    numCount: (data[i + 3] << 8) | data[i + 2],\n    strCount: (data[i + 5] << 8) | data[i + 4],\n    strTableSize: (data[i + 7] << 8) | data[i + 6],\n    lastStrTableOffset: (data[i + 9] << 8) | data[i + 8]\n  };\n\n  // h.symOffsetCount = h.strTableSize - h.strCount;\n\n  h.total = h.headerSize\n    + h.boolCount\n    + h.numCount * 2\n    + h.strCount * 2\n    + h.strTableSize;\n\n  i += h.headerSize;\n\n  // Booleans Section\n  // One byte for each flag\n  var _bools = [];\n  l = i + h.boolCount;\n  for (; i < l; i++) {\n    _bools.push(data[i] === 1);\n  }\n\n  // Null byte in between to make sure numbers begin on an even byte.\n  if (i % 2) {\n    assert.equal(data[i], 0);\n    i++;\n  }\n\n  // Numbers Section\n  var _numbers = [];\n  l = i + h.numCount * 2;\n  for (; i < l; i += 2) {\n    if (data[i + 1] === 0377 && data[i] === 0377) {\n      _numbers.push(-1);\n    } else {\n      _numbers.push((data[i + 1] << 8) | data[i]);\n    }\n  }\n\n  // Strings Section\n  var _strings = [];\n  l = i + h.strCount * 2;\n  for (; i < l; i += 2) {\n    if (data[i + 1] === 0377 && data[i] === 0377) {\n      _strings.push(-1);\n    } else {\n      _strings.push((data[i + 1] << 8) | data[i]);\n    }\n  }\n\n  // Pass over the sym offsets and get to the string table.\n  i = data.length - h.lastStrTableOffset;\n  // Might be better to do this instead if the file has trailing bytes:\n  // i += h.symOffsetCount * 2;\n\n  // String Table\n  var high = 0;\n  _strings.forEach(function(offset, k) {\n    if (offset === -1) {\n      _strings[k] = '';\n      return;\n    }\n\n    var s = i + offset\n      , j = s;\n\n    while (data[j]) j++;\n\n    assert(j < data.length);\n\n    // Find out where the string table ends by\n    // getting the highest string length.\n    if (high < j - i) {\n      high = j - i;\n    }\n\n    _strings[k] = data.toString('ascii', s, j);\n  });\n\n  // Symbol Table\n  // Add one to the highest string length because we didn't count \\0.\n  i += high + 1;\n  l = data.length;\n\n  var sym = []\n    , j;\n\n  for (; i < l; i++) {\n    j = i;\n    while (data[j]) j++;\n    sym.push(data.toString('ascii', i, j));\n    i = j;\n  }\n\n  // Identify by name\n  j = 0;\n\n  info.bools = {};\n  _bools.forEach(function(bool) {\n    info.bools[sym[j++]] = bool;\n  });\n\n  info.numbers = {};\n  _numbers.forEach(function(number) {\n    info.numbers[sym[j++]] = number;\n  });\n\n  info.strings = {};\n  _strings.forEach(function(string) {\n    info.strings[sym[j++]] = string;\n  });\n\n  // Should be the very last bit of data.\n  assert.equal(i, data.length);\n\n  return info;\n};\n\nTput.prototype.compileTerminfo = function(term) {\n  return this.compile(this.readTerminfo(term));\n};\n\nTput.prototype.injectTerminfo = function(term) {\n  return this.inject(this.compileTerminfo(term));\n};\n\n/**\n * Compiler - terminfo cap->javascript\n */\n\nTput.prototype.compile = function(info) {\n  var self = this;\n\n  if (!info) {\n    throw new Error('Terminal not found.');\n  }\n\n  this.detectFeatures(info);\n\n  this._debug(info);\n\n  info.all = {};\n  info.methods = {};\n\n  ['bools', 'numbers', 'strings'].forEach(function(type) {\n    Object.keys(info[type]).forEach(function(key) {\n      info.all[key] = info[type][key];\n      info.methods[key] = self._compile(info, key, info.all[key]);\n    });\n  });\n\n  Tput.bools.forEach(function(key) {\n    if (info.methods[key] == null) info.methods[key] = false;\n  });\n\n  Tput.numbers.forEach(function(key) {\n    if (info.methods[key] == null) info.methods[key] = -1;\n  });\n\n  Tput.strings.forEach(function(key) {\n    if (!info.methods[key]) info.methods[key] = noop;\n  });\n\n  Object.keys(info.methods).forEach(function(key) {\n    if (!Tput.alias[key]) return;\n    Tput.alias[key].forEach(function(alias) {\n      info.methods[alias] = info.methods[key];\n    });\n    // Could just use:\n    // Object.keys(Tput.aliasMap).forEach(function(key) {\n    //   info.methods[key] = info.methods[Tput.aliasMap[key]];\n    // });\n  });\n\n  return info;\n};\n\nTput.prototype.inject = function(info) {\n  var self = this\n    , methods = info.methods || info;\n\n  Object.keys(methods).forEach(function(key) {\n    if (typeof methods[key] !== 'function') {\n      self[key] = methods[key];\n      return;\n    }\n    self[key] = function() {\n      var args = Array.prototype.slice.call(arguments);\n      return methods[key].call(self, args);\n    };\n  });\n\n  this.info = info;\n  this.all = info.all;\n  this.methods = info.methods;\n  this.bools = info.bools;\n  this.numbers = info.numbers;\n  this.strings = info.strings;\n\n  if (!~info.names.indexOf(this.terminal)) {\n    this.terminal = info.name;\n  }\n\n  this.features = info.features;\n  Object.keys(info.features).forEach(function(key) {\n    if (key === 'padding') {\n      if (!info.features.padding && self.options.padding !== true) {\n        self.padding = false;\n      }\n      return;\n    }\n    self[key] = info.features[key];\n  });\n};\n\n// See:\n// ~/ncurses/ncurses/tinfo/lib_tparm.c\n// ~/ncurses/ncurses/tinfo/comp_scan.c\nTput.prototype._compile = function(info, key, str) {\n  var v;\n\n  this._debug('Compiling %s: %s', key, JSON.stringify(str));\n\n  switch (typeof str) {\n    case 'boolean':\n      return str;\n    case 'number':\n      return str;\n    case 'string':\n      break;\n    default:\n      return noop;\n  }\n\n  if (!str) {\n    return noop;\n  }\n\n  // See:\n  // ~/ncurses/progs/tput.c - tput() - L149\n  // ~/ncurses/progs/tset.c - set_init() - L992\n  if (key === 'init_file' || key === 'reset_file') {\n    try {\n      str = fs.readFileSync(str, 'utf8');\n      if (this.debug) {\n        v = ('return ' + JSON.stringify(str) + ';')\n          .replace(/\\x1b/g, '\\\\x1b')\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n');\n        process.stdout.write(v + '\\n');\n      }\n      return function() { return str; };\n    } catch (e) {\n      return noop;\n    }\n  }\n\n  var tkey = info.name + '.' + key\n    , header = 'var v, dyn = {}, stat = {}, stack = [], out = [];'\n    , footer = ';return out.join(\"\");'\n    , code = header\n    , val = str\n    , buff = ''\n    , cap\n    , ch\n    , fi\n    , then\n    , els\n    , end;\n\n  function read(regex, no) {\n    cap = regex.exec(val);\n    if (!cap) return;\n    val = val.substring(cap[0].length);\n    ch = cap[1];\n    if (!no) clear();\n    return cap;\n  }\n\n  function stmt(c) {\n    if (code[code.length - 1] === ',') {\n      code = code.slice(0, -1);\n    }\n    code += c;\n  }\n\n  function expr(c) {\n    code += c + ',';\n  }\n\n  function echo(c) {\n    if (c === '\"\"') return;\n    expr('out.push(' + c + ')');\n  }\n\n  function print(c) {\n    buff += c;\n  }\n\n  function clear() {\n    if (buff) {\n      echo(JSON.stringify(buff).replace(/\\\\u00([0-9a-fA-F]{2})/g, '\\\\x$1'));\n      buff = '';\n    }\n  }\n\n  while (val) {\n    // Ignore newlines\n    if (read(/^\\n /, true)) {\n      continue;\n    }\n\n    // '^A' -> ^A\n    if (read(/^\\^(.)/i, true)) {\n      if (!(ch >= ' ' && ch <= '~')) {\n        this._debug('%s: bad caret char.', tkey);\n        // NOTE: ncurses appears to simply\n        // continue in this situation, but\n        // I could be wrong.\n        print(cap[0]);\n        continue;\n      }\n      if (ch === '?') {\n        ch = '\\x7f';\n      } else {\n        ch = ch.charCodeAt(0) & 31;\n        if (ch === 0) ch = 128;\n        ch = String.fromCharCode(ch);\n      }\n      print(ch);\n      continue;\n    }\n\n    // 3 octal digits -> character\n    if (read(/^\\\\([0-7]{3})/, true)) {\n      print(String.fromCharCode(parseInt(ch, 8)));\n      continue;\n    }\n\n    // '\\e' -> ^[\n    // '\\n' -> \\n\n    // '\\r' -> \\r\n    // '\\0' -> \\200 (special case)\n    if (read(/^\\\\([eEnlrtbfs\\^\\\\,:0]|.)/, true)) {\n      switch (ch) {\n        case 'e':\n        case 'E':\n          ch = '\\x1b';\n          break;\n        case 'n':\n          ch = '\\n';\n          break;\n        case 'l':\n          ch = '\\x85';\n          break;\n        case 'r':\n          ch = '\\r';\n          break;\n        case 't':\n          ch = '\\t';\n          break;\n        case 'b':\n          ch = '\\x08';\n          break;\n        case 'f':\n          ch = '\\x0c';\n          break;\n        case 's':\n          ch = ' ';\n          break;\n        case '^':\n          ch = '^';\n          break;\n        case '\\\\':\n          ch = '\\\\';\n          break;\n        case ',':\n          ch = ',';\n          break;\n        case ':':\n          ch = ':';\n          break;\n        case '0':\n          ch = '\\200';\n          break;\n        case 'a':\n          ch = '\\x07';\n          break;\n        default:\n          this._debug('%s: bad backslash char.', tkey);\n          ch = cap[0];\n          break;\n      }\n      print(ch);\n      continue;\n    }\n\n    // $<5> -> padding\n    // e.g. flash_screen: '\\u001b[?5h$<100/>\\u001b[?5l',\n    if (read(/^\\$<(\\d+)([*\\/]{0,2})>/, true)) {\n      if (this.padding) print(cap[0]);\n      continue;\n    }\n\n    // %%   outputs `%'\n    if (read(/^%%/, true)) {\n      print('%');\n      continue;\n    }\n\n    // %[[:]flags][width[.precision]][doxXs]\n    //   as in printf, flags are [-+#] and space.  Use a `:' to allow the\n    //   next character to be a `-' flag, avoiding interpreting \"%-\" as an\n    //   operator.\n    // %c   print pop() like %c in printf\n    // Example from screen terminfo:\n    //   S0: \"\\u001b(%p1%c\"\n    // %d   print pop()\n    // \"Print (e.g., \"%d\") is a special case.\"\n    // %s   print pop() like %s in printf\n    if (read(/^%((?::-|[+# ]){1,4})?(\\d+(?:\\.\\d+)?)?([doxXsc])/)) {\n      if (this.printf || cap[1] || cap[2] || ~'oxX'.indexOf(cap[3])) {\n        echo('sprintf(\"'+ cap[0].replace(':-', '-') + '\", stack.pop())');\n      } else if (cap[3] === 'c') {\n        echo('(v = stack.pop(), isFinite(v) '\n          + '? String.fromCharCode(v || 0200) : \"\")');\n      } else {\n        echo('stack.pop()');\n      }\n      continue;\n    }\n\n    // %p[1-9]\n    //   push i'th parameter\n    if (read(/^%p([1-9])/)) {\n      expr('(stack.push(v = params[' + (ch - 1) + ']), v)');\n      continue;\n    }\n\n    // %P[a-z]\n    //   set dynamic variable [a-z] to pop()\n    if (read(/^%P([a-z])/)) {\n      expr('dyn.' + ch + ' = stack.pop()');\n      continue;\n    }\n\n    // %g[a-z]\n    //   get dynamic variable [a-z] and push it\n    if (read(/^%g([a-z])/)) {\n      expr('(stack.push(dyn.' + ch + '), dyn.' + ch + ')');\n      continue;\n    }\n\n    // %P[A-Z]\n    //   set static variable [a-z] to pop()\n    if (read(/^%P([A-Z])/)) {\n      expr('stat.' + ch + ' = stack.pop()');\n      continue;\n    }\n\n    // %g[A-Z]\n    //   get static variable [a-z] and push it\n    //   The  terms  \"static\"  and  \"dynamic\" are misleading.  Historically,\n    //   these are simply two different sets of variables, whose values are\n    //   not reset between calls to tparm.  However, that fact is not\n    //   documented in other implementations.  Relying on it will adversely\n    //   impact portability to other implementations.\n    if (read(/^%g([A-Z])/)) {\n      expr('(stack.push(v = stat.' + ch + '), v)');\n      continue;\n    }\n\n    // %'c' char constant c\n    // NOTE: These are stored as c chars, exemplified by:\n    // cursor_address: \"\\u001b=%p1%' '%+%c%p2%' '%+%c\"\n    if (read(/^%'(.)'/)) {\n      expr('(stack.push(v = ' + ch.charCodeAt(0) + '), v)');\n      continue;\n    }\n\n    // %{nn}\n    //   integer constant nn\n    if (read(/^%\\{(\\d+)\\}/)) {\n      expr('(stack.push(v = ' + ch + '), v)');\n      continue;\n    }\n\n    // %l   push strlen(pop)\n    if (read(/^%l/)) {\n      expr('(stack.push(v = (stack.pop() || \"\").length || 0), v)');\n      continue;\n    }\n\n    // %+ %- %* %/ %m\n    //   arithmetic (%m is mod): push(pop() op pop())\n    // %& %| %^\n    //   bit operations (AND, OR and exclusive-OR): push(pop() op pop())\n    // %= %> %<\n    //   logical operations: push(pop() op pop())\n    if (read(/^%([+\\-*\\/m&|\\^=><])/)) {\n      if (ch === '=') ch = '===';\n      else if (ch === 'm') ch = '%';\n      expr('(v = stack.pop(),'\n        + ' stack.push(v = (stack.pop() ' + ch + ' v) || 0),'\n        + ' v)');\n      continue;\n    }\n\n    // %A, %O\n    //   logical AND and OR operations (for conditionals)\n    if (read(/^%([AO])/)) {\n      // Are we supposed to store the result on the stack?\n      expr('(stack.push(v = (stack.pop() '\n        + (ch === 'A' ? '&&' : '||')\n        + ' stack.pop())), v)');\n      continue;\n    }\n\n    // %! %~\n    //   unary operations (logical and bit complement): push(op pop())\n    if (read(/^%([!~])/)) {\n      expr('(stack.push(v = ' + ch + 'stack.pop()), v)');\n      continue;\n    }\n\n    // %i   add 1 to first two parameters (for ANSI terminals)\n    if (read(/^%i/)) {\n      // Are these supposed to go on the stack in certain situations?\n      // ncurses doesn't seem to put them on the stack, but xterm.user6\n      // seems to assume they're on the stack for some reason. Could\n      // just be a bad terminfo string.\n      // user6: \"\\u001b[%i%d;%dR\" - possibly a termcap-style string.\n      // expr('(params[0] |= 0, params[1] |= 0, params[0]++, params[1]++)');\n      expr('(params[0]++, params[1]++)');\n      continue;\n    }\n\n    // %? expr %t thenpart %e elsepart %;\n    //   This forms an if-then-else.  The %e elsepart is optional.  Usually\n    //   the %? expr part pushes a value onto the stack, and %t pops it from\n    //   the stack, testing if it is nonzero (true).  If it is zero (false),\n    //   control passes to the %e (else) part.\n    //   It is possible to form else-if's a la Algol 68:\n    //     %? c1 %t b1 %e c2 %t b2 %e c3 %t b3 %e c4 %t b4 %e %;\n    //   where ci are conditions, bi are bodies.\n    if (read(/^%\\?/)) {\n      end = -1;\n      stmt(';if (');\n      continue;\n    }\n\n    if (read(/^%t/)) {\n      end = -1;\n      // Technically this is supposed to pop everything off the stack that was\n      // pushed onto the stack after the if statement, see man terminfo.\n      // Right now, we don't pop anything off. This could cause compat issues.\n      // Perhaps implement a \"pushed\" counter from the time the if statement\n      // is added, to the time the then statement is added, and pop off\n      // the appropriate number of elements.\n      // while (pushed--) expr('stack.pop()');\n      stmt(') {');\n      continue;\n    }\n\n    // Terminfo does elseif's like\n    // this: %?[expr]%t...%e[expr]%t...%;\n    if (read(/^%e/)) {\n      fi = val.indexOf('%?');\n      then = val.indexOf('%t');\n      els = val.indexOf('%e');\n      end = val.indexOf('%;');\n      if (end === -1) end = Infinity;\n      if (then !== -1 && then < end\n          && (fi === -1 || then < fi)\n          && (els === -1 || then < els)) {\n        stmt('} else if (');\n      } else {\n        stmt('} else {');\n      }\n      continue;\n    }\n\n    if (read(/^%;/)) {\n      end = null;\n      stmt('}');\n      continue;\n    }\n\n    buff += val[0];\n    val = val.substring(1);\n  }\n\n  // Clear the buffer of any remaining text.\n  clear();\n\n  // Some terminfos (I'm looking at you, atari-color), don't end an if\n  // statement. It's assumed terminfo will automatically end it for\n  // them, because they are a bunch of lazy bastards.\n  if (end != null) {\n    stmt('}');\n  }\n\n  // Add the footer.\n  stmt(footer);\n\n  // Optimize and cleanup generated code.\n  v = code.slice(header.length, -footer.length);\n  if (!v.length) {\n    code = 'return \"\";';\n  } else if (v = /^out\\.push\\((\"(?:[^\"]|\\\\\")+\")\\)$/.exec(v)) {\n    code = 'return ' + v[1] + ';';\n  } else {\n    // Turn `(stack.push(v = params[0]), v),out.push(stack.pop())`\n    // into `out.push(params[0])`.\n    code = code.replace(\n      /\\(stack\\.push\\(v = params\\[(\\d+)\\]\\), v\\),out\\.push\\(stack\\.pop\\(\\)\\)/g,\n      'out.push(params[$1])');\n\n    // Remove unnecessary variable initializations.\n    v = code.slice(header.length, -footer.length);\n    if (!~v.indexOf('v = ')) code = code.replace('v, ', '');\n    if (!~v.indexOf('dyn')) code = code.replace('dyn = {}, ', '');\n    if (!~v.indexOf('stat')) code = code.replace('stat = {}, ', '');\n    if (!~v.indexOf('stack')) code = code.replace('stack = [], ', '');\n\n    // Turn `var out = [];out.push(\"foo\"),` into `var out = [\"foo\"];`.\n    code = code.replace(\n      /out = \\[\\];out\\.push\\((\"(?:[^\"]|\\\\\")+\")\\),/,\n      'out = [$1];');\n  }\n\n  // Terminfos `wyse350-vb`, and `wy350-w`\n  // seem to have a few broken strings.\n  if (str === '\\u001b%?') {\n    code = 'return \"\\\\x1b\";';\n  }\n\n  if (this.debug) {\n    v = code\n      .replace(/\\x1b/g, '\\\\x1b')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/\\n/g, '\\\\n');\n    process.stdout.write(v + '\\n');\n  }\n\n  try {\n    if (this.options.stringify && code.indexOf('return ') === 0) {\n      return new Function('', code)();\n    }\n    return this.printf || ~code.indexOf('sprintf(')\n      ? new Function('sprintf, params', code).bind(null, sprintf)\n      : new Function('params', code);\n  } catch (e) {\n    console.error('');\n    console.error('Error on %s:', tkey);\n    console.error(JSON.stringify(str));\n    console.error('');\n    console.error(code.replace(/(,|;)/g, '$1\\n'));\n    e.stack = e.stack.replace(/\\x1b/g, '\\\\x1b');\n    throw e;\n  }\n};\n\n// See: ~/ncurses/ncurses/tinfo/lib_tputs.c\nTput.prototype._print = function(code, print, done) {\n  var xon = !this.bools.needs_xon_xoff || this.bools.xon_xoff;\n\n  print = print || write;\n  done = done || noop;\n\n  if (!this.padding) {\n    print(code);\n    return done();\n  }\n\n  var parts = code.split(/(?=\\$<[\\d.]+[*\\/]{0,2}>)/)\n    , i = 0;\n\n  (function next() {\n    if (i === parts.length) {\n      return done();\n    }\n\n    var part = parts[i++]\n      , padding = /^\\$<([\\d.]+)([*\\/]{0,2})>/.exec(part)\n      , amount\n      , suffix;\n      // , affect;\n\n    if (!padding) {\n      print(part);\n      return next();\n    }\n\n    part = part.substring(padding[0].length);\n    amount = +padding[1];\n    suffix = padding[2];\n\n    // A `/'  suffix indicates  that  the  padding  is  mandatory and forces a\n    // delay of the given number of milliseconds even on devices for which xon\n    // is present to indicate flow control.\n    if (xon && !~suffix.indexOf('/')) {\n      print(part);\n      return next();\n    }\n\n    // A `*' indicates that the padding required is proportional to the number\n    // of lines affected by the operation, and  the amount  given  is the\n    // per-affected-unit padding required.  (In the case of insert character,\n    // the factor is still the number of lines affected.) Normally, padding is\n    // advisory if the device has the xon capability; it is used for cost\n    // computation but does not trigger delays.\n    if (~suffix.indexOf('*')) {\n      // XXX Disable this for now.\n      amount = amount;\n      // if (affect = /\\x1b\\[(\\d+)[LM]/.exec(part)) {\n      //   amount *= +affect[1];\n      // }\n      // The above is a huge workaround. In reality, we need to compile\n      // `_print` into the string functions and check the cap name and\n      // params.\n      // if (cap === 'insert_line' || cap === 'delete_line') {\n      //   amount *= params[0];\n      // }\n      // if (cap === 'clear_screen') {\n      //   amount *= process.stdout.rows;\n      // }\n    }\n\n    return setTimeout(function() {\n      print(part);\n      return next();\n    }, amount);\n  })();\n};\n\n// A small helper function if we want\n// to easily output text with setTimeouts.\nTput.print = function() {\n  var fake = {\n    padding: true,\n    bools: { needs_xon_xoff: true, xon_xoff: false }\n  };\n  return Tput.prototype._print.apply(fake, arguments);\n};\n\n/**\n * Termcap\n */\n\nTput.cpaths = [\n  process.env.TERMCAP || '',\n  (process.env.TERMPATH || '').split(/[: ]/),\n  (process.env.HOME || '') + '/.termcap',\n  '/usr/share/misc/termcap',\n  '/etc/termcap'\n];\n\nTput.prototype.readTermcap = function(term) {\n  var self = this\n    , terms\n    , term_\n    , root\n    , paths;\n\n  term = term || this.terminal;\n\n  // Termcap has a bunch of terminals usually stored in one file/string,\n  // so we need to find the one containing our desired terminal.\n  if (~term.indexOf(path.sep) && (terms = this._tryCap(path.resolve(term)))) {\n    term_ = path.basename(term).split('.')[0];\n    if (terms[process.env.TERM]) {\n      term = process.env.TERM;\n    } else if (terms[term_]) {\n      term = term_;\n    } else {\n      term = Object.keys(terms)[0];\n    }\n  } else {\n    paths = Tput.cpaths.slice();\n\n    if (this.termcapFile) {\n      paths.unshift(this.termcapFile);\n    }\n\n    paths.push(Tput.termcap);\n\n    terms = this._tryCap(paths, term);\n  }\n\n  if (!terms) {\n    throw new Error('Cannot find termcap for: ' + term);\n  }\n\n  root = terms[term];\n\n  if (this.debug) {\n    this._termcap = terms;\n  }\n\n  (function tc(term) {\n    if (term && term.strings.tc) {\n      root.inherits = root.inherits || [];\n      root.inherits.push(term.strings.tc);\n\n      var names = terms[term.strings.tc]\n        ? terms[term.strings.tc].names\n        : [term.strings.tc];\n\n      self._debug('%s inherits from %s.',\n        term.names.join('/'), names.join('/'));\n\n      var inherit = tc(terms[term.strings.tc]);\n      if (inherit) {\n        ['bools', 'numbers', 'strings'].forEach(function(type) {\n          merge(term[type], inherit[type]);\n        });\n      }\n    }\n    return term;\n  })(root);\n\n  // Translate termcap names to terminfo-style names.\n  root = this.translateTermcap(root);\n\n  return root;\n};\n\nTput.prototype._tryCap = function(file, term) {\n  if (!file) return;\n\n  var terms\n    , data\n    , i;\n\n  if (Array.isArray(file)) {\n    for (i = 0; i < file.length; i++) {\n      data = this._tryCap(file[i], term);\n      if (data) return data;\n    }\n    return;\n  }\n\n  // If the termcap string starts with `/`,\n  // ncurses considers it a filename.\n  data = file[0] === '/'\n    ? tryRead(file)\n    : file;\n\n  if (!data) return;\n\n  terms = this.parseTermcap(data, file);\n\n  if (term && !terms[term]) {\n    return;\n  }\n\n  return terms;\n};\n\n/**\n * Termcap Parser\n *  http://en.wikipedia.org/wiki/Termcap\n *  http://www.gnu.org/software\n *    /termutils/manual/termcap-1.3/html_mono/termcap.html\n *  http://www.gnu.org/software\n *    /termutils/manual/termcap-1.3/html_mono/termcap.html#SEC17\n *  http://tldp.org/HOWTO/Text-Terminal-HOWTO.html#toc16\n *  man termcap\n */\n\n// Example:\n// vt102|dec vt102:\\\n//  :do=^J:co#80:li#24:cl=50\\E[;H\\E[2J:\\\n//  :le=^H:bs:cm=5\\E[%i%d;%dH:nd=2\\E[C:up=2\\E[A:\\\n//  :ce=3\\E[K:cd=50\\E[J:so=2\\E[7m:se=2\\E[m:us=2\\E[4m:ue=2\\E[m:\\\n//  :md=2\\E[1m:mr=2\\E[7m:mb=2\\E[5m:me=2\\E[m:is=\\E[1;24r\\E[24;1H:\\\n//  :rs=\\E>\\E[?3l\\E[?4l\\E[?5l\\E[?7h\\E[?8h:ks=\\E[?1h\\E=:ke=\\E[?1l\\E>:\\\n//  :ku=\\EOA:kd=\\EOB:kr=\\EOC:kl=\\EOD:kb=^H:\\\n//  :ho=\\E[H:k1=\\EOP:k2=\\EOQ:k3=\\EOR:k4=\\EOS:pt:sr=5\\EM:vt#3:\\\n//  :sc=\\E7:rc=\\E8:cs=\\E[%i%d;%dr:vs=\\E[?7l:ve=\\E[?7h:\\\n//  :mi:al=\\E[L:dc=\\E[P:dl=\\E[M:ei=\\E[4l:im=\\E[4h:\n\nTput.prototype.parseTermcap = function(data, file) {\n  var terms = {}\n    , parts\n    , term\n    , entries\n    , fields\n    , field\n    , names\n    , i\n    , j\n    , k;\n\n  // remove escaped newlines\n  data = data.replace(/\\\\\\n[ \\t]*/g, '');\n\n  // remove comments\n  data = data.replace(/^#[^\\n]+/gm, '');\n\n  // split entries\n  entries = data.trim().split(/\\n+/);\n\n  for (i = 0; i < entries.length; i++) {\n    fields = entries[i].split(/:+/);\n    for (j = 0; j < fields.length; j++) {\n      field = fields[j].trim();\n      if (!field) continue;\n\n      if (j === 0) {\n        names = field.split('|');\n        term = {\n          name: names[0],\n          names: names,\n          desc: names.pop(),\n          file: ~file.indexOf(path.sep)\n            ? path.resolve(file)\n            : file,\n          termcap: true\n        };\n\n        for (k = 0; k < names.length; k++) {\n          terms[names[k]] = term;\n        }\n\n        term.bools = {};\n        term.numbers = {};\n        term.strings = {};\n\n        continue;\n      }\n\n      if (~field.indexOf('=')) {\n        parts = field.split('=');\n        term.strings[parts[0]] = parts.slice(1).join('=');\n      } else if (~field.indexOf('#')) {\n        parts = field.split('#');\n        term.numbers[parts[0]] = +parts.slice(1).join('#');\n      } else {\n        term.bools[field] = true;\n      }\n    }\n  }\n\n  return terms;\n};\n\n/**\n * Termcap Compiler\n *  man termcap\n */\n\nTput.prototype.translateTermcap = function(info) {\n  var self = this\n    , out = {};\n\n  if (!info) return;\n\n  this._debug(info);\n\n  ['name', 'names', 'desc', 'file', 'termcap'].forEach(function(key) {\n    out[key] = info[key];\n  });\n\n  // Separate aliases for termcap\n  var map = (function() {\n    var out = {};\n\n    Object.keys(Tput.alias).forEach(function(key) {\n      var aliases = Tput.alias[key];\n      out[aliases.termcap] = key;\n    });\n\n    return out;\n  })();\n\n  // Translate termcap cap names to terminfo cap names.\n  // e.g. `up` -> `cursor_up`\n  ['bools', 'numbers', 'strings'].forEach(function(key) {\n    out[key] = {};\n    Object.keys(info[key]).forEach(function(cap) {\n      if (key === 'strings') {\n        info.strings[cap] = self._captoinfo(cap, info.strings[cap], 1);\n      }\n      if (map[cap]) {\n        out[key][map[cap]] = info[key][cap];\n      } else {\n        // NOTE: Possibly include all termcap names\n        // in a separate alias.js file. Some are\n        // missing from the terminfo alias.js file\n        // which is why we have to do this:\n        // See: $ man termcap\n        out[key][cap] = info[key][cap];\n      }\n    });\n  });\n\n  return out;\n};\n\nTput.prototype.compileTermcap = function(term) {\n  return this.compile(this.readTermcap(term));\n};\n\nTput.prototype.injectTermcap = function(term) {\n  return this.inject(this.compileTermcap(term));\n};\n\n/**\n * _nc_captoinfo - ported to javascript directly from ncurses.\n * Copyright (c) 1998-2009,2010 Free Software Foundation, Inc.\n * See: ~/ncurses/ncurses/tinfo/captoinfo.c\n *\n * Convert a termcap string to terminfo format.\n * 'cap' is the relevant terminfo capability index.\n * 's' is the string value of the capability.\n * 'parameterized' tells what type of translations to do:\n *    % translations if 1\n *    pad translations if >=0\n */\n\nTput.prototype._captoinfo = function(cap, s, parameterized) {\n  var self = this;\n\n  var capstart;\n\n  if (parameterized == null) {\n    parameterized = 0;\n  }\n\n  var MAX_PUSHED = 16\n    , stack = [];\n\n  var stackptr = 0\n    , onstack = 0\n    , seenm = 0\n    , seenn = 0\n    , seenr = 0\n    , param = 1\n    , i = 0\n    , out = '';\n\n  function warn() {\n    var args = Array.prototype.slice.call(arguments);\n    args[0] = 'captoinfo: ' + (args[0] || '');\n    return self._debug.apply(self, args);\n  }\n\n  function isdigit(ch) {\n    return ch >= '0' && ch <= '9';\n  }\n\n  function isgraph(ch) {\n    return ch > ' ' && ch <= '~';\n  }\n\n  // convert a character to a terminfo push\n  function cvtchar(sp) {\n    var c = '\\0'\n      , len;\n\n    var j = i;\n\n    switch (sp[j]) {\n      case '\\\\':\n        switch (sp[++j]) {\n          case '\\'':\n          case '$':\n          case '\\\\':\n          case '%':\n            c = sp[j];\n            len = 2;\n            break;\n          case '\\0':\n            c = '\\\\';\n            len = 1;\n            break;\n          case '0':\n          case '1':\n          case '2':\n          case '3':\n            len = 1;\n            while (isdigit(sp[j])) {\n              c = String.fromCharCode(8 * c.charCodeAt(0)\n                + (sp[j++].charCodeAt(0) - '0'.charCodeAt(0)));\n              len++;\n            }\n            break;\n          default:\n            c = sp[j];\n            len = 2;\n            break;\n        }\n        break;\n      case '^':\n        c = String.fromCharCode(sp[++j].charCodeAt(0) & 0x1f);\n        len = 2;\n        break;\n      default:\n        c = sp[j];\n        len = 1;\n    }\n    if (isgraph(c) && c !== ',' && c !== '\\'' && c !== '\\\\' && c !== ':') {\n      out += '%\\'';\n      out += c;\n      out += '\\'';\n    } else {\n      out += '%{';\n      if (c.charCodeAt(0) > 99) {\n        out += String.fromCharCode(\n          (c.charCodeAt(0) / 100 | 0) + '0'.charCodeAt(0));\n      }\n      if (c.charCodeAt(0) > 9) {\n        out += String.fromCharCode(\n          (c.charCodeAt(0) / 10 | 0) % 10 + '0'.charCodeAt(0));\n      }\n      out += String.fromCharCode(\n        c.charCodeAt(0) % 10 + '0'.charCodeAt(0));\n      out += '}';\n    }\n\n    return len;\n  }\n\n  // push n copies of param on the terminfo stack if not already there\n  function getparm(parm, n) {\n    if (seenr) {\n      if (parm === 1) {\n        parm = 2;\n      } else if (parm === 2) {\n        parm = 1;\n      }\n    }\n\n    if (onstack === parm) {\n      if (n > 1) {\n        warn('string may not be optimal');\n        out += '%Pa';\n        while (n--) {\n          out += '%ga';\n        }\n      }\n      return;\n    }\n\n    if (onstack !== 0) {\n      push();\n    }\n\n    onstack = parm;\n\n    while (n--) {\n      out += '%p';\n      out += String.fromCharCode('0'.charCodeAt(0) + parm);\n    }\n\n    if (seenn && parm < 3) {\n      out += '%{96}%^';\n    }\n\n    if (seenm && parm < 3) {\n      out += '%{127}%^';\n    }\n  }\n\n  // push onstack on to the stack\n  function push() {\n    if (stackptr >= MAX_PUSHED) {\n      warn('string too complex to convert');\n    } else {\n      stack[stackptr++] = onstack;\n    }\n  }\n\n  // pop the top of the stack into onstack\n  function pop() {\n    if (stackptr === 0) {\n      if (onstack === 0) {\n        warn('I\\'m confused');\n      } else {\n        onstack = 0;\n      }\n    } else {\n      onstack = stack[--stackptr];\n    }\n    param++;\n  }\n\n  function see03() {\n    getparm(param, 1);\n    out += '%3d';\n    pop();\n  }\n\n  function invalid() {\n    out += '%';\n    i--;\n    warn('unknown %% code %s (%#x) in %s',\n      JSON.stringify(s[i]), s[i].charCodeAt(0), cap);\n  }\n\n  // skip the initial padding (if we haven't been told not to)\n  capstart = null;\n  if (s == null) s = '';\n\n  if (parameterized >= 0 && isdigit(s[i])) {\n    for (capstart = i;; i++) {\n      if (!(isdigit(s[i]) || s[i] === '*' || s[i] === '.')) {\n        break;\n      }\n    }\n  }\n\n  while (s[i]) {\n    switch (s[i]) {\n      case '%':\n        i++;\n        if (parameterized < 1) {\n          out += '%';\n          break;\n        }\n        switch (s[i++]) {\n          case '%':\n            out += '%';\n            break;\n          case 'r':\n            if (seenr++ === 1) {\n              warn('saw %%r twice in %s', cap);\n            }\n            break;\n          case 'm':\n            if (seenm++ === 1) {\n              warn('saw %%m twice in %s', cap);\n            }\n            break;\n          case 'n':\n            if (seenn++ === 1) {\n              warn('saw %%n twice in %s', cap);\n            }\n            break;\n          case 'i':\n            out += '%i';\n            break;\n          case '6':\n          case 'B':\n            getparm(param, 1);\n            out += '%{10}%/%{16}%*';\n            getparm(param, 1);\n            out += '%{10}%m%+';\n            break;\n          case '8':\n          case 'D':\n            getparm(param, 2);\n            out += '%{2}%*%-';\n            break;\n          case '>':\n            getparm(param, 2);\n            // %?%{x}%>%t%{y}%+%;\n            out += '%?';\n            i += cvtchar(s);\n            out += '%>%t';\n            i += cvtchar(s);\n            out += '%+%;';\n            break;\n          case 'a':\n            if ((s[i] === '=' || s[i] === '+' || s[i] === '-'\n                || s[i] === '*' || s[i] === '/')\n                && (s[i + 1] === 'p' || s[i + 1] === 'c')\n                && s[i + 2] !== '\\0' && s[i + 2]) {\n              var l;\n              l = 2;\n              if (s[i] !== '=') {\n                getparm(param, 1);\n              }\n              if (s[i + 1] === 'p') {\n                getparm(param + s[i + 2].charCodeAt(0) - '@'.charCodeAt(0), 1);\n                if (param !== onstack) {\n                  pop();\n                  param--;\n                }\n                l++;\n              } else {\n                i += 2, l += cvtchar(s), i -= 2;\n              }\n              switch (s[i]) {\n                case '+':\n                  out += '%+';\n                  break;\n                case '-':\n                  out += '%-';\n                  break;\n                case '*':\n                  out += '%*';\n                  break;\n                case '/':\n                  out += '%/';\n                  break;\n                case '=':\n                  if (seenr) {\n                    if (param === 1) {\n                      onstack = 2;\n                    } else if (param === 2) {\n                      onstack = 1;\n                    } else {\n                      onstack = param;\n                    }\n                  } else {\n                    onstack = param;\n                  }\n                  break;\n              }\n              i += l;\n              break;\n            }\n            getparm(param, 1);\n            i += cvtchar(s);\n            out += '%+';\n            break;\n          case '+':\n            getparm(param, 1);\n            i += cvtchar(s);\n            out += '%+%c';\n            pop();\n            break;\n          case 's':\n// #ifdef WATERLOO\n//          i += cvtchar(s);\n//          getparm(param, 1);\n//          out += '%-';\n// #else\n            getparm(param, 1);\n            out += '%s';\n            pop();\n// #endif /* WATERLOO */\n            break;\n          case '-':\n            i += cvtchar(s);\n            getparm(param, 1);\n            out += '%-%c';\n            pop();\n            break;\n          case '.':\n            getparm(param, 1);\n            out += '%c';\n            pop();\n            break;\n          case '0': // not clear any of the historical termcaps did this\n            if (s[i] === '3') {\n              see03(); // goto\n              break;\n            } else if (s[i] !== '2') {\n              invalid(); // goto\n              break;\n            }\n            // FALLTHRU\n          case '2':\n            getparm(param, 1);\n            out += '%2d';\n            pop();\n            break;\n          case '3':\n            see03();\n            break;\n          case 'd':\n            getparm(param, 1);\n            out += '%d';\n            pop();\n            break;\n          case 'f':\n            param++;\n            break;\n          case 'b':\n            param--;\n            break;\n          case '\\\\':\n            out += '%\\\\';\n            break;\n          default:\n            invalid();\n            break;\n        }\n        break;\n// #ifdef REVISIBILIZE\n//    case '\\\\':\n//      out += s[i++];\n//      out += s[i++];\n//      break;\n//    case '\\n':\n//      out += '\\\\n';\n//      i++;\n//      break;\n//    case '\\t':\n//      out += '\\\\t';\n//      i++;\n//      break;\n//    case '\\r':\n//      out += '\\\\r';\n//      i++;\n//      break;\n//    case '\\200':\n//      out += '\\\\0';\n//      i++;\n//      break;\n//    case '\\f':\n//      out += '\\\\f';\n//      i++;\n//      break;\n//    case '\\b':\n//      out += '\\\\b';\n//      i++;\n//      break;\n//    case ' ':\n//      out += '\\\\s';\n//      i++;\n//      break;\n//    case '^':\n//      out += '\\\\^';\n//      i++;\n//      break;\n//    case ':':\n//      out += '\\\\:';\n//      i++;\n//      break;\n//    case ',':\n//      out += '\\\\,';\n//      i++;\n//      break;\n//    default:\n//      if (s[i] === '\\033') {\n//        out += '\\\\E';\n//        i++;\n//      } else if (s[i].charCodeAt(0) > 0 && s[i].charCodeAt(0) < 32) {\n//        out += '^';\n//        out += String.fromCharCode(s[i].charCodeAt(0) + '@'.charCodeAt(0));\n//        i++;\n//      } else if (s[i].charCodeAt(0) <= 0 || s[i].charCodeAt(0) >= 127) {\n//        out += '\\\\';\n//        out += String.fromCharCode(\n//          ((s[i].charCodeAt(0) & 0300) >> 6) + '0'.charCodeAt(0));\n//        out += String.fromCharCode(\n//          ((s[i].charCodeAt(0) & 0070) >> 3) + '0'.charCodeAt(0));\n//        out += String.fromCharCode(\n//          (s[i].charCodeAt(0) & 0007) + '0'.charCodeAt(0));\n//        i++;\n//      } else {\n//        out += s[i++];\n//      }\n//      break;\n// #else\n      default:\n        out += s[i++];\n        break;\n// #endif\n    }\n  }\n\n  // Now, if we stripped off some leading padding, add it at the end\n  // of the string as mandatory padding.\n  if (capstart != null) {\n    out += '$<';\n    for (i = capstart;; i++) {\n      if (isdigit(s[i]) || s[i] === '*' || s[i] === '.') {\n        out += s[i];\n      } else {\n        break;\n      }\n    }\n    out += '/>';\n  }\n\n  if (s !== out) {\n    warn('Translating %s from %s to %s.',\n      cap, JSON.stringify(s), JSON.stringify(out));\n  }\n\n  return out;\n};\n\n/**\n * Compile All Terminfo\n */\n\nTput.prototype.getAll = function() {\n  var dir = this._prefix()\n    , list = asort(fs.readdirSync(dir))\n    , infos = [];\n\n  list.forEach(function(letter) {\n    var terms = asort(fs.readdirSync(path.resolve(dir, letter)));\n    infos.push.apply(infos, terms);\n  });\n\n  function asort(obj) {\n    return obj.sort(function(a, b) {\n      a = a.toLowerCase().charCodeAt(0);\n      b = b.toLowerCase().charCodeAt(0);\n      return a - b;\n    });\n  }\n\n  return infos;\n};\n\nTput.prototype.compileAll = function(start) {\n  var self = this\n    , all = {};\n\n  this.getAll().forEach(function(name) {\n    if (start && name !== start) {\n      return;\n    } else {\n      start = null;\n    }\n    all[name] = self.compileTerminfo(name);\n  });\n\n  return all;\n};\n\n/**\n * Detect Features / Quirks\n */\n\nTput.prototype.detectFeatures = function(info) {\n  var data = this.parseACS(info);\n  info.features = {\n    unicode: this.detectUnicode(info),\n    brokenACS: this.detectBrokenACS(info),\n    PCRomSet: this.detectPCRomSet(info),\n    magicCookie: this.detectMagicCookie(info),\n    padding: this.detectPadding(info),\n    setbuf: this.detectSetbuf(info),\n    acsc: data.acsc,\n    acscr: data.acscr\n  };\n  return info.features;\n};\n\nTput.prototype.detectUnicode = function() {\n  if (this.options.forceUnicode != null) {\n    return this.options.forceUnicode;\n  }\n\n  var LANG = process.env.LANG\n    + ':' + process.env.LANGUAGE\n    + ':' + process.env.LC_ALL\n    + ':' + process.env.LC_CTYPE;\n\n  return /utf-?8/i.test(LANG) || (this.GetConsoleCP() === 65001);\n};\n\n// For some reason TERM=linux has smacs/rmacs, but it maps to `^[[11m`\n// and it does not switch to the DEC SCLD character set. What the hell?\n// xterm: \\x1b(0, screen: \\x0e, linux: \\x1b[11m (doesn't work)\n// `man console_codes` says:\n// 11  select null mapping, set display control flag, reset tog\u2010\n//     gle meta flag (ECMA-48 says \"first alternate font\").\n// See ncurses:\n// ~/ncurses/ncurses/base/lib_set_term.c\n// ~/ncurses/ncurses/tinfo/lib_acs.c\n// ~/ncurses/ncurses/tinfo/tinfo_driver.c\n// ~/ncurses/ncurses/tinfo/lib_setup.c\nTput.prototype.detectBrokenACS = function(info) {\n  // ncurses-compatible env variable.\n  if (process.env.NCURSES_NO_UTF8_ACS != null) {\n    return !!+process.env.NCURSES_NO_UTF8_ACS;\n  }\n\n  // If the terminal supports unicode, we don't need ACS.\n  if (info.numbers.U8 >= 0) {\n    return !!info.numbers.U8;\n  }\n\n  // The linux console is just broken for some reason.\n  // Apparently the Linux console does not support ACS,\n  // but it does support the PC ROM character set.\n  if (info.name === 'linux') {\n    return true;\n  }\n\n  // PC alternate charset\n  // if (acsc.indexOf('+\\x10,\\x11-\\x18.\\x190') === 0) {\n  if (this.detectPCRomSet(info)) {\n    return true;\n  }\n\n  // screen termcap is bugged?\n  if (this.termcap\n      && info.name.indexOf('screen') === 0\n      && process.env.TERMCAP\n      && ~process.env.TERMCAP.indexOf('screen')\n      && ~process.env.TERMCAP.indexOf('hhII00')) {\n    if (~info.strings.enter_alt_charset_mode.indexOf('\\016')\n        || ~info.strings.enter_alt_charset_mode.indexOf('\\017')\n        || ~info.strings.set_attributes.indexOf('\\016')\n        || ~info.strings.set_attributes.indexOf('\\017')) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n// If enter_pc_charset is the same as enter_alt_charset,\n// the terminal does not support SCLD as ACS.\n// See: ~/ncurses/ncurses/tinfo/lib_acs.c\nTput.prototype.detectPCRomSet = function(info) {\n  var s = info.strings;\n  if (s.enter_pc_charset_mode && s.enter_alt_charset_mode\n      && s.enter_pc_charset_mode === s.enter_alt_charset_mode\n      && s.exit_pc_charset_mode === s.exit_alt_charset_mode) {\n    return true;\n  }\n  return false;\n};\n\nTput.prototype.detectMagicCookie = function() {\n  return process.env.NCURSES_NO_MAGIC_COOKIE == null;\n};\n\nTput.prototype.detectPadding = function() {\n  return process.env.NCURSES_NO_PADDING == null;\n};\n\nTput.prototype.detectSetbuf = function() {\n  return process.env.NCURSES_NO_SETBUF == null;\n};\n\nTput.prototype.parseACS = function(info) {\n  var data = {};\n\n  data.acsc = {};\n  data.acscr = {};\n\n  // Possibly just return an empty object, as done here, instead of\n  // specifically saying ACS is \"broken\" above. This would be more\n  // accurate to ncurses logic. But it doesn't really matter.\n  if (this.detectPCRomSet(info)) {\n    return data;\n  }\n\n  // See: ~/ncurses/ncurses/tinfo/lib_acs.c: L208\n  Object.keys(Tput.acsc).forEach(function(ch) {\n    var acs_chars = info.strings.acs_chars || ''\n      , i = acs_chars.indexOf(ch)\n      , next = acs_chars[i + 1];\n\n    if (!next || i === -1 || !Tput.acsc[next]) {\n      return;\n    }\n\n    data.acsc[ch] = Tput.acsc[next];\n    data.acscr[Tput.acsc[next]] = ch;\n  });\n\n  return data;\n};\n\nTput.prototype.GetConsoleCP = function() {\n  var ccp;\n\n  if (process.platform !== 'win32') {\n    return -1;\n  }\n\n  // Allow unicode on all windows consoles for now:\n  if (+process.env.NCURSES_UNICODE !== 0) {\n    return 65001;\n  }\n\n  // cp.execSync('chcp 65001', { stdio: 'ignore', timeout: 1500 });\n\n  try {\n    // Produces something like: 'Active code page: 437\\n\\n'\n    ccp = cp.execFileSync(process.env.WINDIR + '\\\\system32\\\\chcp.com', [], {\n      stdio: ['ignore', 'pipe', 'ignore'],\n      encoding: 'ascii',\n      timeout: 1500\n    });\n    // ccp = cp.execSync('chcp', {\n    //   stdio: ['ignore', 'pipe', 'ignore'],\n    //   encoding: 'ascii',\n    //   timeout: 1500\n    // });\n  } catch (e) {\n    ;\n  }\n\n  ccp = /\\d+/.exec(ccp);\n\n  if (!ccp) {\n    return -1;\n  }\n\n  ccp = +ccp[0];\n\n  return ccp;\n};\n\n/**\n * Helpers\n */\n\nfunction noop() {\n  return '';\n}\n\nnoop.unsupported = true;\n\nfunction merge(a, b) {\n  Object.keys(b).forEach(function(key) {\n    a[key] = b[key];\n  });\n  return a;\n}\n\nfunction write(data) {\n  return process.stdout.write(data);\n}\n\nfunction tryRead(file) {\n  if (Array.isArray(file)) {\n    for (var i = 0; i < file.length; i++) {\n      var data = tryRead(file[i]);\n      if (data) return data;\n    }\n    return '';\n  }\n  if (!file) return '';\n  file = path.resolve.apply(path, arguments);\n  try {\n    return fs.readFileSync(file, 'utf8');\n  } catch (e) {\n    return '';\n  }\n}\n\n/**\n * sprintf\n *  http://www.cplusplus.com/reference/cstdio/printf/\n */\n\nfunction sprintf(src) {\n  var params = Array.prototype.slice.call(arguments, 1)\n    , rule = /%([\\-+# ]{1,4})?(\\d+(?:\\.\\d+)?)?([doxXsc])/g\n    , i = 0;\n\n  return src.replace(rule, function(_, flag, width, type) {\n    var flags = (flag || '').split('')\n      , param = params[i] != null ? params[i] : ''\n      , initial = param\n      // , width = +width\n      , opt = {}\n      , pre = '';\n\n    i++;\n\n    switch (type) {\n      case 'd': // signed int\n        param = (+param).toString(10);\n        break;\n      case 'o': // unsigned octal\n        param = (+param).toString(8);\n        break;\n      case 'x': // unsigned hex int\n        param = (+param).toString(16);\n        break;\n      case 'X': // unsigned hex int uppercase\n        param = (+param).toString(16).toUppercase();\n        break;\n      case 's': // string\n        break;\n      case 'c': // char\n        param = isFinite(param)\n          ? String.fromCharCode(param || 0200)\n          : '';\n        break;\n    }\n\n    flags.forEach(function(flag) {\n      switch (flag) {\n        // left-justify by width\n        case '-':\n          opt.left = true;\n          break;\n        // always precede numbers with their signs\n        case '+':\n          opt.signs = true;\n          break;\n        // used with o, x, X - value is preceded with 0, 0x, or 0X respectively.\n        // used with a, A, e, E, f, F, g, G - forces written output to contain\n        // a decimal point even if no more digits follow\n        case '#':\n          opt.hexpoint = true;\n          break;\n        // if no sign is going to be written, black space in front of the value\n        case ' ':\n          opt.space = true;\n          break;\n      }\n    });\n\n    width = +width.split('.')[0];\n\n    // Should this be for opt.left too?\n    // Example: %2.2X - turns 0 into 00\n    if (width && !opt.left) {\n      param = param + '';\n      while (param.length < width) {\n        param = '0' + param;\n      }\n    }\n\n    if (opt.signs) {\n      if (+initial >= 0) {\n        pre += '+';\n      }\n    }\n\n    if (opt.space) {\n      if (!opt.signs && +initial >= 0) {\n        pre += ' ';\n      }\n    }\n\n    if (opt.hexpoint) {\n      switch (type) {\n        case 'o': // unsigned octal\n          pre += '0';\n          break;\n        case 'x': // unsigned hex int\n          pre += '0x';\n          break;\n        case 'X': // unsigned hex int uppercase\n          pre += '0X';\n          break;\n      }\n    }\n\n    if (opt.left) {\n      if (width > (pre.length + param.length)) {\n        width -= pre.length + param.length;\n        pre = Array(width + 1).join(' ') + pre;\n      }\n    }\n\n    return pre + param;\n  });\n}\n\n/**\n * Aliases\n */\n\nTput._alias = require('./alias');\n\nTput.alias = {};\n\n['bools', 'numbers', 'strings'].forEach(function(type) {\n  Object.keys(Tput._alias[type]).forEach(function(key) {\n    var aliases = Tput._alias[type][key];\n    Tput.alias[key] = [aliases[0]];\n    Tput.alias[key].terminfo = aliases[0];\n    Tput.alias[key].termcap = aliases[1];\n  });\n});\n\n// Bools\nTput.alias.no_esc_ctlc.push('beehive_glitch');\nTput.alias.dest_tabs_magic_smso.push('teleray_glitch');\n\n// Numbers\nTput.alias.micro_col_size.push('micro_char_size');\n\n/**\n * Feature Checking\n */\n\nTput.aliasMap = {};\n\nObject.keys(Tput.alias).forEach(function(key) {\n  Tput.aliasMap[key] = key;\n  Tput.alias[key].forEach(function(k) {\n    Tput.aliasMap[k] = key;\n  });\n});\n\nTput.prototype.has = function(name) {\n  name = Tput.aliasMap[name];\n\n  var val = this.all[name];\n\n  if (!name) return false;\n\n  if (typeof val === 'number') {\n    return val !== -1;\n  }\n\n  return !!val;\n};\n\n/**\n * Fallback Termcap Entry\n */\n\nTput.termcap = ''\n  + 'vt102|dec vt102:'\n  + ':do=^J:co#80:li#24:cl=50\\\\E[;H\\\\E[2J:'\n  + ':le=^H:bs:cm=5\\\\E[%i%d;%dH:nd=2\\\\E[C:up=2\\\\E[A:'\n  + ':ce=3\\\\E[K:cd=50\\\\E[J:so=2\\\\E[7m:se=2\\\\E[m:us=2\\\\E[4m:ue=2\\\\E[m:'\n  + ':md=2\\\\E[1m:mr=2\\\\E[7m:mb=2\\\\E[5m:me=2\\\\E[m:is=\\\\E[1;24r\\\\E[24;1H:'\n  + ':rs=\\\\E>\\\\E[?3l\\\\E[?4l\\\\E[?5l\\\\E[?7h\\\\E[?8h:ks=\\\\E[?1h\\\\E=:ke=\\\\E[?1l\\\\E>:'\n  + ':ku=\\\\EOA:kd=\\\\EOB:kr=\\\\EOC:kl=\\\\EOD:kb=^H:\\\\\\n'\n  + ':ho=\\\\E[H:k1=\\\\EOP:k2=\\\\EOQ:k3=\\\\EOR:k4=\\\\EOS:pt:sr=5\\\\EM:vt#3:'\n  + ':sc=\\\\E7:rc=\\\\E8:cs=\\\\E[%i%d;%dr:vs=\\\\E[?7l:ve=\\\\E[?7h:'\n  + ':mi:al=\\\\E[L:dc=\\\\E[P:dl=\\\\E[M:ei=\\\\E[4l:im=\\\\E[4h:';\n\n/**\n * Terminfo Data\n */\n\nTput.bools = [\n  'auto_left_margin',\n  'auto_right_margin',\n  'no_esc_ctlc',\n  'ceol_standout_glitch',\n  'eat_newline_glitch',\n  'erase_overstrike',\n  'generic_type',\n  'hard_copy',\n  'has_meta_key',\n  'has_status_line',\n  'insert_null_glitch',\n  'memory_above',\n  'memory_below',\n  'move_insert_mode',\n  'move_standout_mode',\n  'over_strike',\n  'status_line_esc_ok',\n  'dest_tabs_magic_smso',\n  'tilde_glitch',\n  'transparent_underline',\n  'xon_xoff',\n  'needs_xon_xoff',\n  'prtr_silent',\n  'hard_cursor',\n  'non_rev_rmcup',\n  'no_pad_char',\n  'non_dest_scroll_region',\n  'can_change',\n  'back_color_erase',\n  'hue_lightness_saturation',\n  'col_addr_glitch',\n  'cr_cancels_micro_mode',\n  'has_print_wheel',\n  'row_addr_glitch',\n  'semi_auto_right_margin',\n  'cpi_changes_res',\n  'lpi_changes_res',\n\n  // #ifdef __INTERNAL_CAPS_VISIBLE\n  'backspaces_with_bs',\n  'crt_no_scrolling',\n  'no_correctly_working_cr',\n  'gnu_has_meta_key',\n  'linefeed_is_newline',\n  'has_hardware_tabs',\n  'return_does_clr_eol'\n];\n\nTput.numbers = [\n  'columns',\n  'init_tabs',\n  'lines',\n  'lines_of_memory',\n  'magic_cookie_glitch',\n  'padding_baud_rate',\n  'virtual_terminal',\n  'width_status_line',\n  'num_labels',\n  'label_height',\n  'label_width',\n  'max_attributes',\n  'maximum_windows',\n  'max_colors',\n  'max_pairs',\n  'no_color_video',\n  'buffer_capacity',\n  'dot_vert_spacing',\n  'dot_horz_spacing',\n  'max_micro_address',\n  'max_micro_jump',\n  'micro_col_size',\n  'micro_line_size',\n  'number_of_pins',\n  'output_res_char',\n  'output_res_line',\n  'output_res_horz_inch',\n  'output_res_vert_inch',\n  'print_rate',\n  'wide_char_size',\n  'buttons',\n  'bit_image_entwining',\n  'bit_image_type',\n\n  // #ifdef __INTERNAL_CAPS_VISIBLE\n  'magic_cookie_glitch_ul',\n  'carriage_return_delay',\n  'new_line_delay',\n  'backspace_delay',\n  'horizontal_tab_delay',\n  'number_of_function_keys'\n];\n\nTput.strings = [\n  'back_tab',\n  'bell',\n  'carriage_return',\n  'change_scroll_region',\n  'clear_all_tabs',\n  'clear_screen',\n  'clr_eol',\n  'clr_eos',\n  'column_address',\n  'command_character',\n  'cursor_address',\n  'cursor_down',\n  'cursor_home',\n  'cursor_invisible',\n  'cursor_left',\n  'cursor_mem_address',\n  'cursor_normal',\n  'cursor_right',\n  'cursor_to_ll',\n  'cursor_up',\n  'cursor_visible',\n  'delete_character',\n  'delete_line',\n  'dis_status_line',\n  'down_half_line',\n  'enter_alt_charset_mode',\n  'enter_blink_mode',\n  'enter_bold_mode',\n  'enter_ca_mode',\n  'enter_delete_mode',\n  'enter_dim_mode',\n  'enter_insert_mode',\n  'enter_secure_mode',\n  'enter_protected_mode',\n  'enter_reverse_mode',\n  'enter_standout_mode',\n  'enter_underline_mode',\n  'erase_chars',\n  'exit_alt_charset_mode',\n  'exit_attribute_mode',\n  'exit_ca_mode',\n  'exit_delete_mode',\n  'exit_insert_mode',\n  'exit_standout_mode',\n  'exit_underline_mode',\n  'flash_screen',\n  'form_feed',\n  'from_status_line',\n  'init_1string',\n  'init_2string',\n  'init_3string',\n  'init_file',\n  'insert_character',\n  'insert_line',\n  'insert_padding',\n  'key_backspace',\n  'key_catab',\n  'key_clear',\n  'key_ctab',\n  'key_dc',\n  'key_dl',\n  'key_down',\n  'key_eic',\n  'key_eol',\n  'key_eos',\n  'key_f0',\n  'key_f1',\n  'key_f10',\n  'key_f2',\n  'key_f3',\n  'key_f4',\n  'key_f5',\n  'key_f6',\n  'key_f7',\n  'key_f8',\n  'key_f9',\n  'key_home',\n  'key_ic',\n  'key_il',\n  'key_left',\n  'key_ll',\n  'key_npage',\n  'key_ppage',\n  'key_right',\n  'key_sf',\n  'key_sr',\n  'key_stab',\n  'key_up',\n  'keypad_local',\n  'keypad_xmit',\n  'lab_f0',\n  'lab_f1',\n  'lab_f10',\n  'lab_f2',\n  'lab_f3',\n  'lab_f4',\n  'lab_f5',\n  'lab_f6',\n  'lab_f7',\n  'lab_f8',\n  'lab_f9',\n  'meta_off',\n  'meta_on',\n  'newline',\n  'pad_char',\n  'parm_dch',\n  'parm_delete_line',\n  'parm_down_cursor',\n  'parm_ich',\n  'parm_index',\n  'parm_insert_line',\n  'parm_left_cursor',\n  'parm_right_cursor',\n  'parm_rindex',\n  'parm_up_cursor',\n  'pkey_key',\n  'pkey_local',\n  'pkey_xmit',\n  'print_screen',\n  'prtr_off',\n  'prtr_on',\n  'repeat_char',\n  'reset_1string',\n  'reset_2string',\n  'reset_3string',\n  'reset_file',\n  'restore_cursor',\n  'row_address',\n  'save_cursor',\n  'scroll_forward',\n  'scroll_reverse',\n  'set_attributes',\n  'set_tab',\n  'set_window',\n  'tab',\n  'to_status_line',\n  'underline_char',\n  'up_half_line',\n  'init_prog',\n  'key_a1',\n  'key_a3',\n  'key_b2',\n  'key_c1',\n  'key_c3',\n  'prtr_non',\n  'char_padding',\n  'acs_chars',\n  'plab_norm',\n  'key_btab',\n  'enter_xon_mode',\n  'exit_xon_mode',\n  'enter_am_mode',\n  'exit_am_mode',\n  'xon_character',\n  'xoff_character',\n  'ena_acs',\n  'label_on',\n  'label_off',\n  'key_beg',\n  'key_cancel',\n  'key_close',\n  'key_command',\n  'key_copy',\n  'key_create',\n  'key_end',\n  'key_enter',\n  'key_exit',\n  'key_find',\n  'key_help',\n  'key_mark',\n  'key_message',\n  'key_move',\n  'key_next',\n  'key_open',\n  'key_options',\n  'key_previous',\n  'key_print',\n  'key_redo',\n  'key_reference',\n  'key_refresh',\n  'key_replace',\n  'key_restart',\n  'key_resume',\n  'key_save',\n  'key_suspend',\n  'key_undo',\n  'key_sbeg',\n  'key_scancel',\n  'key_scommand',\n  'key_scopy',\n  'key_screate',\n  'key_sdc',\n  'key_sdl',\n  'key_select',\n  'key_send',\n  'key_seol',\n  'key_sexit',\n  'key_sfind',\n  'key_shelp',\n  'key_shome',\n  'key_sic',\n  'key_sleft',\n  'key_smessage',\n  'key_smove',\n  'key_snext',\n  'key_soptions',\n  'key_sprevious',\n  'key_sprint',\n  'key_sredo',\n  'key_sreplace',\n  'key_sright',\n  'key_srsume',\n  'key_ssave',\n  'key_ssuspend',\n  'key_sundo',\n  'req_for_input',\n  'key_f11',\n  'key_f12',\n  'key_f13',\n  'key_f14',\n  'key_f15',\n  'key_f16',\n  'key_f17',\n  'key_f18',\n  'key_f19',\n  'key_f20',\n  'key_f21',\n  'key_f22',\n  'key_f23',\n  'key_f24',\n  'key_f25',\n  'key_f26',\n  'key_f27',\n  'key_f28',\n  'key_f29',\n  'key_f30',\n  'key_f31',\n  'key_f32',\n  'key_f33',\n  'key_f34',\n  'key_f35',\n  'key_f36',\n  'key_f37',\n  'key_f38',\n  'key_f39',\n  'key_f40',\n  'key_f41',\n  'key_f42',\n  'key_f43',\n  'key_f44',\n  'key_f45',\n  'key_f46',\n  'key_f47',\n  'key_f48',\n  'key_f49',\n  'key_f50',\n  'key_f51',\n  'key_f52',\n  'key_f53',\n  'key_f54',\n  'key_f55',\n  'key_f56',\n  'key_f57',\n  'key_f58',\n  'key_f59',\n  'key_f60',\n  'key_f61',\n  'key_f62',\n  'key_f63',\n  'clr_bol',\n  'clear_margins',\n  'set_left_margin',\n  'set_right_margin',\n  'label_format',\n  'set_clock',\n  'display_clock',\n  'remove_clock',\n  'create_window',\n  'goto_window',\n  'hangup',\n  'dial_phone',\n  'quick_dial',\n  'tone',\n  'pulse',\n  'flash_hook',\n  'fixed_pause',\n  'wait_tone',\n  'user0',\n  'user1',\n  'user2',\n  'user3',\n  'user4',\n  'user5',\n  'user6',\n  'user7',\n  'user8',\n  'user9',\n  'orig_pair',\n  'orig_colors',\n  'initialize_color',\n  'initialize_pair',\n  'set_color_pair',\n  'set_foreground',\n  'set_background',\n  'change_char_pitch',\n  'change_line_pitch',\n  'change_res_horz',\n  'change_res_vert',\n  'define_char',\n  'enter_doublewide_mode',\n  'enter_draft_quality',\n  'enter_italics_mode',\n  'enter_leftward_mode',\n  'enter_micro_mode',\n  'enter_near_letter_quality',\n  'enter_normal_quality',\n  'enter_shadow_mode',\n  'enter_subscript_mode',\n  'enter_superscript_mode',\n  'enter_upward_mode',\n  'exit_doublewide_mode',\n  'exit_italics_mode',\n  'exit_leftward_mode',\n  'exit_micro_mode',\n  'exit_shadow_mode',\n  'exit_subscript_mode',\n  'exit_superscript_mode',\n  'exit_upward_mode',\n  'micro_column_address',\n  'micro_down',\n  'micro_left',\n  'micro_right',\n  'micro_row_address',\n  'micro_up',\n  'order_of_pins',\n  'parm_down_micro',\n  'parm_left_micro',\n  'parm_right_micro',\n  'parm_up_micro',\n  'select_char_set',\n  'set_bottom_margin',\n  'set_bottom_margin_parm',\n  'set_left_margin_parm',\n  'set_right_margin_parm',\n  'set_top_margin',\n  'set_top_margin_parm',\n  'start_bit_image',\n  'start_char_set_def',\n  'stop_bit_image',\n  'stop_char_set_def',\n  'subscript_characters',\n  'superscript_characters',\n  'these_cause_cr',\n  'zero_motion',\n  'char_set_names',\n  'key_mouse',\n  'mouse_info',\n  'req_mouse_pos',\n  'get_mouse',\n  'set_a_foreground',\n  'set_a_background',\n  'pkey_plab',\n  'device_type',\n  'code_set_init',\n  'set0_des_seq',\n  'set1_des_seq',\n  'set2_des_seq',\n  'set3_des_seq',\n  'set_lr_margin',\n  'set_tb_margin',\n  'bit_image_repeat',\n  'bit_image_newline',\n  'bit_image_carriage_return',\n  'color_names',\n  'define_bit_image_region',\n  'end_bit_image_region',\n  'set_color_band',\n  'set_page_length',\n  'display_pc_char',\n  'enter_pc_charset_mode',\n  'exit_pc_charset_mode',\n  'enter_scancode_mode',\n  'exit_scancode_mode',\n  'pc_term_options',\n  'scancode_escape',\n  'alt_scancode_esc',\n  'enter_horizontal_hl_mode',\n  'enter_left_hl_mode',\n  'enter_low_hl_mode',\n  'enter_right_hl_mode',\n  'enter_top_hl_mode',\n  'enter_vertical_hl_mode',\n  'set_a_attributes',\n  'set_pglen_inch',\n\n  // #ifdef __INTERNAL_CAPS_VISIBLE\n  'termcap_init2',\n  'termcap_reset',\n  'linefeed_if_not_lf',\n  'backspace_if_not_bs',\n  'other_non_function_keys',\n  'arrow_key_map',\n  'acs_ulcorner',\n  'acs_llcorner',\n  'acs_urcorner',\n  'acs_lrcorner',\n  'acs_ltee',\n  'acs_rtee',\n  'acs_btee',\n  'acs_ttee',\n  'acs_hline',\n  'acs_vline',\n  'acs_plus',\n  'memory_lock',\n  'memory_unlock',\n  'box_chars_1'\n];\n\n// DEC Special Character and Line Drawing Set.\n// Taken from tty.js.\nTput.acsc = {    // (0\n  '`': '\\u25c6', // '\u25C6'\n  'a': '\\u2592', // '\u2592'\n  'b': '\\u0009', // '\\t'\n  'c': '\\u000c', // '\\f'\n  'd': '\\u000d', // '\\r'\n  'e': '\\u000a', // '\\n'\n  'f': '\\u00b0', // '\u00B0'\n  'g': '\\u00b1', // '\u00B1'\n  'h': '\\u2424', // '\\u2424' (NL)\n  'i': '\\u000b', // '\\v'\n  'j': '\\u2518', // '\u2518'\n  'k': '\\u2510', // '\u2510'\n  'l': '\\u250c', // '\u250C'\n  'm': '\\u2514', // '\u2514'\n  'n': '\\u253c', // '\u253C'\n  'o': '\\u23ba', // '\u23BA'\n  'p': '\\u23bb', // '\u23BB'\n  'q': '\\u2500', // '\u2500'\n  'r': '\\u23bc', // '\u23BC'\n  's': '\\u23bd', // '\u23BD'\n  't': '\\u251c', // '\u251C'\n  'u': '\\u2524', // '\u2524'\n  'v': '\\u2534', // '\u2534'\n  'w': '\\u252c', // '\u252C'\n  'x': '\\u2502', // '\u2502'\n  'y': '\\u2264', // '\u2264'\n  'z': '\\u2265', // '\u2265'\n  '{': '\\u03c0', // '\u03C0'\n  '|': '\\u2260', // '\u2260'\n  '}': '\\u00a3', // '\u00A3'\n  '~': '\\u00b7'  // '\u00B7'\n};\n\n// Convert ACS unicode characters to the\n// most similar-looking ascii characters.\nTput.utoa = Tput.prototype.utoa = {\n  '\\u25c6': '*', // '\u25C6'\n  '\\u2592': ' ', // '\u2592'\n  // '\\u0009': '\\t', // '\\t'\n  // '\\u000c': '\\f', // '\\f'\n  // '\\u000d': '\\r', // '\\r'\n  // '\\u000a': '\\n', // '\\n'\n  '\\u00b0': '*', // '\u00B0'\n  '\\u00b1': '+', // '\u00B1'\n  '\\u2424': '\\n', // '\\u2424' (NL)\n  // '\\u000b': '\\v', // '\\v'\n  '\\u2518': '+', // '\u2518'\n  '\\u2510': '+', // '\u2510'\n  '\\u250c': '+', // '\u250C'\n  '\\u2514': '+', // '\u2514'\n  '\\u253c': '+', // '\u253C'\n  '\\u23ba': '-', // '\u23BA'\n  '\\u23bb': '-', // '\u23BB'\n  '\\u2500': '-', // '\u2500'\n  '\\u23bc': '-', // '\u23BC'\n  '\\u23bd': '_', // '\u23BD'\n  '\\u251c': '+', // '\u251C'\n  '\\u2524': '+', // '\u2524'\n  '\\u2534': '+', // '\u2534'\n  '\\u252c': '+', // '\u252C'\n  '\\u2502': '|', // '\u2502'\n  '\\u2264': '<', // '\u2264'\n  '\\u2265': '>', // '\u2265'\n  '\\u03c0': '?', // '\u03C0'\n  '\\u2260': '=', // '\u2260'\n  '\\u00a3': '?', // '\u00A3'\n  '\\u00b7': '*'  // '\u00B7'\n};\n\n/**\n * Expose\n */\n\nexports = Tput;\nexports.sprintf = sprintf;\nexports.tryRead = tryRead;\n\nmodule.exports = exports;\n", "/**\n * colors.js - color-related functions for blessed.\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\nexports.match = function(r1, g1, b1) {\n  if (typeof r1 === 'string') {\n    var hex = r1;\n    if (hex[0] !== '#') {\n      return -1;\n    }\n    hex = exports.hexToRGB(hex);\n    r1 = hex[0], g1 = hex[1], b1 = hex[2];\n  } else if (Array.isArray(r1)) {\n    b1 = r1[2], g1 = r1[1], r1 = r1[0];\n  }\n\n  var hash = (r1 << 16) | (g1 << 8) | b1;\n\n  if (exports._cache[hash] != null) {\n    return exports._cache[hash];\n  }\n\n  var ldiff = Infinity\n    , li = -1\n    , i = 0\n    , c\n    , r2\n    , g2\n    , b2\n    , diff;\n\n  for (; i < exports.vcolors.length; i++) {\n    c = exports.vcolors[i];\n    r2 = c[0];\n    g2 = c[1];\n    b2 = c[2];\n\n    diff = colorDistance(r1, g1, b1, r2, g2, b2);\n\n    if (diff === 0) {\n      li = i;\n      break;\n    }\n\n    if (diff < ldiff) {\n      ldiff = diff;\n      li = i;\n    }\n  }\n\n  return exports._cache[hash] = li;\n};\n\nexports.RGBToHex = function(r, g, b) {\n  if (Array.isArray(r)) {\n    b = r[2], g = r[1], r = r[0];\n  }\n\n  function hex(n) {\n    n = n.toString(16);\n    if (n.length < 2) n = '0' + n;\n    return n;\n  }\n\n  return '#' + hex(r) + hex(g) + hex(b);\n};\n\nexports.hexToRGB = function(hex) {\n  if (hex.length === 4) {\n    hex = hex[0]\n      + hex[1] + hex[1]\n      + hex[2] + hex[2]\n      + hex[3] + hex[3];\n  }\n\n  var col = parseInt(hex.substring(1), 16)\n    , r = (col >> 16) & 0xff\n    , g = (col >> 8) & 0xff\n    , b = col & 0xff;\n\n  return [r, g, b];\n};\n\n// As it happens, comparing how similar two colors are is really hard. Here is\n// one of the simplest solutions, which doesn't require conversion to another\n// color space, posted on stackoverflow[1]. Maybe someone better at math can\n// propose a superior solution.\n// [1] http://stackoverflow.com/questions/1633828\n\nfunction colorDistance(r1, g1, b1, r2, g2, b2) {\n  return Math.pow(30 * (r1 - r2), 2)\n    + Math.pow(59 * (g1 - g2), 2)\n    + Math.pow(11 * (b1 - b2), 2);\n}\n\n// This might work well enough for a terminal's colors: treat RGB as XYZ in a\n// 3-dimensional space and go midway between the two points.\nexports.mixColors = function(c1, c2, alpha) {\n  // if (c1 === 0x1ff) return c1;\n  // if (c2 === 0x1ff) return c1;\n  if (c1 === 0x1ff) c1 = 0;\n  if (c2 === 0x1ff) c2 = 0;\n  if (alpha == null) alpha = 0.5;\n\n  c1 = exports.vcolors[c1];\n  var r1 = c1[0];\n  var g1 = c1[1];\n  var b1 = c1[2];\n\n  c2 = exports.vcolors[c2];\n  var r2 = c2[0];\n  var g2 = c2[1];\n  var b2 = c2[2];\n\n  r1 += (r2 - r1) * alpha | 0;\n  g1 += (g2 - g1) * alpha | 0;\n  b1 += (b2 - b1) * alpha | 0;\n\n  return exports.match([r1, g1, b1]);\n};\n\nexports.blend = function blend(attr, attr2, alpha) {\n  var name, i, c, nc;\n\n  var bg = attr & 0x1ff;\n  if (attr2 != null) {\n    var bg2 = attr2 & 0x1ff;\n    if (bg === 0x1ff) bg = 0;\n    if (bg2 === 0x1ff) bg2 = 0;\n    bg = exports.mixColors(bg, bg2, alpha);\n  } else {\n    if (blend._cache[bg] != null) {\n      bg = blend._cache[bg];\n    // } else if (bg < 8) {\n    //   bg += 8;\n    } else if (bg >= 8 && bg <= 15) {\n      bg -= 8;\n    } else {\n      name = exports.ncolors[bg];\n      if (name) {\n        for (i = 0; i < exports.ncolors.length; i++) {\n          if (name === exports.ncolors[i] && i !== bg) {\n            c = exports.vcolors[bg];\n            nc = exports.vcolors[i];\n            if (nc[0] + nc[1] + nc[2] < c[0] + c[1] + c[2]) {\n              blend._cache[bg] = i;\n              bg = i;\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  attr &= ~0x1ff;\n  attr |= bg;\n\n  var fg = (attr >> 9) & 0x1ff;\n  if (attr2 != null) {\n    var fg2 = (attr2 >> 9) & 0x1ff;\n    // 0, 7, 188, 231, 251\n    if (fg === 0x1ff) {\n      // XXX workaround\n      fg = 248;\n    } else {\n      if (fg === 0x1ff) fg = 7;\n      if (fg2 === 0x1ff) fg2 = 7;\n      fg = exports.mixColors(fg, fg2, alpha);\n    }\n  } else {\n    if (blend._cache[fg] != null) {\n      fg = blend._cache[fg];\n    // } else if (fg < 8) {\n    //   fg += 8;\n    } else if (fg >= 8 && fg <= 15) {\n      fg -= 8;\n    } else {\n      name = exports.ncolors[fg];\n      if (name) {\n        for (i = 0; i < exports.ncolors.length; i++) {\n          if (name === exports.ncolors[i] && i !== fg) {\n            c = exports.vcolors[fg];\n            nc = exports.vcolors[i];\n            if (nc[0] + nc[1] + nc[2] < c[0] + c[1] + c[2]) {\n              blend._cache[fg] = i;\n              fg = i;\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  attr &= ~(0x1ff << 9);\n  attr |= fg << 9;\n\n  return attr;\n};\n\nexports.blend._cache = {};\n\nexports._cache = {};\n\nexports.reduce = function(color, total) {\n  if (color >= 16 && total <= 16) {\n    color = exports.ccolors[color];\n  } else if (color >= 8 && total <= 8) {\n    color -= 8;\n  } else if (color >= 2 && total <= 2) {\n    color %= 2;\n  }\n  return color;\n};\n\n// XTerm Colors\n// These were actually tough to track down. The xterm source only uses color\n// keywords. The X11 source needed to be examined to find the actual values.\n// They then had to be mapped to rgb values and then converted to hex values.\nexports.xterm = [\n  '#000000', // black\n  '#cd0000', // red3\n  '#00cd00', // green3\n  '#cdcd00', // yellow3\n  '#0000ee', // blue2\n  '#cd00cd', // magenta3\n  '#00cdcd', // cyan3\n  '#e5e5e5', // gray90\n  '#7f7f7f', // gray50\n  '#ff0000', // red\n  '#00ff00', // green\n  '#ffff00', // yellow\n  '#5c5cff', // rgb:5c/5c/ff\n  '#ff00ff', // magenta\n  '#00ffff', // cyan\n  '#ffffff'  // white\n];\n\n// Seed all 256 colors. Assume xterm defaults.\n// Ported from the xterm color generation script.\nexports.colors = (function() {\n  var cols = exports.colors = []\n    , _cols = exports.vcolors = []\n    , r\n    , g\n    , b\n    , i\n    , l;\n\n  function hex(n) {\n    n = n.toString(16);\n    if (n.length < 2) n = '0' + n;\n    return n;\n  }\n\n  function push(i, r, g, b) {\n    cols[i] = '#' + hex(r) + hex(g) + hex(b);\n    _cols[i] = [r, g, b];\n  }\n\n  // 0 - 15\n  exports.xterm.forEach(function(c, i) {\n    c = parseInt(c.substring(1), 16);\n    push(i, (c >> 16) & 0xff, (c >> 8) & 0xff, c & 0xff);\n  });\n\n  // 16 - 231\n  for (r = 0; r < 6; r++) {\n    for (g = 0; g < 6; g++) {\n      for (b = 0; b < 6; b++) {\n        i = 16 + (r * 36) + (g * 6) + b;\n        push(i,\n          r ? (r * 40 + 55) : 0,\n          g ? (g * 40 + 55) : 0,\n          b ? (b * 40 + 55) : 0);\n      }\n    }\n  }\n\n  // 232 - 255 are grey.\n  for (g = 0; g < 24; g++) {\n    l = (g * 10) + 8;\n    i = 232 + g;\n    push(i, l, l, l);\n  }\n\n  return cols;\n})();\n\n// Map higher colors to the first 8 colors.\n// This allows translation of high colors to low colors on 8-color terminals.\nexports.ccolors = (function() {\n  var _cols = exports.vcolors.slice()\n    , cols = exports.colors.slice()\n    , out;\n\n  exports.vcolors = exports.vcolors.slice(0, 8);\n  exports.colors = exports.colors.slice(0, 8);\n\n  out = cols.map(exports.match);\n\n  exports.colors = cols;\n  exports.vcolors = _cols;\n  exports.ccolors = out;\n\n  return out;\n})();\n\nvar colorNames = exports.colorNames = {\n  // special\n  default: -1,\n  normal: -1,\n  bg: -1,\n  fg: -1,\n  // normal\n  black: 0,\n  red: 1,\n  green: 2,\n  yellow: 3,\n  blue: 4,\n  magenta: 5,\n  cyan: 6,\n  white: 7,\n  // light\n  lightblack: 8,\n  lightred: 9,\n  lightgreen: 10,\n  lightyellow: 11,\n  lightblue: 12,\n  lightmagenta: 13,\n  lightcyan: 14,\n  lightwhite: 15,\n  // bright\n  brightblack: 8,\n  brightred: 9,\n  brightgreen: 10,\n  brightyellow: 11,\n  brightblue: 12,\n  brightmagenta: 13,\n  brightcyan: 14,\n  brightwhite: 15,\n  // alternate spellings\n  grey: 8,\n  gray: 8,\n  lightgrey: 7,\n  lightgray: 7,\n  brightgrey: 7,\n  brightgray: 7\n};\n\nexports.convert = function(color) {\n  if (typeof color === 'number') {\n    ;\n  } else if (typeof color === 'string') {\n    color = color.replace(/[\\- ]/g, '');\n    if (colorNames[color] != null) {\n      color = colorNames[color];\n    } else {\n      color = exports.match(color);\n    }\n  } else if (Array.isArray(color)) {\n    color = exports.match(color);\n  } else {\n    color = -1;\n  }\n  return color !== -1 ? color : 0x1ff;\n};\n\n// Map higher colors to the first 8 colors.\n// This allows translation of high colors to low colors on 8-color terminals.\n// Why the hell did I do this by hand?\nexports.ccolors = {\n  blue: [\n    4,\n    12,\n    [17, 21],\n    [24, 27],\n    [31, 33],\n    [38, 39],\n    45,\n    [54, 57],\n    [60, 63],\n    [67, 69],\n    [74, 75],\n    81,\n    [91, 93],\n    [97, 99],\n    [103, 105],\n    [110, 111],\n    117,\n    [128, 129],\n    [134, 135],\n    [140, 141],\n    [146, 147],\n    153,\n    165,\n    171,\n    177,\n    183,\n    189\n  ],\n\n  green: [\n    2,\n    10,\n    22,\n    [28, 29],\n    [34, 36],\n    [40, 43],\n    [46, 50],\n    [64, 65],\n    [70, 72],\n    [76, 79],\n    [82, 86],\n    [106, 108],\n    [112, 115],\n    [118, 122],\n    [148, 151],\n    [154, 158],\n    [190, 194]\n  ],\n\n  cyan: [\n    6,\n    14,\n    23,\n    30,\n    37,\n    44,\n    51,\n    66,\n    73,\n    80,\n    87,\n    109,\n    116,\n    123,\n    152,\n    159,\n    195\n  ],\n\n  red: [\n    1,\n    9,\n    52,\n    [88, 89],\n    [94, 95],\n    [124, 126],\n    [130, 132],\n    [136, 138],\n    [160, 163],\n    [166, 169],\n    [172, 175],\n    [178, 181],\n    [196, 200],\n    [202, 206],\n    [208, 212],\n    [214, 218],\n    [220, 224]\n  ],\n\n  magenta: [\n    5,\n    13,\n    53,\n    90,\n    96,\n    127,\n    133,\n    139,\n    164,\n    170,\n    176,\n    182,\n    201,\n    207,\n    213,\n    219,\n    225\n  ],\n\n  yellow: [\n    3,\n    11,\n    58,\n    [100, 101],\n    [142, 144],\n    [184, 187],\n    [226, 230]\n  ],\n\n  black: [\n    0,\n    8,\n    16,\n    59,\n    102,\n    [232, 243]\n  ],\n\n  white: [\n    7,\n    15,\n    145,\n    188,\n    231,\n    [244, 255]\n  ]\n};\n\nexports.ncolors = [];\n\nObject.keys(exports.ccolors).forEach(function(name) {\n  exports.ccolors[name].forEach(function(offset) {\n    if (typeof offset === 'number') {\n      exports.ncolors[offset] = name;\n      exports.ccolors[offset] = exports.colorNames[name];\n      return;\n    }\n    for (var i = offset[0], l = offset[1]; i <= l; i++) {\n      exports.ncolors[i] = name;\n      exports.ccolors[i] = exports.colorNames[name];\n    }\n  });\n  delete exports.ccolors[name];\n});\n", "/**\n * keys.js - emit key presses\n * Copyright (c) 2010-2015, Joyent, Inc. and other contributors (MIT License)\n * https://github.com/chjj/blessed\n */\n\n// Originally taken from the node.js tree:\n//\n// Copyright Joyent, Inc. and other Node contributors. All rights reserved.\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS\n// IN THE SOFTWARE.\n\nvar EventEmitter = require('events').EventEmitter;\n\n// NOTE: node <=v0.8.x has no EventEmitter.listenerCount\nfunction listenerCount(stream, event) {\n  return EventEmitter.listenerCount\n    ? EventEmitter.listenerCount(stream, event)\n    : stream.listeners(event).length;\n}\n\n/**\n * accepts a readable Stream instance and makes it emit \"keypress\" events\n */\n\nfunction emitKeypressEvents(stream) {\n  if (stream._keypressDecoder) return;\n  var StringDecoder = require('string_decoder').StringDecoder; // lazy load\n  stream._keypressDecoder = new StringDecoder('utf8');\n\n  function onData(b) {\n    if (listenerCount(stream, 'keypress') > 0) {\n      var r = stream._keypressDecoder.write(b);\n      if (r) emitKeys(stream, r);\n    } else {\n      // Nobody's watching anyway\n      stream.removeListener('data', onData);\n      stream.on('newListener', onNewListener);\n    }\n  }\n\n  function onNewListener(event) {\n    if (event === 'keypress') {\n      stream.on('data', onData);\n      stream.removeListener('newListener', onNewListener);\n    }\n  }\n\n  if (listenerCount(stream, 'keypress') > 0) {\n    stream.on('data', onData);\n  } else {\n    stream.on('newListener', onNewListener);\n  }\n}\nexports.emitKeypressEvents = emitKeypressEvents;\n\n/*\n  Some patterns seen in terminal key escape codes, derived from combos seen\n  at http://www.midnight-commander.org/browser/lib/tty/key.c\n\n  ESC letter\n  ESC [ letter\n  ESC [ modifier letter\n  ESC [ 1 ; modifier letter\n  ESC [ num char\n  ESC [ num ; modifier char\n  ESC O letter\n  ESC O modifier letter\n  ESC O 1 ; modifier letter\n  ESC N letter\n  ESC [ [ num ; modifier char\n  ESC [ [ 1 ; modifier letter\n  ESC ESC [ num char\n  ESC ESC O letter\n\n  - char is usually ~ but $ and ^ also happen with rxvt\n  - modifier is 1 +\n                (shift     * 1) +\n                (left_alt  * 2) +\n                (ctrl      * 4) +\n                (right_alt * 8)\n  - two leading ESCs apparently mean the same as one leading ESC\n*/\n\n// Regexes used for ansi escape code splitting\nvar metaKeyCodeReAnywhere = /(?:\\x1b)([a-zA-Z0-9])/;\nvar metaKeyCodeRe = new RegExp('^' + metaKeyCodeReAnywhere.source + '$');\nvar functionKeyCodeReAnywhere = new RegExp('(?:\\x1b+)(O|N|\\\\[|\\\\[\\\\[)(?:' + [\n  '(\\\\d+)(?:;(\\\\d+))?([~^$])',\n  '(?:M([@ #!a`])(.)(.))', // mouse\n  '(?:1;)?(\\\\d+)?([a-zA-Z])'\n].join('|') + ')');\nvar functionKeyCodeRe = new RegExp('^' + functionKeyCodeReAnywhere.source);\nvar escapeCodeReAnywhere = new RegExp([\n  functionKeyCodeReAnywhere.source, metaKeyCodeReAnywhere.source, /\\x1b./.source\n].join('|'));\n\nfunction emitKeys(stream, s) {\n  if (Buffer.isBuffer(s)) {\n    if (s[0] > 127 && s[1] === undefined) {\n      s[0] -= 128;\n      s = '\\x1b' + s.toString(stream.encoding || 'utf-8');\n    } else {\n      s = s.toString(stream.encoding || 'utf-8');\n    }\n  }\n\n  if (isMouse(s)) return;\n\n  var buffer = [];\n  var match;\n  while (match = escapeCodeReAnywhere.exec(s)) {\n    buffer = buffer.concat(s.slice(0, match.index).split(''));\n    buffer.push(match[0]);\n    s = s.slice(match.index + match[0].length);\n  }\n  buffer = buffer.concat(s.split(''));\n\n  buffer.forEach(function(s) {\n    var ch,\n        key = {\n          sequence: s,\n          name: undefined,\n          ctrl: false,\n          meta: false,\n          shift: false\n        },\n        parts;\n\n    if (s === '\\r') {\n      // carriage return\n      key.name = 'return';\n\n    } else if (s === '\\n') {\n      // enter, should have been called linefeed\n      key.name = 'enter';\n      // linefeed\n      // key.name = 'linefeed';\n\n    } else if (s === '\\t') {\n      // tab\n      key.name = 'tab';\n\n    } else if (s === '\\b' || s === '\\x7f' ||\n               s === '\\x1b\\x7f' || s === '\\x1b\\b') {\n      // backspace or ctrl+h\n      key.name = 'backspace';\n      key.meta = (s.charAt(0) === '\\x1b');\n\n    } else if (s === '\\x1b' || s === '\\x1b\\x1b') {\n      // escape key\n      key.name = 'escape';\n      key.meta = (s.length === 2);\n\n    } else if (s === ' ' || s === '\\x1b ') {\n      key.name = 'space';\n      key.meta = (s.length === 2);\n\n    } else if (s.length === 1 && s <= '\\x1a') {\n      // ctrl+letter\n      key.name = String.fromCharCode(s.charCodeAt(0) + 'a'.charCodeAt(0) - 1);\n      key.ctrl = true;\n\n    } else if (s.length === 1 && s >= 'a' && s <= 'z') {\n      // lowercase letter\n      key.name = s;\n\n    } else if (s.length === 1 && s >= 'A' && s <= 'Z') {\n      // shift+letter\n      key.name = s.toLowerCase();\n      key.shift = true;\n\n    } else if (parts = metaKeyCodeRe.exec(s)) {\n      // meta+character key\n      key.name = parts[1].toLowerCase();\n      key.meta = true;\n      key.shift = /^[A-Z]$/.test(parts[1]);\n\n    } else if (parts = functionKeyCodeRe.exec(s)) {\n      // ansi escape sequence\n\n      // reassemble the key code leaving out leading \\x1b's,\n      // the modifier key bitflag and any meaningless \"1;\" sequence\n      var code = (parts[1] || '') + (parts[2] || '') +\n                 (parts[4] || '') + (parts[9] || ''),\n          modifier = (parts[3] || parts[8] || 1) - 1;\n\n      // Parse the key modifier\n      key.ctrl = !!(modifier & 4);\n      key.meta = !!(modifier & 10);\n      key.shift = !!(modifier & 1);\n      key.code = code;\n\n      // Parse the key itself\n      switch (code) {\n        /* xterm/gnome ESC O letter */\n        case 'OP': key.name = 'f1'; break;\n        case 'OQ': key.name = 'f2'; break;\n        case 'OR': key.name = 'f3'; break;\n        case 'OS': key.name = 'f4'; break;\n\n        /* xterm/rxvt ESC [ number ~ */\n        case '[11~': key.name = 'f1'; break;\n        case '[12~': key.name = 'f2'; break;\n        case '[13~': key.name = 'f3'; break;\n        case '[14~': key.name = 'f4'; break;\n\n        /* from Cygwin and used in libuv */\n        case '[[A': key.name = 'f1'; break;\n        case '[[B': key.name = 'f2'; break;\n        case '[[C': key.name = 'f3'; break;\n        case '[[D': key.name = 'f4'; break;\n        case '[[E': key.name = 'f5'; break;\n\n        /* common */\n        case '[15~': key.name = 'f5'; break;\n        case '[17~': key.name = 'f6'; break;\n        case '[18~': key.name = 'f7'; break;\n        case '[19~': key.name = 'f8'; break;\n        case '[20~': key.name = 'f9'; break;\n        case '[21~': key.name = 'f10'; break;\n        case '[23~': key.name = 'f11'; break;\n        case '[24~': key.name = 'f12'; break;\n\n        /* xterm ESC [ letter */\n        case '[A': key.name = 'up'; break;\n        case '[B': key.name = 'down'; break;\n        case '[C': key.name = 'right'; break;\n        case '[D': key.name = 'left'; break;\n        case '[E': key.name = 'clear'; break;\n        case '[F': key.name = 'end'; break;\n        case '[H': key.name = 'home'; break;\n\n        /* xterm/gnome ESC O letter */\n        case 'OA': key.name = 'up'; break;\n        case 'OB': key.name = 'down'; break;\n        case 'OC': key.name = 'right'; break;\n        case 'OD': key.name = 'left'; break;\n        case 'OE': key.name = 'clear'; break;\n        case 'OF': key.name = 'end'; break;\n        case 'OH': key.name = 'home'; break;\n\n        /* xterm/rxvt ESC [ number ~ */\n        case '[1~': key.name = 'home'; break;\n        case '[2~': key.name = 'insert'; break;\n        case '[3~': key.name = 'delete'; break;\n        case '[4~': key.name = 'end'; break;\n        case '[5~': key.name = 'pageup'; break;\n        case '[6~': key.name = 'pagedown'; break;\n\n        /* putty */\n        case '[[5~': key.name = 'pageup'; break;\n        case '[[6~': key.name = 'pagedown'; break;\n\n        /* rxvt */\n        case '[7~': key.name = 'home'; break;\n        case '[8~': key.name = 'end'; break;\n\n        /* rxvt keys with modifiers */\n        case '[a': key.name = 'up'; key.shift = true; break;\n        case '[b': key.name = 'down'; key.shift = true; break;\n        case '[c': key.name = 'right'; key.shift = true; break;\n        case '[d': key.name = 'left'; key.shift = true; break;\n        case '[e': key.name = 'clear'; key.shift = true; break;\n\n        case '[2$': key.name = 'insert'; key.shift = true; break;\n        case '[3$': key.name = 'delete'; key.shift = true; break;\n        case '[5$': key.name = 'pageup'; key.shift = true; break;\n        case '[6$': key.name = 'pagedown'; key.shift = true; break;\n        case '[7$': key.name = 'home'; key.shift = true; break;\n        case '[8$': key.name = 'end'; key.shift = true; break;\n\n        case 'Oa': key.name = 'up'; key.ctrl = true; break;\n        case 'Ob': key.name = 'down'; key.ctrl = true; break;\n        case 'Oc': key.name = 'right'; key.ctrl = true; break;\n        case 'Od': key.name = 'left'; key.ctrl = true; break;\n        case 'Oe': key.name = 'clear'; key.ctrl = true; break;\n\n        case '[2^': key.name = 'insert'; key.ctrl = true; break;\n        case '[3^': key.name = 'delete'; key.ctrl = true; break;\n        case '[5^': key.name = 'pageup'; key.ctrl = true; break;\n        case '[6^': key.name = 'pagedown'; key.ctrl = true; break;\n        case '[7^': key.name = 'home'; key.ctrl = true; break;\n        case '[8^': key.name = 'end'; key.ctrl = true; break;\n\n        /* misc. */\n        case '[Z': key.name = 'tab'; key.shift = true; break;\n        default: key.name = 'undefined'; break;\n\n      }\n    }\n\n    // Don't emit a key if no name was found\n    if (key.name === undefined) {\n      key = undefined;\n    }\n\n    if (s.length === 1) {\n      ch = s;\n    }\n\n    if (key || ch) {\n      stream.emit('keypress', ch, key);\n      // if (key && key.name === 'return') {\n      //   var nkey = {};\n      //   Object.keys(key).forEach(function(k) {\n      //     nkey[k] = key[k];\n      //   });\n      //   nkey.name = 'enter';\n      //   stream.emit('keypress', ch, nkey);\n      // }\n    }\n  });\n}\n\nfunction isMouse(s) {\n  return /\\x1b\\[M/.test(s)\n    || /\\x1b\\[M([\\x00\\u0020-\\uffff]{3})/.test(s)\n    || /\\x1b\\[(\\d+;\\d+;\\d+)M/.test(s)\n    || /\\x1b\\[<(\\d+;\\d+;\\d+)([mM])/.test(s)\n    || /\\x1b\\[<(\\d+;\\d+;\\d+;\\d+)&w/.test(s)\n    || /\\x1b\\[24([0135])~\\[(\\d+),(\\d+)\\]\\r/.test(s)\n    || /\\x1b\\[(O|I)/.test(s);\n}\n", "/**\n * gpmclient.js - support the gpm mouse protocol\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\nvar net = require('net');\nvar fs = require('fs');\nvar EventEmitter = require('events').EventEmitter;\n\nvar GPM_USE_MAGIC = false;\n\nvar GPM_MOVE = 1\n  , GPM_DRAG = 2\n  , GPM_DOWN = 4\n  , GPM_UP = 8;\n\nvar GPM_DOUBLE = 32\n  , GPM_MFLAG = 128;\n\nvar GPM_REQ_NOPASTE = 3\n  , GPM_HARD = 256;\n\nvar GPM_MAGIC = 0x47706D4C;\nvar GPM_SOCKET = '/dev/gpmctl';\n\n// typedef struct Gpm_Connect {\n//   unsigned short eventMask, defaultMask;\n//   unsigned short minMod, maxMod;\n//   int pid;\n//   int vc;\n// } Gpm_Connect;\n\nfunction send_config(socket, Gpm_Connect,  callback) {\n  var buffer;\n  if (GPM_USE_MAGIC) {\n    buffer = new Buffer(20);\n    buffer.writeUInt32LE(GPM_MAGIC, 0);\n    buffer.writeUInt16LE(Gpm_Connect.eventMask, 4);\n    buffer.writeUInt16LE(Gpm_Connect.defaultMask, 6);\n    buffer.writeUInt16LE(Gpm_Connect.minMod, 8);\n    buffer.writeUInt16LE(Gpm_Connect.maxMod, 10);\n    buffer.writeInt16LE(process.pid, 12);\n    buffer.writeInt16LE(Gpm_Connect.vc, 16);\n  } else {\n    buffer = new Buffer(16);\n    buffer.writeUInt16LE(Gpm_Connect.eventMask, 0);\n    buffer.writeUInt16LE(Gpm_Connect.defaultMask, 2);\n    buffer.writeUInt16LE(Gpm_Connect.minMod, 4);\n    buffer.writeUInt16LE(Gpm_Connect.maxMod, 6);\n    buffer.writeInt16LE(Gpm_Connect.pid, 8);\n    buffer.writeInt16LE(Gpm_Connect.vc, 12);\n  }\n  socket.write(buffer, function() {\n    if (callback) callback();\n  });\n}\n\n// typedef struct Gpm_Event {\n//   unsigned char buttons, modifiers;  // try to be a multiple of 4\n//   unsigned short vc;\n//   short dx, dy, x, y; // displacement x,y for this event, and absolute x,y\n//   enum Gpm_Etype type;\n//   // clicks e.g. double click are determined by time-based processing\n//   int clicks;\n//   enum Gpm_Margin margin;\n//   // wdx/y: displacement of wheels in this event. Absolute values are not\n//   // required, because wheel movement is typically used for scrolling\n//   // or selecting fields, not for cursor positioning. The application\n//   // can determine when the end of file or form is reached, and not\n//   // go any further.\n//   // A single mouse will use wdy, \"vertical scroll\" wheel.\n//   short wdx, wdy;\n// } Gpm_Event;\n\nfunction parseEvent(raw) {\n  var evnt = {};\n  evnt.buttons = raw[0];\n  evnt.modifiers = raw[1];\n  evnt.vc = raw.readUInt16LE(2);\n  evnt.dx = raw.readInt16LE(4);\n  evnt.dy = raw.readInt16LE(6);\n  evnt.x = raw.readInt16LE(8);\n  evnt.y = raw.readInt16LE(10);\n  evnt.type = raw.readInt16LE(12);\n  evnt.clicks = raw.readInt32LE(16);\n  evnt.margin = raw.readInt32LE(20);\n  evnt.wdx = raw.readInt16LE(24);\n  evnt.wdy = raw.readInt16LE(26);\n  return evnt;\n}\n\nfunction GpmClient(options) {\n  if (!(this instanceof GpmClient)) {\n    return new GpmClient(options);\n  }\n\n  EventEmitter.call(this);\n\n  var pid = process.pid;\n\n  // check tty for /dev/tty[n]\n  var path;\n  try {\n    path = fs.readlinkSync('/proc/' + pid + '/fd/0');\n  } catch (e) {\n    ;\n  }\n  var tty = /tty[0-9]+$/.exec(path);\n  if (tty === null) {\n    // TODO: should  also check for /dev/input/..\n  }\n\n  var vc;\n  if (tty) {\n    tty = tty[0];\n    vc = +/[0-9]+$/.exec(tty)[0];\n  }\n\n  var self = this;\n\n  if (tty) {\n    fs.stat(GPM_SOCKET, function(err, stat) {\n      if (err || !stat.isSocket()) {\n        return;\n      }\n\n      var conf =  {\n        eventMask: 0xffff,\n        defaultMask: GPM_MOVE | GPM_HARD,\n        minMod: 0,\n        maxMod: 0xffff,\n        pid: pid,\n        vc: vc\n      };\n\n      var gpm = net.createConnection(GPM_SOCKET);\n      this.gpm = gpm;\n\n      gpm.on('connect', function() {\n        send_config(gpm, conf, function() {\n          conf.pid = 0;\n          conf.vc = GPM_REQ_NOPASTE;\n          //send_config(gpm, conf);\n        });\n      });\n\n      gpm.on('data', function(packet) {\n        var evnt = parseEvent(packet);\n        switch (evnt.type & 15) {\n          case GPM_MOVE:\n            if (evnt.dx || evnt.dy) {\n              self.emit('move', evnt.buttons, evnt.modifiers, evnt.x, evnt.y);\n            }\n            if (evnt.wdx || evnt.wdy) {\n              self.emit('mousewheel',\n                evnt.buttons, evnt.modifiers,\n                evnt.x, evnt.y, evnt.wdx, evnt.wdy);\n            }\n            break;\n          case GPM_DRAG:\n            if (evnt.dx || evnt.dy) {\n              self.emit('drag', evnt.buttons, evnt.modifiers, evnt.x, evnt.y);\n            }\n            if (evnt.wdx || evnt.wdy) {\n              self.emit('mousewheel',\n                evnt.buttons, evnt.modifiers,\n                evnt.x, evnt.y, evnt.wdx, evnt.wdy);\n            }\n            break;\n          case GPM_DOWN:\n            self.emit('btndown', evnt.buttons, evnt.modifiers, evnt.x, evnt.y);\n            if (evnt.type & GPM_DOUBLE) {\n              self.emit('dblclick', evnt.buttons, evnt.modifiers, evnt.x, evnt.y);\n            }\n            break;\n          case GPM_UP:\n            self.emit('btnup', evnt.buttons, evnt.modifiers, evnt.x, evnt.y);\n            if (!(evnt.type & GPM_MFLAG)) {\n              self.emit('click', evnt.buttons, evnt.modifiers, evnt.x, evnt.y);\n            }\n            break;\n        }\n      });\n\n      gpm.on('error', function() {\n        self.stop();\n      });\n    });\n  }\n}\n\nGpmClient.prototype.__proto__ = EventEmitter.prototype;\n\nGpmClient.prototype.stop = function() {\n  if (this.gpm) {\n    this.gpm.end();\n  }\n  delete this.gpm;\n};\n\nGpmClient.prototype.ButtonName =  function(btn) {\n  if (btn & 4) return 'left';\n  if (btn & 2) return 'middle';\n  if (btn & 1) return 'right';\n  return '';\n};\n\nGpmClient.prototype.hasShiftKey =  function(mod) {\n  return (mod & 1) ? true : false;\n};\n\nGpmClient.prototype.hasCtrlKey =  function(mod) {\n  return (mod & 4) ? true : false;\n};\n\nGpmClient.prototype.hasMetaKey =  function(mod) {\n  return (mod & 8) ? true : false;\n};\n\nmodule.exports = GpmClient;\n", "/**\n * program.js - basic curses-like functionality for blessed.\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar EventEmitter = require('events').EventEmitter\n  , StringDecoder = require('string_decoder').StringDecoder\n  , cp = require('child_process')\n  , util = require('util')\n  , fs = require('fs');\n\nvar Tput = require('./tput')\n  , colors = require('./colors')\n  , slice = Array.prototype.slice;\n\nvar nextTick = global.setImmediate || process.nextTick.bind(process);\n\n/**\n * Program\n */\n\nfunction Program(options) {\n  var self = this;\n\n  if (!(this instanceof Program)) {\n    return new Program(options);\n  }\n\n  Program.bind(this);\n\n  EventEmitter.call(this);\n\n  if (!options || options.__proto__ !== Object.prototype) {\n    options = {\n      input: arguments[0],\n      output: arguments[1]\n    };\n  }\n\n  this.options = options;\n  this.input = options.input || process.stdin;\n  this.output = options.output || process.stdout;\n\n  options.log = options.log || options.dump;\n  if (options.log) {\n    this._logger = fs.createWriteStream(options.log);\n    if (options.dump) this.setupDump();\n  }\n\n  this.zero = options.zero !== false;\n  this.useBuffer = options.buffer;\n\n  this.x = 0;\n  this.y = 0;\n  this.savedX = 0;\n  this.savedY = 0;\n\n  this.cols = this.output.columns || 1;\n  this.rows = this.output.rows || 1;\n\n  this.scrollTop = 0;\n  this.scrollBottom = this.rows - 1;\n\n  this._terminal = options.terminal\n    || options.term\n    || process.env.TERM\n    || (process.platform === 'win32' ? 'windows-ansi' : 'xterm');\n\n  this._terminal = this._terminal.toLowerCase();\n\n  // OSX\n  this.isOSXTerm = process.env.TERM_PROGRAM === 'Apple_Terminal';\n  this.isiTerm2 = process.env.TERM_PROGRAM === 'iTerm.app'\n    || !!process.env.ITERM_SESSION_ID;\n\n  // VTE\n  // NOTE: lxterminal does not provide an env variable to check for.\n  // NOTE: gnome-terminal and sakura use a later version of VTE\n  // which provides VTE_VERSION as well as supports SGR events.\n  this.isXFCE = /xfce/i.test(process.env.COLORTERM);\n  this.isTerminator = !!process.env.TERMINATOR_UUID;\n  this.isLXDE = false;\n  this.isVTE = !!process.env.VTE_VERSION\n    || this.isXFCE\n    || this.isTerminator\n    || this.isLXDE;\n\n  // xterm and rxvt - not accurate\n  this.isRxvt = /rxvt/i.test(process.env.COLORTERM);\n  this.isXterm = false;\n\n  this.tmux = !!process.env.TMUX;\n  this.tmuxVersion = (function() {\n    if (!self.tmux) return 2;\n    try {\n      var version = cp.execFileSync('tmux', ['-V'], { encoding: 'utf8' });\n      return +/^tmux ([\\d.]+)/i.exec(version.trim().split('\\n')[0])[1];\n    } catch (e) {\n      return 2;\n    }\n  })();\n\n  this._buf = '';\n  this._flush = this.flush.bind(this);\n\n  if (options.tput !== false) {\n    this.setupTput();\n  }\n\n  this.listen();\n}\n\nProgram.global = null;\n\nProgram.total = 0;\n\nProgram.instances = [];\n\nProgram.bind = function(program) {\n  if (!Program.global) {\n    Program.global = program;\n  }\n\n  if (!~Program.instances.indexOf(program)) {\n    Program.instances.push(program);\n    program.index = Program.total;\n    Program.total++;\n  }\n\n  if (Program._bound) return;\n  Program._bound = true;\n\n  unshiftEvent(process, 'exit', Program._exitHandler = function() {\n    Program.instances.forEach(function(program) {\n      // Potentially reset window title on exit:\n      // if (program._originalTitle) {\n      //   program.setTitle(program._originalTitle);\n      // }\n      // Ensure the buffer is flushed (it should\n      // always be at this point, but who knows).\n      program.flush();\n      // Ensure _exiting is set (could technically\n      // use process._exiting).\n      program._exiting = true;\n    });\n  });\n};\n\nProgram.prototype.__proto__ = EventEmitter.prototype;\n\nProgram.prototype.type = 'program';\n\nProgram.prototype.log = function() {\n  return this._log('LOG',  util.format.apply(util, arguments));\n};\n\nProgram.prototype.debug = function() {\n  if (!this.options.debug) return;\n  return this._log('DEBUG',  util.format.apply(util, arguments));\n};\n\nProgram.prototype._log = function(pre, msg) {\n  if (!this._logger) return;\n  return this._logger.write(pre + ': ' + msg + '\\n-\\n');\n};\n\nProgram.prototype.setupDump = function() {\n  var self = this\n    , write = this.output.write\n    , decoder = new StringDecoder('utf8');\n\n  function stringify(data) {\n    return caret(data\n      .replace(/\\r/g, '\\\\r')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\t/g, '\\\\t'))\n      .replace(/[^ -~]/g, function(ch) {\n        if (ch.charCodeAt(0) > 0xff) return ch;\n        ch = ch.charCodeAt(0).toString(16);\n        if (ch.length > 2) {\n          if (ch.length < 4) ch = '0' + ch;\n          return '\\\\u' + ch;\n        }\n        if (ch.length < 2) ch = '0' + ch;\n        return '\\\\x' + ch;\n      });\n  }\n\n  function caret(data) {\n    return data.replace(/[\\0\\x80\\x1b-\\x1f\\x7f\\x01-\\x1a]/g, function(ch) {\n      switch (ch) {\n        case '\\0':\n        case '\\200':\n          ch = '@';\n          break;\n        case '\\x1b':\n          ch = '[';\n          break;\n        case '\\x1c':\n          ch = '\\\\';\n          break;\n        case '\\x1d':\n          ch = ']';\n          break;\n        case '\\x1e':\n          ch = '^';\n          break;\n        case '\\x1f':\n          ch = '_';\n          break;\n        case '\\x7f':\n          ch = '?';\n          break;\n        default:\n          ch = ch.charCodeAt(0);\n          // From ('A' - 64) to ('Z' - 64).\n          if (ch >= 1 && ch <= 26) {\n            ch = String.fromCharCode(ch + 64);\n          } else {\n            return String.fromCharCode(ch);\n          }\n          break;\n      }\n      return '^' + ch;\n    });\n  }\n\n  this.input.on('data', function(data) {\n    self._log('IN', stringify(decoder.write(data)));\n  });\n\n  this.output.write = function(data) {\n    self._log('OUT', stringify(data));\n    return write.apply(this, arguments);\n  };\n};\n\nProgram.prototype.setupTput = function() {\n  if (this._tputSetup) return;\n  this._tputSetup = true;\n\n  var self = this\n    , options = this.options\n    , write = this._write.bind(this);\n\n  var tput = this.tput = new Tput({\n    terminal: this.terminal,\n    padding: options.padding,\n    extended: options.extended,\n    printf: options.printf,\n    termcap: options.termcap,\n    forceUnicode: options.forceUnicode\n  });\n\n  if (tput.error) {\n    nextTick(function() {\n      self.emit('warning', tput.error.message);\n    });\n  }\n\n  if (tput.padding) {\n    nextTick(function() {\n      self.emit('warning', 'Terminfo padding has been enabled.');\n    });\n  }\n\n  this.put = function() {\n    var args = slice.call(arguments)\n      , cap = args.shift();\n\n    if (tput[cap]) {\n      return this._write(tput[cap].apply(tput, args));\n    }\n  };\n\n  Object.keys(tput).forEach(function(key) {\n    if (self[key] == null) {\n      self[key] = tput[key];\n    }\n\n    if (typeof tput[key] !== 'function') {\n      self.put[key] = tput[key];\n      return;\n    }\n\n    if (tput.padding) {\n      self.put[key] = function() {\n        return tput._print(tput[key].apply(tput, arguments), write);\n      };\n    } else {\n      self.put[key] = function() {\n        return self._write(tput[key].apply(tput, arguments));\n      };\n    }\n  });\n};\n\nProgram.prototype.__defineGetter__('terminal', function() {\n  return this._terminal;\n});\n\nProgram.prototype.__defineSetter__('terminal', function(terminal) {\n  this.setTerminal(terminal);\n  return this.terminal;\n});\n\nProgram.prototype.setTerminal = function(terminal) {\n  this._terminal = terminal.toLowerCase();\n  delete this._tputSetup;\n  this.setupTput();\n};\n\nProgram.prototype.has = function(name) {\n  return this.tput\n    ? this.tput.has(name)\n    : false;\n};\n\nProgram.prototype.term = function(is) {\n  return this.terminal.indexOf(is) === 0;\n};\n\nProgram.prototype.listen = function() {\n  var self = this;\n\n  // Potentially reset window title on exit:\n  // if (!this.isRxvt) {\n  //   if (!this.isVTE) this.setTitleModeFeature(3);\n  //   this.manipulateWindow(21, function(err, data) {\n  //     if (err) return;\n  //     self._originalTitle = data.text;\n  //   });\n  // }\n\n  // Listen for keys/mouse on input\n  if (!this.input._blessedInput) {\n    this.input._blessedInput = 1;\n    this._listenInput();\n  } else {\n    this.input._blessedInput++;\n  }\n\n  this.on('newListener', this._newHandler = function fn(type) {\n    if (type === 'keypress' || type === 'mouse') {\n      self.removeListener('newListener', fn);\n      if (self.input.setRawMode && !self.input.isRaw) {\n        self.input.setRawMode(true);\n        self.input.resume();\n      }\n    }\n  });\n\n  this.on('newListener', function fn(type) {\n    if (type === 'mouse') {\n      self.removeListener('newListener', fn);\n      self.bindMouse();\n    }\n  });\n\n  // Listen for resize on output\n  if (!this.output._blessedOutput) {\n    this.output._blessedOutput = 1;\n    this._listenOutput();\n  } else {\n    this.output._blessedOutput++;\n  }\n};\n\nProgram.prototype._listenInput = function() {\n  var keys = require('./keys')\n    , self = this;\n\n  // Input\n  this.input.on('keypress', this.input._keypressHandler = function(ch, key) {\n    key = key || { ch: ch };\n\n    if (key.name === 'undefined'\n        && (key.code === '[M' || key.code === '[I' || key.code === '[O')) {\n      // A mouse sequence. The `keys` module doesn't understand these.\n      return;\n    }\n\n    if (key.name === 'undefined') {\n      // Not sure what this is, but we should probably ignore it.\n      return;\n    }\n\n    if (key.name === 'enter' && key.sequence === '\\n') {\n      key.name = 'linefeed';\n    }\n\n    if (key.name === 'return' && key.sequence === '\\r') {\n      self.input.emit('keypress', ch, merge({}, key, { name: 'enter' }));\n    }\n\n    var name = (key.ctrl ? 'C-' : '')\n      + (key.meta ? 'M-' : '')\n      + (key.shift && key.name ? 'S-' : '')\n      + (key.name || ch);\n\n    key.full = name;\n\n    Program.instances.forEach(function(program) {\n      if (program.input !== self.input) return;\n      program.emit('keypress', ch, key);\n      program.emit('key ' + name, ch, key);\n    });\n  });\n\n  this.input.on('data', this.input._dataHandler = function(data) {\n    Program.instances.forEach(function(program) {\n      if (program.input !== self.input) return;\n      program.emit('data', data);\n    });\n  });\n\n  keys.emitKeypressEvents(this.input);\n};\n\nProgram.prototype._listenOutput = function() {\n  var self = this;\n\n  if (!this.output.isTTY) {\n    nextTick(function() {\n      self.emit('warning', 'Output is not a TTY');\n    });\n  }\n\n  // Output\n  function resize() {\n    Program.instances.forEach(function(program) {\n      if (program.output !== self.output) return;\n      program.cols = program.output.columns;\n      program.rows = program.output.rows;\n      program.emit('resize');\n    });\n  }\n\n  this.output.on('resize', this.output._resizeHandler = function() {\n    Program.instances.forEach(function(program) {\n      if (program.output !== self.output) return;\n      if (!program.options.resizeTimeout) {\n        return resize();\n      }\n      if (program._resizeTimer) {\n        clearTimeout(program._resizeTimer);\n        delete program._resizeTimer;\n      }\n      var time = typeof program.options.resizeTimeout === 'number'\n        ? program.options.resizeTimeout\n        : 300;\n      program._resizeTimer = setTimeout(resize, time);\n    });\n  });\n};\n\nProgram.prototype.destroy = function() {\n  var index = Program.instances.indexOf(this);\n\n  if (~index) {\n    Program.instances.splice(index, 1);\n    Program.total--;\n\n    this.flush();\n    this._exiting = true;\n\n    Program.global = Program.instances[0];\n\n    if (Program.total === 0) {\n      Program.global = null;\n\n      process.removeListener('exit', Program._exitHandler);\n      delete Program._exitHandler;\n\n      delete Program._bound;\n    }\n\n    this.input._blessedInput--;\n    this.output._blessedOutput--;\n\n    if (this.input._blessedInput === 0) {\n      this.input.removeListener('keypress', this.input._keypressHandler);\n      this.input.removeListener('data', this.input._dataHandler);\n      delete this.input._keypressHandler;\n      delete this.input._dataHandler;\n\n      if (this.input.setRawMode) {\n        if (this.input.isRaw) {\n          this.input.setRawMode(false);\n        }\n        if (!this.input.destroyed) {\n          this.input.pause();\n        }\n      }\n    }\n\n    if (this.output._blessedOutput === 0) {\n      this.output.removeListener('resize', this.output._resizeHandler);\n      delete this.output._resizeHandler;\n    }\n\n    this.removeListener('newListener', this._newHandler);\n    delete this._newHandler;\n\n    this.destroyed = true;\n    this.emit('destroy');\n  }\n};\n\nProgram.prototype.key = function(key, listener) {\n  if (typeof key === 'string') key = key.split(/\\s*,\\s*/);\n  key.forEach(function(key) {\n    return this.on('key ' + key, listener);\n  }, this);\n};\n\nProgram.prototype.onceKey = function(key, listener) {\n  if (typeof key === 'string') key = key.split(/\\s*,\\s*/);\n  key.forEach(function(key) {\n    return this.once('key ' + key, listener);\n  }, this);\n};\n\nProgram.prototype.unkey =\nProgram.prototype.removeKey = function(key, listener) {\n  if (typeof key === 'string') key = key.split(/\\s*,\\s*/);\n  key.forEach(function(key) {\n    return this.removeListener('key ' + key, listener);\n  }, this);\n};\n\n// XTerm mouse events\n// http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n// To better understand these\n// the xterm code is very helpful:\n// Relevant files:\n//   button.c, charproc.c, misc.c\n// Relevant functions in xterm/button.c:\n//   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\n// send a mouse event:\n// regular/utf8: ^[[M Cb Cx Cy\n// urxvt: ^[[ Cb ; Cx ; Cy M\n// sgr: ^[[ Cb ; Cx ; Cy M/m\n// vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n// locator: CSI P e ; P b ; P r ; P c ; P p & w\n// motion example of a left click:\n// ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n// mouseup, mousedown, mousewheel\n// left click: ^[[M 3<^[[M#3<\n// mousewheel up: ^[[M`3>\nProgram.prototype.bindMouse = function() {\n  if (this._boundMouse) return;\n  this._boundMouse = true;\n\n  var decoder = new StringDecoder('utf8')\n    , self = this;\n\n  this.on('data', function(data) {\n    var text = decoder.write(data);\n    if (!text) return;\n    self._bindMouse(text, data);\n  });\n};\n\nProgram.prototype._bindMouse = function(s, buf) {\n  var self = this\n    , key\n    , parts\n    , b\n    , x\n    , y\n    , mod\n    , params\n    , down\n    , page\n    , button;\n\n  key = {\n    name: undefined,\n    ctrl: false,\n    meta: false,\n    shift: false\n  };\n\n  if (Buffer.isBuffer(s)) {\n    if (s[0] > 127 && s[1] === undefined) {\n      s[0] -= 128;\n      s = '\\x1b' + s.toString('utf-8');\n    } else {\n      s = s.toString('utf-8');\n    }\n  }\n\n  // if (this.8bit) {\n  //   s = s.replace(/\\233/g, '\\x1b[');\n  //   buf = new Buffer(s, 'utf8');\n  // }\n\n  // XTerm / X10 for buggy VTE\n  // VTE can only send unsigned chars and no unicode for coords. This limits\n  // them to 0xff. However, normally the x10 protocol does not allow a byte\n  // under 0x20, but since VTE can have the bytes overflow, we can consider\n  // bytes below 0x20 to be up to 0xff + 0x20. This gives a limit of 287. Since\n  // characters ranging from 223 to 248 confuse javascript's utf parser, we\n  // need to parse the raw binary. We can detect whether the terminal is using\n  // a bugged VTE version by examining the coordinates and seeing whether they\n  // are a value they would never otherwise be with a properly implemented x10\n  // protocol. This method of detecting VTE is only 99% reliable because we\n  // can't check if the coords are 0x00 (255) since that is a valid x10 coord\n  // technically.\n  var bx = s.charCodeAt(4);\n  var by = s.charCodeAt(5);\n  if (buf[0] === 0x1b && buf[1] === 0x5b && buf[2] === 0x4d\n      && (this.isVTE\n      || bx >= 65533 || by >= 65533\n      || (bx > 0x00 && bx < 0x20)\n      || (by > 0x00 && by < 0x20)\n      || (buf[4] > 223 && buf[4] < 248 && buf.length === 6)\n      || (buf[5] > 223 && buf[5] < 248 && buf.length === 6))) {\n    b = buf[3];\n    x = buf[4];\n    y = buf[5];\n\n    // unsigned char overflow.\n    if (x < 0x20) x += 0xff;\n    if (y < 0x20) y += 0xff;\n\n    // Convert the coordinates into a\n    // properly formatted x10 utf8 sequence.\n    s = '\\x1b[M'\n      + String.fromCharCode(b)\n      + String.fromCharCode(x)\n      + String.fromCharCode(y);\n  }\n\n  // XTerm / X10\n  if (parts = /^\\x1b\\[M([\\x00\\u0020-\\uffff]{3})/.exec(s)) {\n    b = parts[1].charCodeAt(0);\n    x = parts[1].charCodeAt(1);\n    y = parts[1].charCodeAt(2);\n\n    key.name = 'mouse';\n    key.type = 'X10';\n\n    key.raw = [b, x, y, parts[0]];\n    key.buf = buf;\n    key.x = x - 32;\n    key.y = y - 32;\n\n    if (this.zero) key.x--, key.y--;\n\n    if (x === 0) key.x = 255;\n    if (y === 0) key.y = 255;\n\n    mod = b >> 2;\n    key.shift = !!(mod & 1);\n    key.meta = !!((mod >> 1) & 1);\n    key.ctrl = !!((mod >> 2) & 1);\n\n    b -= 32;\n\n    if ((b >> 6) & 1) {\n      key.action = b & 1 ? 'wheeldown' : 'wheelup';\n      key.button = 'middle';\n    } else if (b === 3) {\n      // NOTE: x10 and urxvt have no way\n      // of telling which button mouseup used.\n      key.action = 'mouseup';\n      key.button = this._lastButton || 'unknown';\n      delete this._lastButton;\n    } else {\n      key.action = 'mousedown';\n      button = b & 3;\n      key.button =\n        button === 0 ? 'left'\n        : button === 1 ? 'middle'\n        : button === 2 ? 'right'\n        : 'unknown';\n      this._lastButton = key.button;\n    }\n\n    // Probably a movement.\n    // The *newer* VTE gets mouse movements comepletely wrong.\n    // This presents a problem: older versions of VTE that get it right might\n    // be confused by the second conditional in the if statement.\n    // NOTE: Possibly just switch back to the if statement below.\n    // none, shift, ctrl, alt\n    // gnome: 32, 36, 48, 40\n    // xterm: 35, _, 51, _\n    // urxvt: 35, _, _, _\n    // if (key.action === 'mousedown' && key.button === 'unknown') {\n    if (b === 35 || b === 39 || b === 51 || b === 43\n        || (this.isVTE && (b === 32 || b === 36 || b === 48 || b === 40))) {\n      delete key.button;\n      key.action = 'mousemove';\n    }\n\n    self.emit('mouse', key);\n\n    return;\n  }\n\n  // URxvt\n  if (parts = /^\\x1b\\[(\\d+;\\d+;\\d+)M/.exec(s)) {\n    params = parts[1].split(';');\n    b = +params[0];\n    x = +params[1];\n    y = +params[2];\n\n    key.name = 'mouse';\n    key.type = 'urxvt';\n\n    key.raw = [b, x, y, parts[0]];\n    key.buf = buf;\n    key.x = x;\n    key.y = y;\n\n    if (this.zero) key.x--, key.y--;\n\n    mod = b >> 2;\n    key.shift = !!(mod & 1);\n    key.meta = !!((mod >> 1) & 1);\n    key.ctrl = !!((mod >> 2) & 1);\n\n    // XXX Bug in urxvt after wheelup/down on mousemove\n    // NOTE: This may be different than 128/129 depending\n    // on mod keys.\n    if (b === 128 || b === 129) {\n      b = 67;\n    }\n\n    b -= 32;\n\n    if ((b >> 6) & 1) {\n      key.action = b & 1 ? 'wheeldown' : 'wheelup';\n      key.button = 'middle';\n    } else if (b === 3) {\n      // NOTE: x10 and urxvt have no way\n      // of telling which button mouseup used.\n      key.action = 'mouseup';\n      key.button = this._lastButton || 'unknown';\n      delete this._lastButton;\n    } else {\n      key.action = 'mousedown';\n      button = b & 3;\n      key.button =\n        button === 0 ? 'left'\n        : button === 1 ? 'middle'\n        : button === 2 ? 'right'\n        : 'unknown';\n      // NOTE: 0/32 = mousemove, 32/64 = mousemove with left down\n      // if ((b >> 1) === 32)\n      this._lastButton = key.button;\n    }\n\n    // Probably a movement.\n    // The *newer* VTE gets mouse movements comepletely wrong.\n    // This presents a problem: older versions of VTE that get it right might\n    // be confused by the second conditional in the if statement.\n    // NOTE: Possibly just switch back to the if statement below.\n    // none, shift, ctrl, alt\n    // urxvt: 35, _, _, _\n    // gnome: 32, 36, 48, 40\n    // if (key.action === 'mousedown' && key.button === 'unknown') {\n    if (b === 35 || b === 39 || b === 51 || b === 43\n        || (this.isVTE && (b === 32 || b === 36 || b === 48 || b === 40))) {\n      delete key.button;\n      key.action = 'mousemove';\n    }\n\n    self.emit('mouse', key);\n\n    return;\n  }\n\n  // SGR\n  if (parts = /^\\x1b\\[<(\\d+;\\d+;\\d+)([mM])/.exec(s)) {\n    down = parts[2] === 'M';\n    params = parts[1].split(';');\n    b = +params[0];\n    x = +params[1];\n    y = +params[2];\n\n    key.name = 'mouse';\n    key.type = 'sgr';\n\n    key.raw = [b, x, y, parts[0]];\n    key.buf = buf;\n    key.x = x;\n    key.y = y;\n\n    if (this.zero) key.x--, key.y--;\n\n    mod = b >> 2;\n    key.shift = !!(mod & 1);\n    key.meta = !!((mod >> 1) & 1);\n    key.ctrl = !!((mod >> 2) & 1);\n\n    if ((b >> 6) & 1) {\n      key.action = b & 1 ? 'wheeldown' : 'wheelup';\n      key.button = 'middle';\n    } else {\n      key.action = down\n        ? 'mousedown'\n        : 'mouseup';\n      button = b & 3;\n      key.button =\n        button === 0 ? 'left'\n        : button === 1 ? 'middle'\n        : button === 2 ? 'right'\n        : 'unknown';\n    }\n\n    // Probably a movement.\n    // The *newer* VTE gets mouse movements comepletely wrong.\n    // This presents a problem: older versions of VTE that get it right might\n    // be confused by the second conditional in the if statement.\n    // NOTE: Possibly just switch back to the if statement below.\n    // none, shift, ctrl, alt\n    // xterm: 35, _, 51, _\n    // gnome: 32, 36, 48, 40\n    // if (key.action === 'mousedown' && key.button === 'unknown') {\n    if (b === 35 || b === 39 || b === 51 || b === 43\n        || (this.isVTE && (b === 32 || b === 36 || b === 48 || b === 40))) {\n      delete key.button;\n      key.action = 'mousemove';\n    }\n\n    self.emit('mouse', key);\n\n    return;\n  }\n\n  // DEC\n  // The xterm mouse documentation says there is a\n  // `<` prefix, the DECRQLP says there is no prefix.\n  if (parts = /^\\x1b\\[<(\\d+;\\d+;\\d+;\\d+)&w/.exec(s)) {\n    params = parts[1].split(';');\n    b = +params[0];\n    x = +params[1];\n    y = +params[2];\n    page = +params[3];\n\n    key.name = 'mouse';\n    key.type = 'dec';\n\n    key.raw = [b, x, y, parts[0]];\n    key.buf = buf;\n    key.x = x;\n    key.y = y;\n    key.page = page;\n\n    if (this.zero) key.x--, key.y--;\n\n    key.action = b === 3\n      ? 'mouseup'\n      : 'mousedown';\n\n    key.button =\n      b === 2 ? 'left'\n      : b === 4 ? 'middle'\n      : b === 6 ? 'right'\n      : 'unknown';\n\n    self.emit('mouse', key);\n\n    return;\n  }\n\n  // vt300\n  if (parts = /^\\x1b\\[24([0135])~\\[(\\d+),(\\d+)\\]\\r/.exec(s)) {\n    b = +parts[1];\n    x = +parts[2];\n    y = +parts[3];\n\n    key.name = 'mouse';\n    key.type = 'vt300';\n\n    key.raw = [b, x, y, parts[0]];\n    key.buf = buf;\n    key.x = x;\n    key.y = y;\n\n    if (this.zero) key.x--, key.y--;\n\n    key.action = 'mousedown';\n    key.button =\n      b === 1 ? 'left'\n      : b === 2 ? 'middle'\n      : b === 5 ? 'right'\n      : 'unknown';\n\n    self.emit('mouse', key);\n\n    return;\n  }\n\n  if (parts = /^\\x1b\\[(O|I)/.exec(s)) {\n    key.action = parts[1] === 'I'\n      ? 'focus'\n      : 'blur';\n\n    self.emit('mouse', key);\n    self.emit(key.action);\n\n    return;\n  }\n};\n\n// gpm support for linux vc\nProgram.prototype.enableGpm = function() {\n  var self = this;\n  var gpmclient = require('./gpmclient');\n\n  if (this.gpm) return;\n\n  this.gpm = gpmclient();\n\n  this.gpm.on('btndown', function(btn, modifier, x, y) {\n    x--, y--;\n\n    var key = {\n      name: 'mouse',\n      type: 'GPM',\n      action: 'mousedown',\n      button: self.gpm.ButtonName(btn),\n      raw: [btn, modifier, x, y],\n      x: x,\n      y: y,\n      shift: self.gpm.hasShiftKey(modifier),\n      meta: self.gpm.hasMetaKey(modifier),\n      ctrl: self.gpm.hasCtrlKey(modifier)\n    };\n\n    self.emit('mouse', key);\n  });\n\n  this.gpm.on('btnup', function(btn, modifier, x, y) {\n    x--, y--;\n\n    var key = {\n      name: 'mouse',\n      type: 'GPM',\n      action: 'mouseup',\n      button: self.gpm.ButtonName(btn),\n      raw: [btn, modifier, x, y],\n      x: x,\n      y: y,\n      shift: self.gpm.hasShiftKey(modifier),\n      meta: self.gpm.hasMetaKey(modifier),\n      ctrl: self.gpm.hasCtrlKey(modifier)\n    };\n\n    self.emit('mouse', key);\n  });\n\n  this.gpm.on('move', function(btn, modifier, x, y) {\n    x--, y--;\n\n    var key = {\n      name: 'mouse',\n      type: 'GPM',\n      action: 'mousemove',\n      button: self.gpm.ButtonName(btn),\n      raw: [btn, modifier, x, y],\n      x: x,\n      y: y,\n      shift: self.gpm.hasShiftKey(modifier),\n      meta: self.gpm.hasMetaKey(modifier),\n      ctrl: self.gpm.hasCtrlKey(modifier)\n    };\n\n    self.emit('mouse', key);\n  });\n\n  this.gpm.on('drag', function(btn, modifier, x, y) {\n    x--, y--;\n\n    var key = {\n      name: 'mouse',\n      type: 'GPM',\n      action: 'mousemove',\n      button: self.gpm.ButtonName(btn),\n      raw: [btn, modifier, x, y],\n      x: x,\n      y: y,\n      shift: self.gpm.hasShiftKey(modifier),\n      meta: self.gpm.hasMetaKey(modifier),\n      ctrl: self.gpm.hasCtrlKey(modifier)\n    };\n\n    self.emit('mouse', key);\n  });\n\n  this.gpm.on('mousewheel', function(btn, modifier, x, y, dx, dy) {\n    var key = {\n      name: 'mouse',\n      type: 'GPM',\n      action: dy > 0 ? 'wheelup' : 'wheeldown',\n      button: self.gpm.ButtonName(btn),\n      raw: [btn, modifier, x, y, dx, dy],\n      x: x,\n      y: y,\n      shift: self.gpm.hasShiftKey(modifier),\n      meta: self.gpm.hasMetaKey(modifier),\n      ctrl: self.gpm.hasCtrlKey(modifier)\n    };\n\n    self.emit('mouse', key);\n  });\n};\n\nProgram.prototype.disableGpm = function() {\n  if (this.gpm) {\n    this.gpm.stop();\n    delete this.gpm;\n  }\n};\n\n// All possible responses from the terminal\nProgram.prototype.bindResponse = function() {\n  if (this._boundResponse) return;\n  this._boundResponse = true;\n\n  var decoder = new StringDecoder('utf8')\n    , self = this;\n\n  this.on('data', function(data) {\n    data = decoder.write(data);\n    if (!data) return;\n    self._bindResponse(data);\n  });\n};\n\nProgram.prototype._bindResponse = function(s) {\n  var out = {}\n    , parts;\n\n  if (Buffer.isBuffer(s)) {\n    if (s[0] > 127 && s[1] === undefined) {\n      s[0] -= 128;\n      s = '\\x1b' + s.toString('utf-8');\n    } else {\n      s = s.toString('utf-8');\n    }\n  }\n\n  // CSI P s c\n  // Send Device Attributes (Primary DA).\n  // CSI > P s c\n  // Send Device Attributes (Secondary DA).\n  if (parts = /^\\x1b\\[(\\?|>)(\\d*(?:;\\d*)*)c/.exec(s)) {\n    parts = parts[2].split(';').map(function(ch) {\n      return +ch || 0;\n    });\n\n    out.event = 'device-attributes';\n    out.code = 'DA';\n\n    if (parts[1] === '?') {\n      out.type = 'primary-attribute';\n      // VT100-style params:\n      if (parts[0] === 1 && parts[2] === 2) {\n        out.term = 'vt100';\n        out.advancedVideo = true;\n      } else if (parts[0] === 1 && parts[2] === 0) {\n        out.term = 'vt101';\n      } else if (parts[0] === 6) {\n        out.term = 'vt102';\n      } else if (parts[0] === 60\n        && parts[1] === 1 && parts[2] === 2\n        && parts[3] === 6 && parts[4] === 8\n        && parts[5] === 9 && parts[6] === 15) {\n        out.term = 'vt220';\n      } else {\n        // VT200-style params:\n        parts.forEach(function(attr) {\n          switch (attr) {\n            case 1:\n              out.cols132 = true;\n              break;\n            case 2:\n              out.printer = true;\n              break;\n            case 6:\n              out.selectiveErase = true;\n              break;\n            case 8:\n              out.userDefinedKeys = true;\n              break;\n            case 9:\n              out.nationalReplacementCharsets = true;\n              break;\n            case 15:\n              out.technicalCharacters = true;\n              break;\n            case 18:\n              out.userWindows = true;\n              break;\n            case 21:\n              out.horizontalScrolling = true;\n              break;\n            case 22:\n              out.ansiColor = true;\n              break;\n            case 29:\n              out.ansiTextLocator = true;\n              break;\n          }\n        });\n      }\n    } else {\n      out.type = 'secondary-attribute';\n      switch (parts[0]) {\n        case 0:\n          out.term = 'vt100';\n          break;\n        case 1:\n          out.term = 'vt220';\n          break;\n        case 2:\n          out.term = 'vt240';\n          break;\n        case 18:\n          out.term = 'vt330';\n          break;\n        case 19:\n          out.term = 'vt340';\n          break;\n        case 24:\n          out.term = 'vt320';\n          break;\n        case 41:\n          out.term = 'vt420';\n          break;\n        case 61:\n          out.term = 'vt510';\n          break;\n        case 64:\n          out.term = 'vt520';\n          break;\n        case 65:\n          out.term = 'vt525';\n          break;\n      }\n      out.firmwareVersion = parts[1];\n      out.romCartridgeRegistrationNumber = parts[2];\n    }\n\n    // LEGACY\n    out.deviceAttributes = out;\n\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n\n    return;\n  }\n\n  // CSI Ps n  Device Status Report (DSR).\n  //     Ps = 5  -> Status Report.  Result (``OK'') is\n  //   CSI 0 n\n  // CSI ? Ps n\n  //   Device Status Report (DSR, DEC-specific).\n  //     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n  //     or CSI ? 1 1  n  (not ready).\n  //     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n  //     or CSI ? 2 1  n  (locked).\n  //     Ps = 2 6  -> Report Keyboard status as\n  //   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n  //   The last two parameters apply to VT400 & up, and denote key-\n  //   board ready and LK01 respectively.\n  //     Ps = 5 3  -> Report Locator status as\n  //   CSI ? 5 3  n  Locator available, if compiled-in, or\n  //   CSI ? 5 0  n  No Locator, if not.\n  if (parts = /^\\x1b\\[(\\?)?(\\d+)(?:;(\\d+);(\\d+);(\\d+))?n/.exec(s)) {\n    out.event = 'device-status';\n    out.code = 'DSR';\n\n    if (!parts[1] && parts[2] === '0' && !parts[3]) {\n      out.type = 'device-status';\n      out.status = 'OK';\n\n      // LEGACY\n      out.deviceStatus = out.status;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] && (parts[2] === '10' || parts[2] === '11') && !parts[3]) {\n      out.type = 'printer-status';\n      out.status = parts[2] === '10'\n        ? 'ready'\n        : 'not ready';\n\n      // LEGACY\n      out.printerStatus = out.status;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] && (parts[2] === '20' || parts[2] === '21') && !parts[3]) {\n      out.type = 'udk-status';\n      out.status = parts[2] === '20'\n        ? 'unlocked'\n        : 'locked';\n\n      // LEGACY\n      out.UDKStatus = out.status;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1]\n        && parts[2] === '27'\n        && parts[3] === '1'\n        && parts[4] === '0'\n        && parts[5] === '0') {\n      out.type = 'keyboard-status';\n      out.status = 'OK';\n\n      // LEGACY\n      out.keyboardStatus = out.status;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] && (parts[2] === '53' || parts[2] === '50') && !parts[3]) {\n      out.type = 'locator-status';\n      out.status = parts[2] === '53'\n          ? 'available'\n          : 'unavailable';\n\n      // LEGACY\n      out.locator = out.status;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    out.type = 'error';\n    out.text = 'Unhandled: ' + JSON.stringify(parts);\n\n    // LEGACY\n    out.error = out.text;\n\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n\n    return;\n  }\n\n  // CSI Ps n  Device Status Report (DSR).\n  //     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n  //   Result is\n  //   CSI r ; c R\n  // CSI ? Ps n\n  //   Device Status Report (DSR, DEC-specific).\n  //     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n  //     ? r ; c R (assumes page is zero).\n  if (parts = /^\\x1b\\[(\\?)?(\\d+);(\\d+)R/.exec(s)) {\n    out.event = 'device-status';\n    out.code = 'DSR';\n    out.type = 'cursor-status';\n\n    out.status = {\n      x: +parts[3],\n      y: +parts[2],\n      page: !parts[1] ? undefined : 0\n    };\n\n    out.x = out.status.x;\n    out.y = out.status.y;\n    out.page = out.status.page;\n\n    // LEGACY\n    out.cursor = out.status;\n\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n\n    return;\n  }\n\n  // CSI Ps ; Ps ; Ps t\n  //   Window manipulation (from dtterm, as well as extensions).\n  //   These controls may be disabled using the allowWindowOps\n  //   resource.  Valid values for the first (and any additional\n  //   parameters) are:\n  //     Ps = 1 1  -> Report xterm window state.  If the xterm window\n  //     is open (non-iconified), it returns CSI 1 t .  If the xterm\n  //     window is iconified, it returns CSI 2 t .\n  //     Ps = 1 3  -> Report xterm window position.  Result is CSI 3\n  //     ; x ; y t\n  //     Ps = 1 4  -> Report xterm window in pixels.  Result is CSI\n  //     4  ;  height ;  width t\n  //     Ps = 1 8  -> Report the size of the text area in characters.\n  //     Result is CSI  8  ;  height ;  width t\n  //     Ps = 1 9  -> Report the size of the screen in characters.\n  //     Result is CSI  9  ;  height ;  width t\n  if (parts = /^\\x1b\\[(\\d+)(?:;(\\d+);(\\d+))?t/.exec(s)) {\n    out.event = 'window-manipulation';\n    out.code = '';\n\n    if ((parts[1] === '1' || parts[1] === '2') && !parts[2]) {\n      out.type = 'window-state';\n      out.state = parts[1] === '1'\n        ? 'non-iconified'\n        : 'iconified';\n\n      // LEGACY\n      out.windowState = out.state;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] === '3' && parts[2]) {\n      out.type = 'window-position';\n\n      out.position = {\n        x: +parts[2],\n        y: +parts[3]\n      };\n      out.x = out.position.x;\n      out.y = out.position.y;\n\n      // LEGACY\n      out.windowPosition = out.position;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] === '4' && parts[2]) {\n      out.type = 'window-size-pixels';\n      out.size = {\n        height: +parts[2],\n        width: +parts[3]\n      };\n      out.height = out.size.height;\n      out.width = out.size.width;\n\n      // LEGACY\n      out.windowSizePixels = out.size;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] === '8' && parts[2]) {\n      out.type = 'textarea-size';\n      out.size = {\n        height: +parts[2],\n        width: +parts[3]\n      };\n      out.height = out.size.height;\n      out.width = out.size.width;\n\n      // LEGACY\n      out.textAreaSizeCharacters = out.size;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] === '9' && parts[2]) {\n      out.type = 'screen-size';\n      out.size = {\n        height: +parts[2],\n        width: +parts[3]\n      };\n      out.height = out.size.height;\n      out.width = out.size.width;\n\n      // LEGACY\n      out.screenSizeCharacters = out.size;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    out.type = 'error';\n    out.text = 'Unhandled: ' + JSON.stringify(parts);\n\n    // LEGACY\n    out.error = out.text;\n\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n\n    return;\n  }\n\n  // rxvt-unicode does not support window manipulation\n  //   Result Normal: OSC l/L 0xEF 0xBF 0xBD\n  //   Result ASCII: OSC l/L 0x1c (file separator)\n  //   Result UTF8->ASCII: OSC l/L 0xFD\n  // Test with:\n  //   echo -ne '\\ePtmux;\\e\\e[>3t\\e\\\\'\n  //   sleep 2 && echo -ne '\\ePtmux;\\e\\e[21t\\e\\\\' & cat -v\n  //   -\n  //   echo -ne '\\e[>3t'\n  //   sleep 2 && echo -ne '\\e[21t' & cat -v\n  if (parts = /^\\x1b\\](l|L)([^\\x07\\x1b]*)$/.exec(s)) {\n    parts[2] = 'rxvt';\n    s = '\\x1b]' + parts[1] + parts[2] + '\\x1b\\\\';\n  }\n\n  // CSI Ps ; Ps ; Ps t\n  //   Window manipulation (from dtterm, as well as extensions).\n  //   These controls may be disabled using the allowWindowOps\n  //   resource.  Valid values for the first (and any additional\n  //   parameters) are:\n  //     Ps = 2 0  -> Report xterm window's icon label.  Result is\n  //     OSC  L  label ST\n  //     Ps = 2 1  -> Report xterm window's title.  Result is OSC  l\n  //     label ST\n  if (parts = /^\\x1b\\](l|L)([^\\x07\\x1b]*)(?:\\x07|\\x1b\\\\)/.exec(s)) {\n    out.event = 'window-manipulation';\n    out.code = '';\n\n    if (parts[1] === 'L') {\n      out.type = 'window-icon-label';\n      out.text = parts[2];\n\n      // LEGACY\n      out.windowIconLabel = out.text;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    if (parts[1] === 'l') {\n      out.type = 'window-title';\n      out.text = parts[2];\n\n      // LEGACY\n      out.windowTitle = out.text;\n\n      this.emit('response', out);\n      this.emit('response ' + out.event, out);\n\n      return;\n    }\n\n    out.type = 'error';\n    out.text = 'Unhandled: ' + JSON.stringify(parts);\n\n    // LEGACY\n    out.error = out.text;\n\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n\n    return;\n  }\n\n  // CSI Ps ' |\n  //   Request Locator Position (DECRQLP).\n  //     -> CSI Pe ; Pb ; Pr ; Pc ; Pp &  w\n  //   Parameters are [event;button;row;column;page].\n  //   Valid values for the event:\n  //     Pe = 0  -> locator unavailable - no other parameters sent.\n  //     Pe = 1  -> request - xterm received a DECRQLP.\n  //     Pe = 2  -> left button down.\n  //     Pe = 3  -> left button up.\n  //     Pe = 4  -> middle button down.\n  //     Pe = 5  -> middle button up.\n  //     Pe = 6  -> right button down.\n  //     Pe = 7  -> right button up.\n  //     Pe = 8  -> M4 button down.\n  //     Pe = 9  -> M4 button up.\n  //     Pe = 1 0  -> locator outside filter rectangle.\n  //   ``button'' parameter is a bitmask indicating which buttons are\n  //     pressed:\n  //     Pb = 0  <- no buttons down.\n  //     Pb & 1  <- right button down.\n  //     Pb & 2  <- middle button down.\n  //     Pb & 4  <- left button down.\n  //     Pb & 8  <- M4 button down.\n  //   ``row'' and ``column'' parameters are the coordinates of the\n  //     locator position in the xterm window, encoded as ASCII deci-\n  //     mal.\n  //   The ``page'' parameter is not used by xterm, and will be omit-\n  //   ted.\n  // NOTE:\n  // This is already implemented in the _bindMouse\n  // method, but it might make more sense here.\n  // The xterm mouse documentation says there is a\n  // `<` prefix, the DECRQLP says there is no prefix.\n  if (parts = /^\\x1b\\[(\\d+(?:;\\d+){4})&w/.exec(s)) {\n    parts = parts[1].split(';').map(function(ch) {\n      return +ch;\n    });\n\n    out.event = 'locator-position';\n    out.code = 'DECRQLP';\n\n    switch (parts[0]) {\n      case 0:\n        out.status = 'locator-unavailable';\n        break;\n      case 1:\n        out.status = 'request';\n        break;\n      case 2:\n        out.status = 'left-button-down';\n        break;\n      case 3:\n        out.status = 'left-button-up';\n        break;\n      case 4:\n        out.status = 'middle-button-down';\n        break;\n      case 5:\n        out.status = 'middle-button-up';\n        break;\n      case 6:\n        out.status = 'right-button-down';\n        break;\n      case 7:\n        out.status = 'right-button-up';\n        break;\n      case 8:\n        out.status = 'm4-button-down';\n        break;\n      case 9:\n        out.status = 'm4-button-up';\n        break;\n      case 10:\n        out.status = 'locator-outside';\n        break;\n    }\n\n    out.mask = parts[1];\n    out.row = parts[2];\n    out.col = parts[3];\n    out.page = parts[4];\n\n    // LEGACY\n    out.locatorPosition = out;\n\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n\n    return;\n  }\n\n  // OSC Ps ; Pt BEL\n  // OSC Ps ; Pt ST\n  // Set Text Parameters\n  if (parts = /^\\x1b\\](\\d+);([^\\x07\\x1b]+)(?:\\x07|\\x1b\\\\)/.exec(s)) {\n    out.event = 'text-params';\n    out.code = 'Set Text Parameters';\n    out.ps = +s[1];\n    out.pt = s[2];\n    this.emit('response', out);\n    this.emit('response ' + out.event, out);\n  }\n};\n\nProgram.prototype.response = function(name, text, callback, noBypass) {\n  var self = this;\n\n  if (arguments.length === 2) {\n    callback = text;\n    text = name;\n    name = null;\n  }\n\n  if (!callback) {\n    callback = function() {};\n  }\n\n  this.bindResponse();\n\n  name = name\n    ? 'response ' + name\n    : 'response';\n\n  var onresponse;\n\n  this.once(name, onresponse = function(event) {\n    if (timeout) clearTimeout(timeout);\n    if (event.type === 'error') {\n      return callback(new Error(event.event + ': ' + event.text));\n    }\n    return callback(null, event);\n  });\n\n  var timeout = setTimeout(function() {\n    self.removeListener(name, onresponse);\n    return callback(new Error('Timeout.'));\n  }, 2000);\n\n  return noBypass\n    ? this._write(text)\n    : this._twrite(text);\n};\n\nProgram.prototype._owrite =\nProgram.prototype.write = function(text) {\n  if (!this.output.writable) return;\n  return this.output.write(text);\n};\n\nProgram.prototype._buffer = function(text) {\n  if (this._exiting) {\n    this.flush();\n    this._owrite(text);\n    return;\n  }\n\n  if (this._buf) {\n    this._buf += text;\n    return;\n  }\n\n  this._buf = text;\n\n  nextTick(this._flush);\n\n  return true;\n};\n\nProgram.prototype.flush = function() {\n  if (!this._buf) return;\n  this._owrite(this._buf);\n  this._buf = '';\n};\n\nProgram.prototype._write = function(text) {\n  if (this.ret) return text;\n  if (this.useBuffer) {\n    return this._buffer(text);\n  }\n  return this._owrite(text);\n};\n\n// Example: `DCS tmux; ESC Pt ST`\n// Real: `DCS tmux; ESC Pt ESC \\`\nProgram.prototype._twrite = function(data) {\n  var self = this\n    , iterations = 0\n    , timer;\n\n  if (this.tmux) {\n    // Replace all STs with BELs so they can be nested within the DCS code.\n    data = data.replace(/\\x1b\\\\/g, '\\x07');\n\n    // Wrap in tmux forward DCS:\n    data = '\\x1bPtmux;\\x1b' + data + '\\x1b\\\\';\n\n    // If we've never even flushed yet, it means we're still in\n    // the normal buffer. Wait for alt screen buffer.\n    if (this.output.bytesWritten === 0) {\n      timer = setInterval(function() {\n        if (self.output.bytesWritten > 0 || ++iterations === 50) {\n          clearInterval(timer);\n          self.flush();\n          self._owrite(data);\n        }\n      }, 100);\n      return true;\n    }\n\n    // NOTE: Flushing the buffer is required in some cases.\n    // The DCS code must be at the start of the output.\n    this.flush();\n\n    // Write out raw now that the buffer is flushed.\n    return this._owrite(data);\n  }\n\n  return this._write(data);\n};\n\nProgram.prototype.echo =\nProgram.prototype.print = function(text, attr) {\n  return attr\n    ? this._write(this.text(text, attr))\n    : this._write(text);\n};\n\nProgram.prototype._ncoords = function() {\n  if (this.x < 0) this.x = 0;\n  else if (this.x >= this.cols) this.x = this.cols - 1;\n  if (this.y < 0) this.y = 0;\n  else if (this.y >= this.rows) this.y = this.rows - 1;\n};\n\nProgram.prototype.setx = function(x) {\n  return this.cursorCharAbsolute(x);\n  // return this.charPosAbsolute(x);\n};\n\nProgram.prototype.sety = function(y) {\n  return this.linePosAbsolute(y);\n};\n\nProgram.prototype.move = function(x, y) {\n  return this.cursorPos(y, x);\n};\n\n// TODO: Fix cud and cuu calls.\nProgram.prototype.omove = function(x, y) {\n  if (!this.zero) {\n    x = (x || 1) - 1;\n    y = (y || 1) - 1;\n  } else {\n    x = x || 0;\n    y = y || 0;\n  }\n  if (y === this.y && x === this.x) {\n    return;\n  }\n  if (y === this.y) {\n    if (x > this.x) {\n      this.cuf(x - this.x);\n    } else if (x < this.x) {\n      this.cub(this.x - x);\n    }\n  } else if (x === this.x) {\n    if (y > this.y) {\n      this.cud(y - this.y);\n    } else if (y < this.y) {\n      this.cuu(this.y - y);\n    }\n  } else {\n    if (!this.zero) x++, y++;\n    this.cup(y, x);\n  }\n};\n\nProgram.prototype.rsetx = function(x) {\n  // return this.HPositionRelative(x);\n  if (!x) return;\n  return x > 0\n    ? this.forward(x)\n    : this.back(-x);\n};\n\nProgram.prototype.rsety = function(y) {\n  // return this.VPositionRelative(y);\n  if (!y) return;\n  return y > 0\n    ? this.up(y)\n    : this.down(-y);\n};\n\nProgram.prototype.rmove = function(x, y) {\n  this.rsetx(x);\n  this.rsety(y);\n};\n\nProgram.prototype.simpleInsert = function(ch, i, attr) {\n  return this._write(this.repeat(ch, i), attr);\n};\n\nProgram.prototype.repeat = function(ch, i) {\n  if (!i || i < 0) i = 0;\n  return Array(i + 1).join(ch);\n};\n\nProgram.prototype.__defineGetter__('title', function() {\n  return this._title;\n});\n\nProgram.prototype.__defineSetter__('title', function(title) {\n  this.setTitle(title);\n  return this._title;\n});\n\n// Specific to iTerm2, but I think it's really cool.\n// Example:\n//  if (!screen.copyToClipboard(text)) {\n//    execClipboardProgram(text);\n//  }\nProgram.prototype.copyToClipboard = function(text) {\n  if (this.isiTerm2) {\n    this._twrite('\\x1b]50;CopyToCliboard=' + text + '\\x07');\n    return true;\n  }\n  return false;\n};\n\n// Only XTerm and iTerm2. If you know of any others, post them.\nProgram.prototype.cursorShape = function(shape, blink) {\n  if (this.isiTerm2) {\n    switch (shape) {\n      case 'block':\n        if (!blink) {\n          this._twrite('\\x1b]50;CursorShape=0;BlinkingCursorEnabled=0\\x07');\n        } else {\n          this._twrite('\\x1b]50;CursorShape=0;BlinkingCursorEnabled=1\\x07');\n        }\n        break;\n      case 'underline':\n        if (!blink) {\n          // this._twrite('\\x1b]50;CursorShape=n;BlinkingCursorEnabled=0\\x07');\n        } else {\n          // this._twrite('\\x1b]50;CursorShape=n;BlinkingCursorEnabled=1\\x07');\n        }\n        break;\n      case 'line':\n        if (!blink) {\n          this._twrite('\\x1b]50;CursorShape=1;BlinkingCursorEnabled=0\\x07');\n        } else {\n          this._twrite('\\x1b]50;CursorShape=1;BlinkingCursorEnabled=1\\x07');\n        }\n        break;\n    }\n    return true;\n  } else if (this.term('xterm') || this.term('screen')) {\n    switch (shape) {\n      case 'block':\n        if (!blink) {\n          this._twrite('\\x1b[0 q');\n        } else {\n          this._twrite('\\x1b[1 q');\n        }\n        break;\n      case 'underline':\n        if (!blink) {\n          this._twrite('\\x1b[2 q');\n        } else {\n          this._twrite('\\x1b[3 q');\n        }\n        break;\n      case 'line':\n        if (!blink) {\n          this._twrite('\\x1b[4 q');\n        } else {\n          this._twrite('\\x1b[5 q');\n        }\n        break;\n    }\n    return true;\n  }\n  return false;\n};\n\nProgram.prototype.cursorColor = function(color) {\n  if (this.term('xterm') || this.term('rxvt') || this.term('screen')) {\n    this._twrite('\\x1b]12;' + color + '\\x07');\n    return true;\n  }\n  return false;\n};\n\nProgram.prototype.cursorReset =\nProgram.prototype.resetCursor = function() {\n  if (this.term('xterm') || this.term('rxvt') || this.term('screen')) {\n    // XXX\n    // return this.resetColors();\n    this._twrite('\\x1b[0 q');\n    this._twrite('\\x1b]112\\x07');\n    // urxvt doesnt support OSC 112\n    this._twrite('\\x1b]12;white\\x07');\n    return true;\n  }\n  return false;\n};\n\nProgram.prototype.getTextParams = function(param, callback) {\n  return this.response('text-params', '\\x1b]' + param + ';?\\x07', function(err, data) {\n    if (err) return callback(err);\n    return callback(null, data.pt);\n  });\n};\n\nProgram.prototype.getCursorColor = function(callback) {\n  return this.getTextParams(12, callback);\n};\n\n/**\n * Normal\n */\n\n//Program.prototype.pad =\nProgram.prototype.nul = function() {\n  //if (this.has('pad')) return this.put.pad();\n  return this._write('\\200');\n};\n\nProgram.prototype.bel =\nProgram.prototype.bell = function() {\n  if (this.has('bel')) return this.put.bel();\n  return this._write('\\x07');\n};\n\nProgram.prototype.vtab = function() {\n  this.y++;\n  this._ncoords();\n  return this._write('\\x0b');\n};\n\nProgram.prototype.ff =\nProgram.prototype.form = function() {\n  if (this.has('ff')) return this.put.ff();\n  return this._write('\\x0c');\n};\n\nProgram.prototype.kbs =\nProgram.prototype.backspace = function() {\n  this.x--;\n  this._ncoords();\n  if (this.has('kbs')) return this.put.kbs();\n  return this._write('\\x08');\n};\n\nProgram.prototype.ht =\nProgram.prototype.tab = function() {\n  this.x += 8;\n  this._ncoords();\n  if (this.has('ht')) return this.put.ht();\n  return this._write('\\t');\n};\n\nProgram.prototype.shiftOut = function() {\n  // if (this.has('S2')) return this.put.S2();\n  return this._write('\\x0e');\n};\n\nProgram.prototype.shiftIn = function() {\n  // if (this.has('S3')) return this.put.S3();\n  return this._write('\\x0f');\n};\n\nProgram.prototype.cr =\nProgram.prototype.return = function() {\n  this.x = 0;\n  if (this.has('cr')) return this.put.cr();\n  return this._write('\\r');\n};\n\nProgram.prototype.nel =\nProgram.prototype.newline =\nProgram.prototype.feed = function() {\n  if (this.tput && this.tput.bools.eat_newline_glitch && this.x >= this.cols) {\n    return;\n  }\n  this.x = 0;\n  this.y++;\n  this._ncoords();\n  if (this.has('nel')) return this.put.nel();\n  return this._write('\\n');\n};\n\n/**\n * Esc\n */\n\n// ESC D Index (IND is 0x84).\nProgram.prototype.ind =\nProgram.prototype.index = function() {\n  this.y++;\n  this._ncoords();\n  if (this.tput) return this.put.ind();\n  return this._write('\\x1bD');\n};\n\n// ESC M Reverse Index (RI is 0x8d).\nProgram.prototype.ri =\nProgram.prototype.reverse =\nProgram.prototype.reverseIndex = function() {\n  this.y--;\n  this._ncoords();\n  if (this.tput) return this.put.ri();\n  return this._write('\\x1bM');\n};\n\n// ESC E Next Line (NEL is 0x85).\nProgram.prototype.nextLine = function() {\n  this.y++;\n  this.x = 0;\n  this._ncoords();\n  if (this.has('nel')) return this.put.nel();\n  return this._write('\\x1bE');\n};\n\n// ESC c Full Reset (RIS).\nProgram.prototype.reset = function() {\n  this.x = this.y = 0;\n  if (this.has('rs1') || this.has('ris')) {\n    return this.has('rs1')\n      ? this.put.rs1()\n      : this.put.ris();\n  }\n  return this._write('\\x1bc');\n};\n\n// ESC H Tab Set (HTS is 0x88).\nProgram.prototype.tabSet = function() {\n  if (this.tput) return this.put.hts();\n  return this._write('\\x1bH');\n};\n\n// ESC 7 Save Cursor (DECSC).\nProgram.prototype.sc =\nProgram.prototype.saveCursor = function(key) {\n  if (key) return this.lsaveCursor(key);\n  this.savedX = this.x || 0;\n  this.savedY = this.y || 0;\n  if (this.tput) return this.put.sc();\n  return this._write('\\x1b7');\n};\n\n// ESC 8 Restore Cursor (DECRC).\nProgram.prototype.rc =\nProgram.prototype.restoreCursor = function(key, hide) {\n  if (key) return this.lrestoreCursor(key, hide);\n  this.x = this.savedX || 0;\n  this.y = this.savedY || 0;\n  if (this.tput) return this.put.rc();\n  return this._write('\\x1b8');\n};\n\n// Save Cursor Locally\nProgram.prototype.lsaveCursor = function(key) {\n  key = key || 'local';\n  this._saved = this._saved || {};\n  this._saved[key] = this._saved[key] || {};\n  this._saved[key].x = this.x;\n  this._saved[key].y = this.y;\n  this._saved[key].hidden = this.cursorHidden;\n};\n\n// Restore Cursor Locally\nProgram.prototype.lrestoreCursor = function(key, hide) {\n  var pos;\n  key = key || 'local';\n  if (!this._saved || !this._saved[key]) return;\n  pos = this._saved[key];\n  //delete this._saved[key];\n  this.cup(pos.y, pos.x);\n  if (hide && pos.hidden !== this.cursorHidden) {\n    if (pos.hidden) {\n      this.hideCursor();\n    } else {\n      this.showCursor();\n    }\n  }\n};\n\n// ESC # 3 DEC line height/width\nProgram.prototype.lineHeight = function() {\n  return this._write('\\x1b#');\n};\n\n// ESC (,),*,+,-,. Designate G0-G2 Character Set.\nProgram.prototype.charset = function(val, level) {\n  level = level || 0;\n\n  // See also:\n  // acs_chars / acsc / ac\n  // enter_alt_charset_mode / smacs / as\n  // exit_alt_charset_mode / rmacs / ae\n  // enter_pc_charset_mode / smpch / S2\n  // exit_pc_charset_mode / rmpch / S3\n\n  switch (level) {\n    case 0:\n      level = '(';\n      break;\n    case 1:\n      level = ')';\n      break;\n    case 2:\n      level = '*';\n      break;\n    case 3:\n      level = '+';\n      break;\n  }\n\n  var name = typeof val === 'string'\n    ? val.toLowerCase()\n    : val;\n\n  switch (name) {\n    case 'acs':\n    case 'scld': // DEC Special Character and Line Drawing Set.\n      if (this.tput) return this.put.smacs();\n      val = '0';\n      break;\n    case 'uk': // UK\n      val = 'A';\n      break;\n    case 'us': // United States (USASCII).\n    case 'usascii':\n    case 'ascii':\n      if (this.tput) return this.put.rmacs();\n      val = 'B';\n      break;\n    case 'dutch': // Dutch\n      val = '4';\n      break;\n    case 'finnish': // Finnish\n      val = 'C';\n      val = '5';\n      break;\n    case 'french': // French\n      val = 'R';\n      break;\n    case 'frenchcanadian': // FrenchCanadian\n      val = 'Q';\n      break;\n    case 'german':  // German\n      val = 'K';\n      break;\n    case 'italian': // Italian\n      val = 'Y';\n      break;\n    case 'norwegiandanish': // NorwegianDanish\n      val = 'E';\n      val = '6';\n      break;\n    case 'spanish': // Spanish\n      val = 'Z';\n      break;\n    case 'swedish': // Swedish\n      val = 'H';\n      val = '7';\n      break;\n    case 'swiss': // Swiss\n      val = '=';\n      break;\n    case 'isolatin': // ISOLatin (actually /A)\n      val = '/A';\n      break;\n    default: // Default\n      if (this.tput) return this.put.rmacs();\n      val = 'B';\n      break;\n  }\n\n  return this._write('\\x1b(' + val);\n};\n\nProgram.prototype.enter_alt_charset_mode =\nProgram.prototype.as =\nProgram.prototype.smacs = function() {\n  return this.charset('acs');\n};\n\nProgram.prototype.exit_alt_charset_mode =\nProgram.prototype.ae =\nProgram.prototype.rmacs = function() {\n  return this.charset('ascii');\n};\n\n// ESC N\n// Single Shift Select of G2 Character Set\n// ( SS2 is 0x8e). This affects next character only.\n// ESC O\n// Single Shift Select of G3 Character Set\n// ( SS3 is 0x8f). This affects next character only.\n// ESC n\n// Invoke the G2 Character Set as GL (LS2).\n// ESC o\n// Invoke the G3 Character Set as GL (LS3).\n// ESC |\n// Invoke the G3 Character Set as GR (LS3R).\n// ESC }\n// Invoke the G2 Character Set as GR (LS2R).\n// ESC ~\n// Invoke the G1 Character Set as GR (LS1R).\nProgram.prototype.setG = function(val) {\n  // if (this.tput) return this.put.S2();\n  // if (this.tput) return this.put.S3();\n  switch (val) {\n    case 1:\n      val = '~'; // GR\n      break;\n    case 2:\n      val = 'n'; // GL\n      val = '}'; // GR\n      val = 'N'; // Next Char Only\n      break;\n    case 3:\n      val = 'o'; // GL\n      val = '|'; // GR\n      val = 'O'; // Next Char Only\n      break;\n  }\n  return this._write('\\x1b' + val);\n};\n\n/**\n * OSC\n */\n\n// OSC Ps ; Pt ST\n// OSC Ps ; Pt BEL\n//   Set Text Parameters.\nProgram.prototype.setTitle = function(title) {\n  this._title = title;\n\n  // if (this.term('screen')) {\n  //   // Tmux pane\n  //   // if (this.tmux) {\n  //   //   return this._write('\\x1b]2;' + title + '\\x1b\\\\');\n  //   // }\n  //   return this._write('\\x1bk' + title + '\\x1b\\\\');\n  // }\n\n  return this._twrite('\\x1b]0;' + title + '\\x07');\n};\n\n// OSC Ps ; Pt ST\n// OSC Ps ; Pt BEL\n//   Reset colors\nProgram.prototype.resetColors = function(param) {\n  if (this.has('Cr')) {\n    return this.put.Cr(param);\n  }\n  return this._twrite('\\x1b]112\\x07');\n  //return this._twrite('\\x1b]112;' + param + '\\x07');\n};\n\n// OSC Ps ; Pt ST\n// OSC Ps ; Pt BEL\n//   Change dynamic colors\nProgram.prototype.dynamicColors = function(param) {\n  if (this.has('Cs')) {\n    return this.put.Cs(param);\n  }\n  return this._twrite('\\x1b]12;' + param + '\\x07');\n};\n\n// OSC Ps ; Pt ST\n// OSC Ps ; Pt BEL\n//   Sel data\nProgram.prototype.selData = function(a, b) {\n  if (this.has('Ms')) {\n    return this.put.Ms(a, b);\n  }\n  return this._twrite('\\x1b]52;' + a + ';' + b + '\\x07');\n};\n\n/**\n * CSI\n */\n\n// CSI Ps A\n// Cursor Up Ps Times (default = 1) (CUU).\nProgram.prototype.cuu =\nProgram.prototype.up =\nProgram.prototype.cursorUp = function(param) {\n  this.y -= param || 1;\n  this._ncoords();\n  if (this.tput) {\n    if (!this.tput.strings.parm_up_cursor) {\n      return this._write(this.repeat(this.tput.cuu1(), param));\n    }\n    return this.put.cuu(param);\n  }\n  return this._write('\\x1b[' + (param || '') + 'A');\n};\n\n// CSI Ps B\n// Cursor Down Ps Times (default = 1) (CUD).\nProgram.prototype.cud =\nProgram.prototype.down =\nProgram.prototype.cursorDown = function(param) {\n  this.y += param || 1;\n  this._ncoords();\n  if (this.tput) {\n    if (!this.tput.strings.parm_down_cursor) {\n      return this._write(this.repeat(this.tput.cud1(), param));\n    }\n    return this.put.cud(param);\n  }\n  return this._write('\\x1b[' + (param || '') + 'B');\n};\n\n// CSI Ps C\n// Cursor Forward Ps Times (default = 1) (CUF).\nProgram.prototype.cuf =\nProgram.prototype.right =\nProgram.prototype.forward =\nProgram.prototype.cursorForward = function(param) {\n  this.x += param || 1;\n  this._ncoords();\n  if (this.tput) {\n    if (!this.tput.strings.parm_right_cursor) {\n      return this._write(this.repeat(this.tput.cuf1(), param));\n    }\n    return this.put.cuf(param);\n  }\n  return this._write('\\x1b[' + (param || '') + 'C');\n};\n\n// CSI Ps D\n// Cursor Backward Ps Times (default = 1) (CUB).\nProgram.prototype.cub =\nProgram.prototype.left =\nProgram.prototype.back =\nProgram.prototype.cursorBackward = function(param) {\n  this.x -= param || 1;\n  this._ncoords();\n  if (this.tput) {\n    if (!this.tput.strings.parm_left_cursor) {\n      return this._write(this.repeat(this.tput.cub1(), param));\n    }\n    return this.put.cub(param);\n  }\n  return this._write('\\x1b[' + (param || '') + 'D');\n};\n\n// CSI Ps ; Ps H\n// Cursor Position [row;column] (default = [1,1]) (CUP).\nProgram.prototype.cup =\nProgram.prototype.pos =\nProgram.prototype.cursorPos = function(row, col) {\n  if (!this.zero) {\n    row = (row || 1) - 1;\n    col = (col || 1) - 1;\n  } else {\n    row = row || 0;\n    col = col || 0;\n  }\n  this.x = col;\n  this.y = row;\n  this._ncoords();\n  if (this.tput) return this.put.cup(row, col);\n  return this._write('\\x1b[' + (row + 1) + ';' + (col + 1) + 'H');\n};\n\n// CSI Ps J  Erase in Display (ED).\n//     Ps = 0  -> Erase Below (default).\n//     Ps = 1  -> Erase Above.\n//     Ps = 2  -> Erase All.\n//     Ps = 3  -> Erase Saved Lines (xterm).\n// CSI ? Ps J\n//   Erase in Display (DECSED).\n//     Ps = 0  -> Selective Erase Below (default).\n//     Ps = 1  -> Selective Erase Above.\n//     Ps = 2  -> Selective Erase All.\nProgram.prototype.ed =\nProgram.prototype.eraseInDisplay = function(param) {\n  if (this.tput) {\n    switch (param) {\n      case 'above':\n        param = 1;\n        break;\n      case 'all':\n        param = 2;\n        break;\n      case 'saved':\n        param = 3;\n        break;\n      case 'below':\n      default:\n        param = 0;\n        break;\n    }\n    // extended tput.E3 = ^[[3;J\n    return this.put.ed(param);\n  }\n  switch (param) {\n    case 'above':\n      return this._write('\\X1b[1J');\n    case 'all':\n      return this._write('\\x1b[2J');\n    case 'saved':\n      return this._write('\\x1b[3J');\n    case 'below':\n    default:\n      return this._write('\\x1b[J');\n  }\n};\n\nProgram.prototype.clear = function() {\n  this.x = 0;\n  this.y = 0;\n  if (this.tput) return this.put.clear();\n  return this._write('\\x1b[H\\x1b[J');\n};\n\n// CSI Ps K  Erase in Line (EL).\n//     Ps = 0  -> Erase to Right (default).\n//     Ps = 1  -> Erase to Left.\n//     Ps = 2  -> Erase All.\n// CSI ? Ps K\n//   Erase in Line (DECSEL).\n//     Ps = 0  -> Selective Erase to Right (default).\n//     Ps = 1  -> Selective Erase to Left.\n//     Ps = 2  -> Selective Erase All.\nProgram.prototype.el =\nProgram.prototype.eraseInLine = function(param) {\n  if (this.tput) {\n    //if (this.tput.back_color_erase) ...\n    switch (param) {\n      case 'left':\n        param = 1;\n        break;\n      case 'all':\n        param = 2;\n        break;\n      case 'right':\n      default:\n        param = 0;\n        break;\n    }\n    return this.put.el(param);\n  }\n  switch (param) {\n    case 'left':\n      return this._write('\\x1b[1K');\n    case 'all':\n      return this._write('\\x1b[2K');\n    case 'right':\n    default:\n      return this._write('\\x1b[K');\n  }\n};\n\n// CSI Pm m  Character Attributes (SGR).\n//     Ps = 0  -> Normal (default).\n//     Ps = 1  -> Bold.\n//     Ps = 4  -> Underlined.\n//     Ps = 5  -> Blink (appears as Bold).\n//     Ps = 7  -> Inverse.\n//     Ps = 8  -> Invisible, i.e., hidden (VT300).\n//     Ps = 2 2  -> Normal (neither bold nor faint).\n//     Ps = 2 4  -> Not underlined.\n//     Ps = 2 5  -> Steady (not blinking).\n//     Ps = 2 7  -> Positive (not inverse).\n//     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n//     Ps = 3 0  -> Set foreground color to Black.\n//     Ps = 3 1  -> Set foreground color to Red.\n//     Ps = 3 2  -> Set foreground color to Green.\n//     Ps = 3 3  -> Set foreground color to Yellow.\n//     Ps = 3 4  -> Set foreground color to Blue.\n//     Ps = 3 5  -> Set foreground color to Magenta.\n//     Ps = 3 6  -> Set foreground color to Cyan.\n//     Ps = 3 7  -> Set foreground color to White.\n//     Ps = 3 9  -> Set foreground color to default (original).\n//     Ps = 4 0  -> Set background color to Black.\n//     Ps = 4 1  -> Set background color to Red.\n//     Ps = 4 2  -> Set background color to Green.\n//     Ps = 4 3  -> Set background color to Yellow.\n//     Ps = 4 4  -> Set background color to Blue.\n//     Ps = 4 5  -> Set background color to Magenta.\n//     Ps = 4 6  -> Set background color to Cyan.\n//     Ps = 4 7  -> Set background color to White.\n//     Ps = 4 9  -> Set background color to default (original).\n\n//   If 16-color support is compiled, the following apply.  Assume\n//   that xterm's resources are set so that the ISO color codes are\n//   the first 8 of a set of 16.  Then the aixterm colors are the\n//   bright versions of the ISO colors:\n//     Ps = 9 0  -> Set foreground color to Black.\n//     Ps = 9 1  -> Set foreground color to Red.\n//     Ps = 9 2  -> Set foreground color to Green.\n//     Ps = 9 3  -> Set foreground color to Yellow.\n//     Ps = 9 4  -> Set foreground color to Blue.\n//     Ps = 9 5  -> Set foreground color to Magenta.\n//     Ps = 9 6  -> Set foreground color to Cyan.\n//     Ps = 9 7  -> Set foreground color to White.\n//     Ps = 1 0 0  -> Set background color to Black.\n//     Ps = 1 0 1  -> Set background color to Red.\n//     Ps = 1 0 2  -> Set background color to Green.\n//     Ps = 1 0 3  -> Set background color to Yellow.\n//     Ps = 1 0 4  -> Set background color to Blue.\n//     Ps = 1 0 5  -> Set background color to Magenta.\n//     Ps = 1 0 6  -> Set background color to Cyan.\n//     Ps = 1 0 7  -> Set background color to White.\n\n//   If xterm is compiled with the 16-color support disabled, it\n//   supports the following, from rxvt:\n//     Ps = 1 0 0  -> Set foreground and background color to\n//     default.\n\n//   If 88- or 256-color support is compiled, the following apply.\n//     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n//     Ps.\n//     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n//     Ps.\nProgram.prototype.sgr =\nProgram.prototype.attr =\nProgram.prototype.charAttributes = function(param, val) {\n  return this._write(this._attr(param, val));\n};\n\nProgram.prototype.text = function(text, attr) {\n  return this._attr(attr, true) + text + this._attr(attr, false);\n};\n\n// NOTE: sun-color may not allow multiple params for SGR.\nProgram.prototype._attr = function(param, val) {\n  var self = this\n    , parts\n    , color\n    , m;\n\n  if (Array.isArray(param)) {\n    parts = param;\n    param = parts[0] || 'normal';\n  } else {\n    param = param || 'normal';\n    parts = param.split(/\\s*[,;]\\s*/);\n  }\n\n  if (parts.length > 1) {\n    var used = {}\n      , out = [];\n\n    parts.forEach(function(part) {\n      part = self._attr(part, val).slice(2, -1);\n      if (part === '') return;\n      if (used[part]) return;\n      used[part] = true;\n      out.push(part);\n    });\n\n    return '\\x1b[' + out.join(';') + 'm';\n  }\n\n  if (param.indexOf('no ') === 0) {\n    param = param.substring(3);\n    val = false;\n  } else if (param.indexOf('!') === 0) {\n    param = param.substring(1);\n    val = false;\n  }\n\n  switch (param) {\n    // attributes\n    case 'normal':\n    case 'default':\n      if (val === false) return '';\n      return '\\x1b[m';\n    case 'bold':\n      return val === false\n        ? '\\x1b[22m'\n        : '\\x1b[1m';\n    case 'ul':\n    case 'underline':\n    case 'underlined':\n      return val === false\n        ? '\\x1b[24m'\n        : '\\x1b[4m';\n    case 'blink':\n      return val === false\n        ? '\\x1b[25m'\n        : '\\x1b[5m';\n    case 'inverse':\n      return val === false\n        ? '\\x1b[27m'\n        : '\\x1b[7m';\n    case 'invisible':\n      return val === false\n        ? '\\x1b[28m'\n        : '\\x1b[8m';\n\n    // 8-color foreground\n    case 'black fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[30m';\n    case 'red fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[31m';\n    case 'green fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[32m';\n    case 'yellow fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[33m';\n    case 'blue fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[34m';\n    case 'magenta fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[35m';\n    case 'cyan fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[36m';\n    case 'white fg':\n    case 'light grey fg':\n    case 'light gray fg':\n    case 'bright grey fg':\n    case 'bright gray fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[37m';\n    case 'default fg':\n      if (val === false) return '';\n      return '\\x1b[39m';\n\n    // 8-color background\n    case 'black bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[40m';\n    case 'red bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[41m';\n    case 'green bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[42m';\n    case 'yellow bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[43m';\n    case 'blue bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[44m';\n    case 'magenta bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[45m';\n    case 'cyan bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[46m';\n    case 'white bg':\n    case 'light grey bg':\n    case 'light gray bg':\n    case 'bright grey bg':\n    case 'bright gray bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[47m';\n    case 'default bg':\n      if (val === false) return '';\n      return '\\x1b[49m';\n\n    // 16-color foreground\n    case 'light black fg':\n    case 'bright black fg':\n    case 'grey fg':\n    case 'gray fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[90m';\n    case 'light red fg':\n    case 'bright red fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[91m';\n    case 'light green fg':\n    case 'bright green fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[92m';\n    case 'light yellow fg':\n    case 'bright yellow fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[93m';\n    case 'light blue fg':\n    case 'bright blue fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[94m';\n    case 'light magenta fg':\n    case 'bright magenta fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[95m';\n    case 'light cyan fg':\n    case 'bright cyan fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[96m';\n    case 'light white fg':\n    case 'bright white fg':\n      return val === false\n        ? '\\x1b[39m'\n        : '\\x1b[97m';\n\n    // 16-color background\n    case 'light black bg':\n    case 'bright black bg':\n    case 'grey bg':\n    case 'gray bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[100m';\n    case 'light red bg':\n    case 'bright red bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[101m';\n    case 'light green bg':\n    case 'bright green bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[102m';\n    case 'light yellow bg':\n    case 'bright yellow bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[103m';\n    case 'light blue bg':\n    case 'bright blue bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[104m';\n    case 'light magenta bg':\n    case 'bright magenta bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[105m';\n    case 'light cyan bg':\n    case 'bright cyan bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[106m';\n    case 'light white bg':\n    case 'bright white bg':\n      return val === false\n        ? '\\x1b[49m'\n        : '\\x1b[107m';\n\n    // non-16-color rxvt default fg and bg\n    case 'default fg bg':\n      if (val === false) return '';\n      return this.term('rxvt')\n        ? '\\x1b[100m'\n        : '\\x1b[39;49m';\n\n    default:\n      // 256-color fg and bg\n      if (param[0] === '#') {\n        param = param.replace(/#(?:[0-9a-f]{3}){1,2}/i, colors.match);\n      }\n\n      m = /^(-?\\d+) (fg|bg)$/.exec(param);\n      if (m) {\n        color = +m[1];\n\n        if (val === false || color === -1) {\n          return this._attr('default ' + m[2]);\n        }\n\n        color = colors.reduce(color, this.tput.colors);\n\n        if (color < 16 || (this.tput && this.tput.colors <= 16)) {\n          if (m[2] === 'fg') {\n            if (color < 8) {\n              color += 30;\n            } else if (color < 16) {\n              color -= 8;\n              color += 90;\n            }\n          } else if (m[2] === 'bg') {\n            if (color < 8) {\n              color += 40;\n            } else if (color < 16) {\n              color -= 8;\n              color += 100;\n            }\n          }\n          return '\\x1b[' + color + 'm';\n        }\n\n        if (m[2] === 'fg') {\n          return '\\x1b[38;5;' + color + 'm';\n        }\n\n        if (m[2] === 'bg') {\n          return '\\x1b[48;5;' + color + 'm';\n        }\n      }\n\n      if (/^[\\d;]*$/.test(param)) {\n        return '\\x1b[' + param + 'm';\n      }\n\n      return null;\n  }\n};\n\nProgram.prototype.fg =\nProgram.prototype.setForeground = function(color, val) {\n  color = color.split(/\\s*[,;]\\s*/).join(' fg, ') + ' fg';\n  return this.attr(color, val);\n};\n\nProgram.prototype.bg =\nProgram.prototype.setBackground = function(color, val) {\n  color = color.split(/\\s*[,;]\\s*/).join(' bg, ') + ' bg';\n  return this.attr(color, val);\n};\n\n// CSI Ps n  Device Status Report (DSR).\n//     Ps = 5  -> Status Report.  Result (``OK'') is\n//   CSI 0 n\n//     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n//   Result is\n//   CSI r ; c R\n// CSI ? Ps n\n//   Device Status Report (DSR, DEC-specific).\n//     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n//     ? r ; c R (assumes page is zero).\n//     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n//     or CSI ? 1 1  n  (not ready).\n//     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n//     or CSI ? 2 1  n  (locked).\n//     Ps = 2 6  -> Report Keyboard status as\n//   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n//   The last two parameters apply to VT400 & up, and denote key-\n//   board ready and LK01 respectively.\n//     Ps = 5 3  -> Report Locator status as\n//   CSI ? 5 3  n  Locator available, if compiled-in, or\n//   CSI ? 5 0  n  No Locator, if not.\nProgram.prototype.dsr =\nProgram.prototype.deviceStatus = function(param, callback, dec, noBypass) {\n  if (dec) {\n    return this.response('device-status',\n      '\\x1b[?' + (param || '0') + 'n', callback, noBypass);\n  }\n  return this.response('device-status',\n    '\\x1b[' + (param || '0') + 'n', callback, noBypass);\n};\n\nProgram.prototype.getCursor = function(callback) {\n  return this.deviceStatus(6, callback, false, true);\n};\n\nProgram.prototype.saveReportedCursor = function(callback) {\n  var self = this;\n  if (this.tput.strings.user7 === '\\x1b[6n' || this.term('screen')) {\n    return this.getCursor(function(err, data) {\n      if (data) {\n        self._rx = data.status.x;\n        self._ry = data.status.y;\n      }\n      if (!callback) return;\n      return callback(err);\n    });\n  }\n  if (!callback) return;\n  return callback();\n};\n\nProgram.prototype.restoreReportedCursor = function() {\n  if (this._rx == null) return;\n  return this.cup(this._ry, this._rx);\n  // return this.nel();\n};\n\n/**\n * Additions\n */\n\n// CSI Ps @\n// Insert Ps (Blank) Character(s) (default = 1) (ICH).\nProgram.prototype.ich =\nProgram.prototype.insertChars = function(param) {\n  this.x += param || 1;\n  this._ncoords();\n  if (this.tput) return this.put.ich(param);\n  return this._write('\\x1b[' + (param || 1) + '@');\n};\n\n// CSI Ps E\n// Cursor Next Line Ps Times (default = 1) (CNL).\n// same as CSI Ps B ?\nProgram.prototype.cnl =\nProgram.prototype.cursorNextLine = function(param) {\n  this.y += param || 1;\n  this._ncoords();\n  return this._write('\\x1b[' + (param || '') + 'E');\n};\n\n// CSI Ps F\n// Cursor Preceding Line Ps Times (default = 1) (CNL).\n// reuse CSI Ps A ?\nProgram.prototype.cpl =\nProgram.prototype.cursorPrecedingLine = function(param) {\n  this.y -= param || 1;\n  this._ncoords();\n  return this._write('\\x1b[' + (param || '') + 'F');\n};\n\n// CSI Ps G\n// Cursor Character Absolute  [column] (default = [row,1]) (CHA).\nProgram.prototype.cha =\nProgram.prototype.cursorCharAbsolute = function(param) {\n  if (!this.zero) {\n    param = (param || 1) - 1;\n  } else {\n    param = param || 0;\n  }\n  this.x = param;\n  this.y = 0;\n  this._ncoords();\n  if (this.tput) return this.put.hpa(param);\n  return this._write('\\x1b[' + (param + 1) + 'G');\n};\n\n// CSI Ps L\n// Insert Ps Line(s) (default = 1) (IL).\nProgram.prototype.il =\nProgram.prototype.insertLines = function(param) {\n  if (this.tput) return this.put.il(param);\n  return this._write('\\x1b[' + (param || '') + 'L');\n};\n\n// CSI Ps M\n// Delete Ps Line(s) (default = 1) (DL).\nProgram.prototype.dl =\nProgram.prototype.deleteLines = function(param) {\n  if (this.tput) return this.put.dl(param);\n  return this._write('\\x1b[' + (param || '') + 'M');\n};\n\n// CSI Ps P\n// Delete Ps Character(s) (default = 1) (DCH).\nProgram.prototype.dch =\nProgram.prototype.deleteChars = function(param) {\n  if (this.tput) return this.put.dch(param);\n  return this._write('\\x1b[' + (param || '') + 'P');\n};\n\n// CSI Ps X\n// Erase Ps Character(s) (default = 1) (ECH).\nProgram.prototype.ech =\nProgram.prototype.eraseChars = function(param) {\n  if (this.tput) return this.put.ech(param);\n  return this._write('\\x1b[' + (param || '') + 'X');\n};\n\n// CSI Pm `  Character Position Absolute\n//   [column] (default = [row,1]) (HPA).\nProgram.prototype.hpa =\nProgram.prototype.charPosAbsolute = function(param) {\n  this.x = param || 0;\n  this._ncoords();\n  if (this.tput) {\n    return this.put.hpa.apply(this.put, arguments);\n  }\n  param = slice.call(arguments).join(';');\n  return this._write('\\x1b[' + (param || '') + '`');\n};\n\n// 141 61 a * HPR -\n// Horizontal Position Relative\n// reuse CSI Ps C ?\nProgram.prototype.hpr =\nProgram.prototype.HPositionRelative = function(param) {\n  if (this.tput) return this.cuf(param);\n  this.x += param || 1;\n  this._ncoords();\n  // Does not exist:\n  // if (this.tput) return this.put.hpr(param);\n  return this._write('\\x1b[' + (param || '') + 'a');\n};\n\n// CSI Ps c  Send Device Attributes (Primary DA).\n//     Ps = 0  or omitted -> request attributes from terminal.  The\n//     response depends on the decTerminalID resource setting.\n//     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n//     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n//     -> CSI ? 6 c  (``VT102'')\n//     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n//   The VT100-style response parameters do not mean anything by\n//   themselves.  VT220 parameters do, telling the host what fea-\n//   tures the terminal supports:\n//     Ps = 1  -> 132-columns.\n//     Ps = 2  -> Printer.\n//     Ps = 6  -> Selective erase.\n//     Ps = 8  -> User-defined keys.\n//     Ps = 9  -> National replacement character sets.\n//     Ps = 1 5  -> Technical characters.\n//     Ps = 2 2  -> ANSI color, e.g., VT525.\n//     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n// CSI > Ps c\n//   Send Device Attributes (Secondary DA).\n//     Ps = 0  or omitted -> request the terminal's identification\n//     code.  The response depends on the decTerminalID resource set-\n//     ting.  It should apply only to VT220 and up, but xterm extends\n//     this to VT100.\n//     -> CSI  > Pp ; Pv ; Pc c\n//   where Pp denotes the terminal type\n//     Pp = 0  -> ``VT100''.\n//     Pp = 1  -> ``VT220''.\n//   and Pv is the firmware version (for xterm, this was originally\n//   the XFree86 patch number, starting with 95).  In a DEC termi-\n//   nal, Pc indicates the ROM cartridge registration number and is\n//   always zero.\n// More information:\n//   xterm/charproc.c - line 2012, for more information.\n//   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\nProgram.prototype.da =\nProgram.prototype.sendDeviceAttributes = function(param, callback) {\n  return this.response('device-attributes',\n    '\\x1b[' + (param || '') + 'c', callback);\n};\n\n// CSI Pm d\n// Line Position Absolute  [row] (default = [1,column]) (VPA).\n// NOTE: Can't find in terminfo, no idea why it has multiple params.\nProgram.prototype.vpa =\nProgram.prototype.linePosAbsolute = function(param) {\n  this.y = param || 1;\n  this._ncoords();\n  if (this.tput) {\n    return this.put.vpa.apply(this.put, arguments);\n  }\n  param = slice.call(arguments).join(';');\n  return this._write('\\x1b[' + (param || '') + 'd');\n};\n\n// 145 65 e * VPR - Vertical Position Relative\n// reuse CSI Ps B ?\nProgram.prototype.vpr =\nProgram.prototype.VPositionRelative = function(param) {\n  if (this.tput) return this.cud(param);\n  this.y += param || 1;\n  this._ncoords();\n  // Does not exist:\n  // if (this.tput) return this.put.vpr(param);\n  return this._write('\\x1b[' + (param || '') + 'e');\n};\n\n// CSI Ps ; Ps f\n//   Horizontal and Vertical Position [row;column] (default =\n//   [1,1]) (HVP).\nProgram.prototype.hvp =\nProgram.prototype.HVPosition = function(row, col) {\n  if (!this.zero) {\n    row = (row || 1) - 1;\n    col = (col || 1) - 1;\n  } else {\n    row = row || 0;\n    col = col || 0;\n  }\n  this.y = row;\n  this.x = col;\n  this._ncoords();\n  // Does not exist (?):\n  // if (this.tput) return this.put.hvp(row, col);\n  if (this.tput) return this.put.cup(row, col);\n  return this._write('\\x1b[' + (row + 1) + ';' + (col + 1) + 'f');\n};\n\n// CSI Pm h  Set Mode (SM).\n//     Ps = 2  -> Keyboard Action Mode (AM).\n//     Ps = 4  -> Insert Mode (IRM).\n//     Ps = 1 2  -> Send/receive (SRM).\n//     Ps = 2 0  -> Automatic Newline (LNM).\n// CSI ? Pm h\n//   DEC Private Mode Set (DECSET).\n//     Ps = 1  -> Application Cursor Keys (DECCKM).\n//     Ps = 2  -> Designate USASCII for character sets G0-G3\n//     (DECANM), and set VT100 mode.\n//     Ps = 3  -> 132 Column Mode (DECCOLM).\n//     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n//     Ps = 5  -> Reverse Video (DECSCNM).\n//     Ps = 6  -> Origin Mode (DECOM).\n//     Ps = 7  -> Wraparound Mode (DECAWM).\n//     Ps = 8  -> Auto-repeat Keys (DECARM).\n//     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n//     tion Mouse Tracking.\n//     Ps = 1 0  -> Show toolbar (rxvt).\n//     Ps = 1 2  -> Start Blinking Cursor (att610).\n//     Ps = 1 8  -> Print form feed (DECPFF).\n//     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n//     Ps = 2 5  -> Show Cursor (DECTCEM).\n//     Ps = 3 0  -> Show scrollbar (rxvt).\n//     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n//     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n//     Ps = 4 0  -> Allow 80 -> 132 Mode.\n//     Ps = 4 1  -> more(1) fix (see curses resource).\n//     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n//     RCM).\n//     Ps = 4 4  -> Turn On Margin Bell.\n//     Ps = 4 5  -> Reverse-wraparound Mode.\n//     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n//     compile-time option.\n//     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n//     abled by the titeInhibit resource).\n//     Ps = 6 6  -> Application keypad (DECNKM).\n//     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n//     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n//     release.  See the section Mouse Tracking.\n//     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n//     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n//     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n//     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n//     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n//     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n//     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n//     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n//     (enables the eightBitInput resource).\n//     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n//     Lock keys.  (This enables the numLock resource).\n//     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n//     enables the metaSendsEscape resource).\n//     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n//     key.\n//     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n//     enables the altSendsEscape resource).\n//     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n//     (This enables the keepSelection resource).\n//     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n//     the selectToClipboard resource).\n//     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n//     Control-G is received.  (This enables the bellIsUrgent\n//     resource).\n//     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n//     is received.  (enables the popOnBell resource).\n//     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n//     disabled by the titeInhibit resource).\n//     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n//     abled by the titeInhibit resource).\n//     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n//     Screen Buffer, clearing it first.  (This may be disabled by\n//     the titeInhibit resource).  This combines the effects of the 1\n//     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n//     applications rather than the 4 7  mode.\n//     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n//     Ps = 1 0 5 1  -> Set Sun function-key mode.\n//     Ps = 1 0 5 2  -> Set HP function-key mode.\n//     Ps = 1 0 5 3  -> Set SCO function-key mode.\n//     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n//     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n//     Ps = 2 0 0 4  -> Set bracketed paste mode.\n// Modes:\n//   http://vt100.net/docs/vt220-rm/chapter4.html\nProgram.prototype.sm =\nProgram.prototype.setMode = function() {\n  var param = slice.call(arguments).join(';');\n  return this._write('\\x1b[' + (param || '') + 'h');\n};\n\nProgram.prototype.decset = function() {\n  var param = slice.call(arguments).join(';');\n  return this.setMode('?' + param);\n};\n\nProgram.prototype.dectcem =\nProgram.prototype.cnorm =\nProgram.prototype.cvvis =\nProgram.prototype.showCursor = function() {\n  this.cursorHidden = false;\n  // NOTE: In xterm terminfo:\n  // cnorm stops blinking cursor\n  // cvvis starts blinking cursor\n  if (this.tput) return this.put.cnorm();\n  //if (this.tput) return this.put.cvvis();\n  // return this._write('\\x1b[?12l\\x1b[?25h'); // cursor_normal\n  // return this._write('\\x1b[?12;25h'); // cursor_visible\n  return this.setMode('?25');\n};\n\nProgram.prototype.alternate =\nProgram.prototype.smcup =\nProgram.prototype.alternateBuffer = function() {\n  this.isAlt = true;\n  if (this.tput) return this.put.smcup();\n  if (this.term('vt') || this.term('linux')) return;\n  this.setMode('?47');\n  return this.setMode('?1049');\n};\n\n// CSI Pm l  Reset Mode (RM).\n//     Ps = 2  -> Keyboard Action Mode (AM).\n//     Ps = 4  -> Replace Mode (IRM).\n//     Ps = 1 2  -> Send/receive (SRM).\n//     Ps = 2 0  -> Normal Linefeed (LNM).\n// CSI ? Pm l\n//   DEC Private Mode Reset (DECRST).\n//     Ps = 1  -> Normal Cursor Keys (DECCKM).\n//     Ps = 2  -> Designate VT52 mode (DECANM).\n//     Ps = 3  -> 80 Column Mode (DECCOLM).\n//     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n//     Ps = 5  -> Normal Video (DECSCNM).\n//     Ps = 6  -> Normal Cursor Mode (DECOM).\n//     Ps = 7  -> No Wraparound Mode (DECAWM).\n//     Ps = 8  -> No Auto-repeat Keys (DECARM).\n//     Ps = 9  -> Don't send Mouse X & Y on button press.\n//     Ps = 1 0  -> Hide toolbar (rxvt).\n//     Ps = 1 2  -> Stop Blinking Cursor (att610).\n//     Ps = 1 8  -> Don't print form feed (DECPFF).\n//     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n//     Ps = 2 5  -> Hide Cursor (DECTCEM).\n//     Ps = 3 0  -> Don't show scrollbar (rxvt).\n//     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n//     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n//     Ps = 4 1  -> No more(1) fix (see curses resource).\n//     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n//     NRCM).\n//     Ps = 4 4  -> Turn Off Margin Bell.\n//     Ps = 4 5  -> No Reverse-wraparound Mode.\n//     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n//     compile-time option).\n//     Ps = 4 7  -> Use Normal Screen Buffer.\n//     Ps = 6 6  -> Numeric keypad (DECNKM).\n//     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n//     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n//     release.  See the section Mouse Tracking.\n//     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n//     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n//     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n//     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n//     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n//     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n//     (rxvt).\n//     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n//     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n//     the eightBitInput resource).\n//     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n//     Lock keys.  (This disables the numLock resource).\n//     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n//     (This disables the metaSendsEscape resource).\n//     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n//     Delete key.\n//     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n//     (This disables the altSendsEscape resource).\n//     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n//     (This disables the keepSelection resource).\n//     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n//     the selectToClipboard resource).\n//     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n//     Control-G is received.  (This disables the bellIsUrgent\n//     resource).\n//     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n//     G is received.  (This disables the popOnBell resource).\n//     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n//     first if in the Alternate Screen.  (This may be disabled by\n//     the titeInhibit resource).\n//     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n//     disabled by the titeInhibit resource).\n//     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n//     as in DECRC.  (This may be disabled by the titeInhibit\n//     resource).  This combines the effects of the 1 0 4 7  and 1 0\n//     4 8  modes.  Use this with terminfo-based applications rather\n//     than the 4 7  mode.\n//     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n//     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n//     Ps = 1 0 5 2  -> Reset HP function-key mode.\n//     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n//     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n//     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n//     Ps = 2 0 0 4  -> Reset bracketed paste mode.\nProgram.prototype.rm =\nProgram.prototype.resetMode = function() {\n  var param = slice.call(arguments).join(';');\n  return this._write('\\x1b[' + (param || '') + 'l');\n};\n\nProgram.prototype.decrst = function() {\n  var param = slice.call(arguments).join(';');\n  return this.resetMode('?' + param);\n};\n\nProgram.prototype.dectcemh =\nProgram.prototype.cursor_invisible =\nProgram.prototype.vi =\nProgram.prototype.civis =\nProgram.prototype.hideCursor = function() {\n  this.cursorHidden = true;\n  if (this.tput) return this.put.civis();\n  return this.resetMode('?25');\n};\n\nProgram.prototype.rmcup =\nProgram.prototype.normalBuffer = function() {\n  this.isAlt = false;\n  if (this.tput) return this.put.rmcup();\n  this.resetMode('?47');\n  return this.resetMode('?1049');\n};\n\nProgram.prototype.enableMouse = function() {\n  if (process.env.BLESSED_FORCE_MODES) {\n    var modes = process.env.BLESSED_FORCE_MODES.split(',');\n    var options = {};\n    for (var n = 0; n < modes.length; ++n) {\n      var pair = modes[n].split('=');\n      var v = pair[1] !== '0';\n      switch (pair[0].toUpperCase()) {\n        case 'SGRMOUSE':\n          options.sgrMouse = v;\n          break;\n        case 'UTFMOUSE':\n          options.utfMouse = v;\n          break;\n        case 'VT200MOUSE':\n          options.vt200Mouse = v;\n          break;\n        case 'URXVTMOUSE':\n          options.urxvtMouse = v;\n          break;\n        case 'X10MOUSE':\n          options.x10Mouse = v;\n          break;\n        case 'DECMOUSE':\n          options.decMouse = v;\n          break;\n        case 'PTERMMOUSE':\n          options.ptermMouse = v;\n          break;\n        case 'JSBTERMMOUSE':\n          options.jsbtermMouse = v;\n          break;\n        case 'VT200HILITE':\n          options.vt200Hilite = v;\n          break;\n        case 'GPMMOUSE':\n          options.gpmMouse = v;\n          break;\n        case 'CELLMOTION':\n          options.cellMotion = v;\n          break;\n        case 'ALLMOTION':\n          options.allMotion = v;\n          break;\n        case 'SENDFOCUS':\n          options.sendFocus = v;\n          break;\n      }\n    }\n    return this.setMouse(options, true);\n  }\n\n  // NOTE:\n  // Cell Motion isn't normally need for anything below here, but we'll\n  // activate it for tmux (whether using it or not) in case our all-motion\n  // passthrough does not work. It can't hurt.\n\n  if (this.term('rxvt-unicode')) {\n    return this.setMouse({\n      urxvtMouse: true,\n      cellMotion: true,\n      allMotion: true\n    }, true);\n  }\n\n  // rxvt does not support the X10 UTF extensions\n  if (this.term('rxvt')) {\n    return this.setMouse({\n      vt200Mouse: true,\n      x10Mouse: true,\n      cellMotion: true,\n      allMotion: true\n    }, true);\n  }\n\n  // libvte is broken. Older versions do not support the\n  // X10 UTF extension. However, later versions do support\n  // SGR/URXVT.\n  if (this.isVTE) {\n    return this.setMouse({\n      // NOTE: Could also use urxvtMouse here.\n      sgrMouse: true,\n      cellMotion: true,\n      allMotion: true\n    }, true);\n  }\n\n  if (this.term('linux')) {\n    return this.setMouse({\n      vt200Mouse: true,\n      gpmMouse: true\n    }, true);\n  }\n\n  if (this.term('xterm')\n      || this.term('screen')\n      || (this.tput && this.tput.strings.key_mouse)) {\n    return this.setMouse({\n      vt200Mouse: true,\n      utfMouse: true,\n      cellMotion: true,\n      allMotion: true\n    }, true);\n  }\n};\n\nProgram.prototype.disableMouse = function() {\n  if (!this._currentMouse) return;\n\n  var obj = {};\n\n  Object.keys(this._currentMouse).forEach(function(key) {\n    obj[key] = false;\n  });\n\n  return this.setMouse(obj, false);\n};\n\n// Set Mouse\nProgram.prototype.setMouse = function(opt, enable) {\n  if (opt.normalMouse != null) {\n    opt.vt200Mouse = opt.normalMouse;\n    opt.allMotion = opt.normalMouse;\n  }\n\n  if (opt.hiliteTracking != null) {\n    opt.vt200Hilite = opt.hiliteTracking;\n  }\n\n  if (enable === true) {\n    if (this._currentMouse) {\n      this.setMouse(opt);\n      Object.keys(opt).forEach(function(key) {\n        this._currentMouse[key] = opt[key];\n      }, this);\n      return;\n    }\n    this._currentMouse = opt;\n    this.mouseEnabled = true;\n  } else if (enable === false) {\n    delete this._currentMouse;\n    this.mouseEnabled = false;\n  }\n\n  //     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n  //     tion Mouse Tracking.\n  //     Ps = 9  -> Don't send Mouse X & Y on button press.\n  // x10 mouse\n  if (opt.x10Mouse != null) {\n    if (opt.x10Mouse) this.setMode('?9');\n    else this.resetMode('?9');\n  }\n\n  //     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n  //     release.  See the section Mouse Tracking.\n  //     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n  //     release.  See the section Mouse Tracking.\n  // vt200 mouse\n  if (opt.vt200Mouse != null) {\n    if (opt.vt200Mouse) this.setMode('?1000');\n    else this.resetMode('?1000');\n  }\n\n  //     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n  //     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n  if (opt.vt200Hilite != null) {\n    if (opt.vt200Hilite) this.setMode('?1001');\n    else this.resetMode('?1001');\n  }\n\n  //     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n  //     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n  // button event mouse\n  if (opt.cellMotion != null) {\n    if (opt.cellMotion) this.setMode('?1002');\n    else this.resetMode('?1002');\n  }\n\n  //     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n  //     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n  // any event mouse\n  if (opt.allMotion != null) {\n    // NOTE: Latest versions of tmux seem to only support cellMotion (not\n    // allMotion). We pass all motion through to the terminal.\n    if (this.tmux && this.tmuxVersion >= 2) {\n      if (opt.allMotion) this._twrite('\\x1b[?1003h');\n      else this._twrite('\\x1b[?1003l');\n    } else {\n      if (opt.allMotion) this.setMode('?1003');\n      else this.resetMode('?1003');\n    }\n  }\n\n  //     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n  //     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n  if (opt.sendFocus != null) {\n    if (opt.sendFocus) this.setMode('?1004');\n    else this.resetMode('?1004');\n  }\n\n  //     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n  //     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n  if (opt.utfMouse != null) {\n    if (opt.utfMouse) this.setMode('?1005');\n    else this.resetMode('?1005');\n  }\n\n  // sgr mouse\n  if (opt.sgrMouse != null) {\n    if (opt.sgrMouse) this.setMode('?1006');\n    else this.resetMode('?1006');\n  }\n\n  // urxvt mouse\n  if (opt.urxvtMouse != null) {\n    if (opt.urxvtMouse) this.setMode('?1015');\n    else this.resetMode('?1015');\n  }\n\n  // dec mouse\n  if (opt.decMouse != null) {\n    if (opt.decMouse) this._write('\\x1b[1;2\\'z\\x1b[1;3\\'{');\n    else this._write('\\x1b[\\'z');\n  }\n\n  // pterm mouse\n  if (opt.ptermMouse != null) {\n    if (opt.ptermMouse) this._write('\\x1b[>1h\\x1b[>6h\\x1b[>7h\\x1b[>1h\\x1b[>9l');\n    else this._write('\\x1b[>1l\\x1b[>6l\\x1b[>7l\\x1b[>1l\\x1b[>9h');\n  }\n\n  // jsbterm mouse\n  if (opt.jsbtermMouse != null) {\n    // + = advanced mode\n    if (opt.jsbtermMouse) this._write('\\x1b[0~ZwLMRK+1Q\\x1b\\\\');\n    else this._write('\\x1b[0~ZwQ\\x1b\\\\');\n  }\n\n  // gpm mouse\n  if (opt.gpmMouse != null) {\n    if (opt.gpmMouse) this.enableGpm();\n    else this.disableGpm();\n  }\n};\n\n// CSI Ps ; Ps r\n//   Set Scrolling Region [top;bottom] (default = full size of win-\n//   dow) (DECSTBM).\n// CSI ? Pm r\nProgram.prototype.decstbm =\nProgram.prototype.csr =\nProgram.prototype.setScrollRegion = function(top, bottom) {\n  if (!this.zero) {\n    top = (top || 1) - 1;\n    bottom = (bottom || this.rows) - 1;\n  } else {\n    top = top || 0;\n    bottom = bottom || (this.rows - 1);\n  }\n  this.scrollTop = top;\n  this.scrollBottom = bottom;\n  this.x = 0;\n  this.y = 0;\n  this._ncoords();\n  if (this.tput) return this.put.csr(top, bottom);\n  return this._write('\\x1b[' + (top + 1) + ';' + (bottom + 1) + 'r');\n};\n\n// CSI s\n//   Save cursor (ANSI.SYS).\nProgram.prototype.scA =\nProgram.prototype.saveCursorA = function() {\n  this.savedX = this.x;\n  this.savedY = this.y;\n  if (this.tput) return this.put.sc();\n  return this._write('\\x1b[s');\n};\n\n// CSI u\n//   Restore cursor (ANSI.SYS).\nProgram.prototype.rcA =\nProgram.prototype.restoreCursorA = function() {\n  this.x = this.savedX || 0;\n  this.y = this.savedY || 0;\n  if (this.tput) return this.put.rc();\n  return this._write('\\x1b[u');\n};\n\n/**\n * Lesser Used\n */\n\n// CSI Ps I\n//   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\nProgram.prototype.cht =\nProgram.prototype.cursorForwardTab = function(param) {\n  this.x += 8;\n  this._ncoords();\n  if (this.tput) return this.put.tab(param);\n  return this._write('\\x1b[' + (param || 1) + 'I');\n};\n\n// CSI Ps S  Scroll up Ps lines (default = 1) (SU).\nProgram.prototype.su =\nProgram.prototype.scrollUp = function(param) {\n  this.y -= param || 1;\n  this._ncoords();\n  if (this.tput) return this.put.parm_index(param);\n  return this._write('\\x1b[' + (param || 1) + 'S');\n};\n\n// CSI Ps T  Scroll down Ps lines (default = 1) (SD).\nProgram.prototype.sd =\nProgram.prototype.scrollDown = function(param) {\n  this.y += param || 1;\n  this._ncoords();\n  if (this.tput) return this.put.parm_rindex(param);\n  return this._write('\\x1b[' + (param || 1) + 'T');\n};\n\n// CSI Ps ; Ps ; Ps ; Ps ; Ps T\n//   Initiate highlight mouse tracking.  Parameters are\n//   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n//   Tracking.\nProgram.prototype.initMouseTracking = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + 'T');\n};\n\n// CSI > Ps; Ps T\n//   Reset one or more features of the title modes to the default\n//   value.  Normally, \"reset\" disables the feature.  It is possi-\n//   ble to disable the ability to reset features by compiling a\n//   different default for the title modes into xterm.\n//     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n//     Ps = 1  -> Do not query window/icon labels using hexadeci-\n//     mal.\n//     Ps = 2  -> Do not set window/icon labels using UTF-8.\n//     Ps = 3  -> Do not query window/icon labels using UTF-8.\n//   (See discussion of \"Title Modes\").\nProgram.prototype.resetTitleModes = function() {\n  return this._write('\\x1b[>' + slice.call(arguments).join(';') + 'T');\n};\n\n// CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\nProgram.prototype.cbt =\nProgram.prototype.cursorBackwardTab = function(param) {\n  this.x -= 8;\n  this._ncoords();\n  if (this.tput) return this.put.cbt(param);\n  return this._write('\\x1b[' + (param || 1) + 'Z');\n};\n\n// CSI Ps b  Repeat the preceding graphic character Ps times (REP).\nProgram.prototype.rep =\nProgram.prototype.repeatPrecedingCharacter = function(param) {\n  this.x += param || 1;\n  this._ncoords();\n  if (this.tput) return this.put.rep(param);\n  return this._write('\\x1b[' + (param || 1) + 'b');\n};\n\n// CSI Ps g  Tab Clear (TBC).\n//     Ps = 0  -> Clear Current Column (default).\n//     Ps = 3  -> Clear All.\n// Potentially:\n//   Ps = 2  -> Clear Stops on Line.\n//   http://vt100.net/annarbor/aaa-ug/section6.html\nProgram.prototype.tbc =\nProgram.prototype.tabClear = function(param) {\n  if (this.tput) return this.put.tbc(param);\n  return this._write('\\x1b[' + (param || 0) + 'g');\n};\n\n// CSI Pm i  Media Copy (MC).\n//     Ps = 0  -> Print screen (default).\n//     Ps = 4  -> Turn off printer controller mode.\n//     Ps = 5  -> Turn on printer controller mode.\n// CSI ? Pm i\n//   Media Copy (MC, DEC-specific).\n//     Ps = 1  -> Print line containing cursor.\n//     Ps = 4  -> Turn off autoprint mode.\n//     Ps = 5  -> Turn on autoprint mode.\n//     Ps = 1  0  -> Print composed display, ignores DECPEX.\n//     Ps = 1  1  -> Print all pages.\nProgram.prototype.mc =\nProgram.prototype.mediaCopy = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + 'i');\n};\n\nProgram.prototype.print_screen =\nProgram.prototype.ps =\nProgram.prototype.mc0 = function() {\n  if (this.tput) return this.put.mc0();\n  return this.mc('0');\n};\n\nProgram.prototype.prtr_on =\nProgram.prototype.po =\nProgram.prototype.mc5 = function() {\n  if (this.tput) return this.put.mc5();\n  return this.mc('5');\n};\n\nProgram.prototype.prtr_off =\nProgram.prototype.pf =\nProgram.prototype.mc4 = function() {\n  if (this.tput) return this.put.mc4();\n  return this.mc('4');\n};\n\nProgram.prototype.prtr_non =\nProgram.prototype.pO =\nProgram.prototype.mc5p = function() {\n  if (this.tput) return this.put.mc5p();\n  return this.mc('?5');\n};\n\n// CSI > Ps; Ps m\n//   Set or reset resource-values used by xterm to decide whether\n//   to construct escape sequences holding information about the\n//   modifiers pressed with a given key.  The first parameter iden-\n//   tifies the resource to set/reset.  The second parameter is the\n//   value to assign to the resource.  If the second parameter is\n//   omitted, the resource is reset to its initial value.\n//     Ps = 1  -> modifyCursorKeys.\n//     Ps = 2  -> modifyFunctionKeys.\n//     Ps = 4  -> modifyOtherKeys.\n//   If no parameters are given, all resources are reset to their\n//   initial values.\nProgram.prototype.setResources = function() {\n  return this._write('\\x1b[>' + slice.call(arguments).join(';') + 'm');\n};\n\n// CSI > Ps n\n//   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n//   sequence.  This corresponds to a resource value of \"-1\", which\n//   cannot be set with the other sequence.  The parameter identi-\n//   fies the resource to be disabled:\n//     Ps = 1  -> modifyCursorKeys.\n//     Ps = 2  -> modifyFunctionKeys.\n//     Ps = 4  -> modifyOtherKeys.\n//   If the parameter is omitted, modifyFunctionKeys is disabled.\n//   When modifyFunctionKeys is disabled, xterm uses the modifier\n//   keys to make an extended sequence of functions rather than\n//   adding a parameter to each function key to denote the modi-\n//   fiers.\nProgram.prototype.disableModifiers = function(param) {\n  return this._write('\\x1b[>' + (param || '') + 'n');\n};\n\n// CSI > Ps p\n//   Set resource value pointerMode.  This is used by xterm to\n//   decide whether to hide the pointer cursor as the user types.\n//   Valid values for the parameter:\n//     Ps = 0  -> never hide the pointer.\n//     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n//     Ps = 2  -> always hide the pointer.  If no parameter is\n//     given, xterm uses the default, which is 1 .\nProgram.prototype.setPointerMode = function(param) {\n  return this._write('\\x1b[>' + (param || '') + 'p');\n};\n\n// CSI ! p   Soft terminal reset (DECSTR).\n// http://vt100.net/docs/vt220-rm/table4-10.html\nProgram.prototype.decstr =\nProgram.prototype.rs2 =\nProgram.prototype.softReset = function() {\n  //if (this.tput) return this.put.init_2string();\n  //if (this.tput) return this.put.reset_2string();\n  if (this.tput) return this.put.rs2();\n  //return this._write('\\x1b[!p');\n  //return this._write('\\x1b[!p\\x1b[?3;4l\\x1b[4l\\x1b>'); // init\n  return this._write('\\x1b[!p\\x1b[?3;4l\\x1b[4l\\x1b>'); // reset\n};\n\n// CSI Ps$ p\n//   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n//     CSI Ps; Pm$ y\n//   where Ps is the mode number as in RM, and Pm is the mode\n//   value:\n//     0 - not recognized\n//     1 - set\n//     2 - reset\n//     3 - permanently set\n//     4 - permanently reset\nProgram.prototype.decrqm =\nProgram.prototype.requestAnsiMode = function(param) {\n  return this._write('\\x1b[' + (param || '') + '$p');\n};\n\n// CSI ? Ps$ p\n//   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n//     CSI ? Ps; Pm$ p\n//   where Ps is the mode number as in DECSET, Pm is the mode value\n//   as in the ANSI DECRQM.\nProgram.prototype.decrqmp =\nProgram.prototype.requestPrivateMode = function(param) {\n  return this._write('\\x1b[?' + (param || '') + '$p');\n};\n\n// CSI Ps ; Ps \" p\n//   Set conformance level (DECSCL).  Valid values for the first\n//   parameter:\n//     Ps = 6 1  -> VT100.\n//     Ps = 6 2  -> VT200.\n//     Ps = 6 3  -> VT300.\n//   Valid values for the second parameter:\n//     Ps = 0  -> 8-bit controls.\n//     Ps = 1  -> 7-bit controls (always set for VT100).\n//     Ps = 2  -> 8-bit controls.\nProgram.prototype.decscl =\nProgram.prototype.setConformanceLevel = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '\"p');\n};\n\n// CSI Ps q  Load LEDs (DECLL).\n//     Ps = 0  -> Clear all LEDS (default).\n//     Ps = 1  -> Light Num Lock.\n//     Ps = 2  -> Light Caps Lock.\n//     Ps = 3  -> Light Scroll Lock.\n//     Ps = 2  1  -> Extinguish Num Lock.\n//     Ps = 2  2  -> Extinguish Caps Lock.\n//     Ps = 2  3  -> Extinguish Scroll Lock.\nProgram.prototype.decll =\nProgram.prototype.loadLEDs = function(param) {\n  return this._write('\\x1b[' + (param || '') + 'q');\n};\n\n// CSI Ps SP q\n//   Set cursor style (DECSCUSR, VT520).\n//     Ps = 0  -> blinking block.\n//     Ps = 1  -> blinking block (default).\n//     Ps = 2  -> steady block.\n//     Ps = 3  -> blinking underline.\n//     Ps = 4  -> steady underline.\nProgram.prototype.decscusr =\nProgram.prototype.setCursorStyle = function(param) {\n  switch (param) {\n    case 'blinking block':\n      param = 1;\n      break;\n    case 'block':\n    case 'steady block':\n      param = 2;\n      break;\n    case 'blinking underline':\n      param = 3;\n      break;\n    case 'underline':\n    case 'steady underline':\n      param = 4;\n      break;\n    case 'blinking bar':\n      param = 5;\n      break;\n    case 'bar':\n    case 'steady bar':\n      param = 6;\n      break;\n  }\n  if (param === 2 && this.has('Se')) {\n    return this.put.Se();\n  }\n  if (this.has('Ss')) {\n    return this.put.Ss(param);\n  }\n  return this._write('\\x1b[' + (param || 1) + ' q');\n};\n\n// CSI Ps \" q\n//   Select character protection attribute (DECSCA).  Valid values\n//   for the parameter:\n//     Ps = 0  -> DECSED and DECSEL can erase (default).\n//     Ps = 1  -> DECSED and DECSEL cannot erase.\n//     Ps = 2  -> DECSED and DECSEL can erase.\nProgram.prototype.decsca =\nProgram.prototype.setCharProtectionAttr = function(param) {\n  return this._write('\\x1b[' + (param || 0) + '\"q');\n};\n\n// CSI ? Pm r\n//   Restore DEC Private Mode Values.  The value of Ps previously\n//   saved is restored.  Ps values are the same as for DECSET.\nProgram.prototype.restorePrivateValues = function() {\n  return this._write('\\x1b[?' + slice.call(arguments).join(';') + 'r');\n};\n\n// CSI Pt; Pl; Pb; Pr; Ps$ r\n//   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.deccara =\nProgram.prototype.setAttrInRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '$r');\n};\n\n// CSI ? Pm s\n//   Save DEC Private Mode Values.  Ps values are the same as for\n//   DECSET.\nProgram.prototype.savePrivateValues = function() {\n  return this._write('\\x1b[?' + slice.call(arguments).join(';') + 's');\n};\n\n// CSI Ps ; Ps ; Ps t\n//   Window manipulation (from dtterm, as well as extensions).\n//   These controls may be disabled using the allowWindowOps\n//   resource.  Valid values for the first (and any additional\n//   parameters) are:\n//     Ps = 1  -> De-iconify window.\n//     Ps = 2  -> Iconify window.\n//     Ps = 3  ;  x ;  y -> Move window to [x, y].\n//     Ps = 4  ;  height ;  width -> Resize the xterm window to\n//     height and width in pixels.\n//     Ps = 5  -> Raise the xterm window to the front of the stack-\n//     ing order.\n//     Ps = 6  -> Lower the xterm window to the bottom of the\n//     stacking order.\n//     Ps = 7  -> Refresh the xterm window.\n//     Ps = 8  ;  height ;  width -> Resize the text area to\n//     [height;width] in characters.\n//     Ps = 9  ;  0  -> Restore maximized window.\n//     Ps = 9  ;  1  -> Maximize window (i.e., resize to screen\n//     size).\n//     Ps = 1 0  ;  0  -> Undo full-screen mode.\n//     Ps = 1 0  ;  1  -> Change to full-screen.\n//     Ps = 1 1  -> Report xterm window state.  If the xterm window\n//     is open (non-iconified), it returns CSI 1 t .  If the xterm\n//     window is iconified, it returns CSI 2 t .\n//     Ps = 1 3  -> Report xterm window position.  Result is CSI 3\n//     ; x ; y t\n//     Ps = 1 4  -> Report xterm window in pixels.  Result is CSI\n//     4  ;  height ;  width t\n//     Ps = 1 8  -> Report the size of the text area in characters.\n//     Result is CSI  8  ;  height ;  width t\n//     Ps = 1 9  -> Report the size of the screen in characters.\n//     Result is CSI  9  ;  height ;  width t\n//     Ps = 2 0  -> Report xterm window's icon label.  Result is\n//     OSC  L  label ST\n//     Ps = 2 1  -> Report xterm window's title.  Result is OSC  l\n//     label ST\n//     Ps = 2 2  ;  0  -> Save xterm icon and window title on\n//     stack.\n//     Ps = 2 2  ;  1  -> Save xterm icon title on stack.\n//     Ps = 2 2  ;  2  -> Save xterm window title on stack.\n//     Ps = 2 3  ;  0  -> Restore xterm icon and window title from\n//     stack.\n//     Ps = 2 3  ;  1  -> Restore xterm icon title from stack.\n//     Ps = 2 3  ;  2  -> Restore xterm window title from stack.\n//     Ps >= 2 4  -> Resize to Ps lines (DECSLPP).\nProgram.prototype.manipulateWindow = function() {\n  var args = slice.call(arguments);\n\n  var callback = typeof args[args.length - 1] === 'function'\n    ? args.pop()\n    : function() {};\n\n  return this.response('window-manipulation',\n    '\\x1b[' + args.join(';') + 't', callback);\n};\n\nProgram.prototype.getWindowSize = function(callback) {\n  return this.manipulateWindow(18, callback);\n};\n\n// CSI Pt; Pl; Pb; Pr; Ps$ t\n//   Reverse Attributes in Rectangular Area (DECRARA), VT400 and\n//   up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Ps denotes the attributes to reverse, i.e.,  1, 4, 5, 7.\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.decrara =\nProgram.prototype.reverseAttrInRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '$t');\n};\n\n// CSI > Ps; Ps t\n//   Set one or more features of the title modes.  Each parameter\n//   enables a single feature.\n//     Ps = 0  -> Set window/icon labels using hexadecimal.\n//     Ps = 1  -> Query window/icon labels using hexadecimal.\n//     Ps = 2  -> Set window/icon labels using UTF-8.\n//     Ps = 3  -> Query window/icon labels using UTF-8.  (See dis-\n//     cussion of \"Title Modes\")\n// XXX VTE bizarelly echos this:\nProgram.prototype.setTitleModeFeature = function() {\n  return this._twrite('\\x1b[>' + slice.call(arguments).join(';') + 't');\n};\n\n// CSI Ps SP t\n//   Set warning-bell volume (DECSWBV, VT520).\n//     Ps = 0  or 1  -> off.\n//     Ps = 2 , 3  or 4  -> low.\n//     Ps = 5 , 6 , 7 , or 8  -> high.\nProgram.prototype.decswbv =\nProgram.prototype.setWarningBellVolume = function(param) {\n  return this._write('\\x1b[' + (param || '') + ' t');\n};\n\n// CSI Ps SP u\n//   Set margin-bell volume (DECSMBV, VT520).\n//     Ps = 1  -> off.\n//     Ps = 2 , 3  or 4  -> low.\n//     Ps = 0 , 5 , 6 , 7 , or 8  -> high.\nProgram.prototype.decsmbv =\nProgram.prototype.setMarginBellVolume = function(param) {\n  return this._write('\\x1b[' + (param || '') + ' u');\n};\n\n// CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n//   Copy Rectangular Area (DECCRA, VT400 and up).\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Pp denotes the source page.\n//     Pt; Pl denotes the target location.\n//     Pp denotes the target page.\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.deccra =\nProgram.prototype.copyRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '$v');\n};\n\n// CSI Pt ; Pl ; Pb ; Pr ' w\n//   Enable Filter Rectangle (DECEFR), VT420 and up.\n//   Parameters are [top;left;bottom;right].\n//   Defines the coordinates of a filter rectangle and activates\n//   it.  Anytime the locator is detected outside of the filter\n//   rectangle, an outside rectangle event is generated and the\n//   rectangle is disabled.  Filter rectangles are always treated\n//   as \"one-shot\" events.  Any parameters that are omitted default\n//   to the current locator position.  If all parameters are omit-\n//   ted, any locator motion will be reported.  DECELR always can-\n//   cels any prevous rectangle definition.\nProgram.prototype.decefr =\nProgram.prototype.enableFilterRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '\\'w');\n};\n\n// CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n//   if Ps is a \"0\" (default) or \"1\", and xterm is emulating VT100,\n//   the control sequence elicits a response of the same form whose\n//   parameters describe the terminal:\n//     Ps -> the given Ps incremented by 2.\n//     Pn = 1  <- no parity.\n//     Pn = 1  <- eight bits.\n//     Pn = 1  <- 2  8  transmit 38.4k baud.\n//     Pn = 1  <- 2  8  receive 38.4k baud.\n//     Pn = 1  <- clock multiplier.\n//     Pn = 0  <- STP flags.\nProgram.prototype.decreqtparm =\nProgram.prototype.requestParameters = function(param) {\n  return this._write('\\x1b[' + (param || 0) + 'x');\n};\n\n// CSI Ps x  Select Attribute Change Extent (DECSACE).\n//     Ps = 0  -> from start to end position, wrapped.\n//     Ps = 1  -> from start to end position, wrapped.\n//     Ps = 2  -> rectangle (exact).\nProgram.prototype.decsace =\nProgram.prototype.selectChangeExtent = function(param) {\n  return this._write('\\x1b[' + (param || 0) + 'x');\n};\n\n// CSI Pc; Pt; Pl; Pb; Pr$ x\n//   Fill Rectangular Area (DECFRA), VT420 and up.\n//     Pc is the character to use.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.decfra =\nProgram.prototype.fillRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '$x');\n};\n\n// CSI Ps ; Pu ' z\n//   Enable Locator Reporting (DECELR).\n//   Valid values for the first parameter:\n//     Ps = 0  -> Locator disabled (default).\n//     Ps = 1  -> Locator enabled.\n//     Ps = 2  -> Locator enabled for one report, then disabled.\n//   The second parameter specifies the coordinate unit for locator\n//   reports.\n//   Valid values for the second parameter:\n//     Pu = 0  <- or omitted -> default to character cells.\n//     Pu = 1  <- device physical pixels.\n//     Pu = 2  <- character cells.\nProgram.prototype.decelr =\nProgram.prototype.enableLocatorReporting = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '\\'z');\n};\n\n// CSI Pt; Pl; Pb; Pr$ z\n//   Erase Rectangular Area (DECERA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.decera =\nProgram.prototype.eraseRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '$z');\n};\n\n// CSI Pm ' {\n//   Select Locator Events (DECSLE).\n//   Valid values for the first (and any additional parameters)\n//   are:\n//     Ps = 0  -> only respond to explicit host requests (DECRQLP).\n//                (This is default).  It also cancels any filter\n//   rectangle.\n//     Ps = 1  -> report button down transitions.\n//     Ps = 2  -> do not report button down transitions.\n//     Ps = 3  -> report button up transitions.\n//     Ps = 4  -> do not report button up transitions.\nProgram.prototype.decsle =\nProgram.prototype.setLocatorEvents = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '\\'{');\n};\n\n// CSI Pt; Pl; Pb; Pr$ {\n//   Selective Erase Rectangular Area (DECSERA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\nProgram.prototype.decsera =\nProgram.prototype.selectiveEraseRectangle = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + '${');\n};\n\n// CSI Ps ' |\n//   Request Locator Position (DECRQLP).\n//   Valid values for the parameter are:\n//     Ps = 0 , 1 or omitted -> transmit a single DECLRP locator\n//     report.\n\n//   If Locator Reporting has been enabled by a DECELR, xterm will\n//   respond with a DECLRP Locator Report.  This report is also\n//   generated on button up and down events if they have been\n//   enabled with a DECSLE, or when the locator is detected outside\n//   of a filter rectangle, if filter rectangles have been enabled\n//   with a DECEFR.\n\n//     -> CSI Pe ; Pb ; Pr ; Pc ; Pp &  w\n\n//   Parameters are [event;button;row;column;page].\n//   Valid values for the event:\n//     Pe = 0  -> locator unavailable - no other parameters sent.\n//     Pe = 1  -> request - xterm received a DECRQLP.\n//     Pe = 2  -> left button down.\n//     Pe = 3  -> left button up.\n//     Pe = 4  -> middle button down.\n//     Pe = 5  -> middle button up.\n//     Pe = 6  -> right button down.\n//     Pe = 7  -> right button up.\n//     Pe = 8  -> M4 button down.\n//     Pe = 9  -> M4 button up.\n//     Pe = 1 0  -> locator outside filter rectangle.\n//   ``button'' parameter is a bitmask indicating which buttons are\n//     pressed:\n//     Pb = 0  <- no buttons down.\n//     Pb & 1  <- right button down.\n//     Pb & 2  <- middle button down.\n//     Pb & 4  <- left button down.\n//     Pb & 8  <- M4 button down.\n//   ``row'' and ``column'' parameters are the coordinates of the\n//     locator position in the xterm window, encoded as ASCII deci-\n//     mal.\n//   The ``page'' parameter is not used by xterm, and will be omit-\n//   ted.\nProgram.prototype.decrqlp =\nProgram.prototype.req_mouse_pos =\nProgram.prototype.reqmp =\nProgram.prototype.requestLocatorPosition = function(param, callback) {\n  // See also:\n  // get_mouse / getm / Gm\n  // mouse_info / minfo / Mi\n  // Correct for tput?\n  if (this.has('req_mouse_pos')) {\n    var code = this.tput.req_mouse_pos(param);\n    return this.response('locator-position', code, callback);\n  }\n  return this.response('locator-position',\n    '\\x1b[' + (param || '') + '\\'|', callback);\n};\n\n// CSI P m SP }\n// Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.decic =\nProgram.prototype.insertColumns = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + ' }');\n};\n\n// CSI P m SP ~\n// Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n// NOTE: xterm doesn't enable this code by default.\nProgram.prototype.decdc =\nProgram.prototype.deleteColumns = function() {\n  return this._write('\\x1b[' + slice.call(arguments).join(';') + ' ~');\n};\n\nProgram.prototype.out = function(name) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  this.ret = true;\n  var out = this[name].apply(this, args);\n  this.ret = false;\n  return out;\n};\n\nProgram.prototype.sigtstp = function(callback) {\n  var resume = this.pause();\n\n  process.once('SIGCONT', function() {\n    resume();\n    if (callback) callback();\n  });\n\n  process.kill(process.pid, 'SIGTSTP');\n};\n\nProgram.prototype.pause = function(callback) {\n  var self = this\n    , isAlt = this.isAlt\n    , mouseEnabled = this.mouseEnabled;\n\n  this.lsaveCursor('pause');\n  //this.csr(0, screen.height - 1);\n  if (isAlt) this.normalBuffer();\n  this.showCursor();\n  if (mouseEnabled) this.disableMouse();\n\n  var write = this.output.write;\n  this.output.write = function() {};\n  if (this.input.setRawMode) {\n    this.input.setRawMode(false);\n  }\n  this.input.pause();\n\n  return this._resume = function() {\n    delete self._resume;\n\n    if (self.input.setRawMode) {\n      self.input.setRawMode(true);\n    }\n    self.input.resume();\n    self.output.write = write;\n\n    if (isAlt) self.alternateBuffer();\n    //self.csr(0, screen.height - 1);\n    if (mouseEnabled) self.enableMouse();\n    self.lrestoreCursor('pause', true);\n\n    if (callback) callback();\n  };\n};\n\nProgram.prototype.resume = function() {\n  if (this._resume) return this._resume();\n};\n\n/**\n * Helpers\n */\n\n// We could do this easier by just manipulating the _events object, or for\n// older versions of node, manipulating the array returned by listeners(), but\n// neither of these methods are guaranteed to work in future versions of node.\nfunction unshiftEvent(obj, event, listener) {\n  var listeners = obj.listeners(event);\n  obj.removeAllListeners(event);\n  obj.on(event, listener);\n  listeners.forEach(function(listener) {\n    obj.on(event, listener);\n  });\n}\n\nfunction merge(out) {\n  slice.call(arguments, 1).forEach(function(obj) {\n    Object.keys(obj).forEach(function(key) {\n      out[key] = obj[key];\n    });\n  });\n  return out;\n}\n\n/**\n * Expose\n */\n\nmodule.exports = Program;\n", "/**\n * events.js - event emitter for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\nvar slice = Array.prototype.slice;\n\n/**\n * EventEmitter\n */\n\nfunction EventEmitter() {\n  if (!this._events) this._events = {};\n}\n\nEventEmitter.prototype.setMaxListeners = function(n) {\n  this._maxListeners = n;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  if (!this._events[type]) {\n    this._events[type] = listener;\n  } else if (typeof this._events[type] === 'function') {\n    this._events[type] = [this._events[type], listener];\n  } else {\n    this._events[type].push(listener);\n  }\n  this._emit('newListener', [type, listener]);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var handler = this._events[type];\n  if (!handler) return;\n\n  if (typeof handler === 'function' || handler.length === 1) {\n    delete this._events[type];\n    this._emit('removeListener', [type, listener]);\n    return;\n  }\n\n  for (var i = 0; i < handler.length; i++) {\n    if (handler[i] === listener || handler[i].listener === listener) {\n      handler.splice(i, 1);\n      this._emit('removeListener', [type, listener]);\n      return;\n    }\n  }\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._events[type];\n  } else {\n    this._events = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  function on() {\n    this.removeListener(type, on);\n    return listener.apply(this, arguments);\n  }\n  on.listener = listener;\n  return this.on(type, on);\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  return typeof this._events[type] === 'function'\n    ? [this._events[type]]\n    : this._events[type] || [];\n};\n\nEventEmitter.prototype._emit = function(type, args) {\n  var handler = this._events[type]\n    , ret;\n\n  // if (type !== 'event') {\n  //   this._emit('event', [type.replace(/^element /, '')].concat(args));\n  // }\n\n  if (!handler) {\n    if (type === 'error') {\n      throw new args[0];\n    }\n    return;\n  }\n\n  if (typeof handler === 'function') {\n    return handler.apply(this, args);\n  }\n\n  for (var i = 0; i < handler.length; i++) {\n    if (handler[i].apply(this, args) === false) {\n      ret = false;\n    }\n  }\n\n  return ret !== false;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var args = slice.call(arguments, 1)\n    , params = slice.call(arguments)\n    , el = this;\n\n  this._emit('event', params);\n\n  if (this.type === 'screen') {\n    return this._emit(type, args);\n  }\n\n  if (this._emit(type, args) === false) {\n    return false;\n  }\n\n  type = 'element ' + type;\n  args.unshift(this);\n  // `element` prefix\n  // params = [type].concat(args);\n  // no `element` prefix\n  // params.splice(1, 0, this);\n\n  do {\n    // el._emit('event', params);\n    if (!el._events[type]) continue;\n    if (el._emit(type, args) === false) {\n      return false;\n    }\n  } while (el = el.parent);\n\n  return true;\n};\n\n// For hooking into the main EventEmitter if we want to.\n// Might be better to do things this way being that it\n// will always be compatible with node, not to mention\n// it gives us domain support as well.\n// Node.prototype._emit = Node.prototype.emit;\n// Node.prototype.emit = function(type) {\n//   var args, el;\n//\n//   if (this.type === 'screen') {\n//     return this._emit.apply(this, arguments);\n//   }\n//\n//   this._emit.apply(this, arguments);\n//   if (this._bubbleStopped) return false;\n//\n//   args = slice.call(arguments, 1);\n//   el = this;\n//\n//   args.unshift('element ' + type, this);\n//   this._bubbleStopped = false;\n//   //args.push(stopBubble);\n//\n//   do {\n//     if (!el._events || !el._events[type]) continue;\n//     el._emit.apply(el, args);\n//     if (this._bubbleStopped) return false;\n//   } while (el = el.parent);\n//\n//   return true;\n// };\n//\n// Node.prototype._addListener = Node.prototype.addListener;\n// Node.prototype.on =\n// Node.prototype.addListener = function(type, listener) {\n//   function on() {\n//     if (listener.apply(this, arguments) === false) {\n//       this._bubbleStopped = true;\n//     }\n//   }\n//   on.listener = listener;\n//   return this._addListener(type, on);\n// };\n\n/**\n * Expose\n */\n\nexports = EventEmitter;\nexports.EventEmitter = EventEmitter;\n\nmodule.exports = exports;\n", "/**\n * unicode.js - east asian width and surrogate pairs\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n * Borrowed from vangie/east-asian-width, komagata/eastasianwidth,\n * and mathiasbynens/String.prototype.codePointAt. Licenses below.\n */\n\n// east-asian-width\n//\n// Copyright (c) 2015 Vangie Du\n// https://github.com/vangie/east-asian-width\n//\n// Permission is hereby granted, free of charge, to any person\n// obtaining a copy of this software and associated documentation\n// files (the \"Software\"), to deal in the Software without\n// restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following\n// conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n// OTHER DEALINGS IN THE SOFTWARE.\n\n// eastasianwidth\n//\n// Copyright (c) 2013, Masaki Komagata\n// https://github.com/komagata/eastasianwidth\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n// String.prototype.codePointAt\n//\n// Copyright Mathias Bynens <https://mathiasbynens.be/>\n// https://github.com/mathiasbynens/String.prototype.codePointAt\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// String.fromCodePoint\n//\n// Copyright Mathias Bynens <https://mathiasbynens.be/>\n// https://github.com/mathiasbynens/String.fromCodePoint\n//\n// Permission is hereby granted, free of charge, to any person obtaining\n// a copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to\n// permit persons to whom the Software is furnished to do so, subject to\n// the following conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar stringFromCharCode = String.fromCharCode;\nvar floor = Math.floor;\n\n/**\n * Wide, Surrogates, and Combining\n */\n\nexports.charWidth = function(str, i) {\n  var point = typeof str !== 'number'\n    ? exports.codePointAt(str, i || 0)\n    : str;\n\n  // nul\n  if (point === 0) return 0;\n\n  // tab\n  if (point === 0x09) {\n    if (!exports.blessed) {\n      exports.blessed = require('../');\n    }\n    return exports.blessed.screen.global\n      ? exports.blessed.screen.global.tabc.length\n      : 8;\n  }\n\n  // 8-bit control characters (2-width according to unicode??)\n  if (point < 32 || (point >= 0x7f && point < 0xa0)) {\n    return 0;\n  }\n\n  // search table of non-spacing characters\n  // is ucs combining or C0/C1 control character\n  if (exports.combining[point]) {\n    return 0;\n  }\n\n  // check for double-wide\n  // if (point >= 0x1100\n  //     && (point <= 0x115f // Hangul Jamo init. consonants\n  //     || point === 0x2329 || point === 0x232a\n  //     || (point >= 0x2e80 && point <= 0xa4cf\n  //     && point !== 0x303f) // CJK ... Yi\n  //     || (point >= 0xac00 && point <= 0xd7a3) // Hangul Syllables\n  //     || (point >= 0xf900 && point <= 0xfaff) // CJK Compatibility Ideographs\n  //     || (point >= 0xfe10 && point <= 0xfe19) // Vertical forms\n  //     || (point >= 0xfe30 && point <= 0xfe6f) // CJK Compatibility Forms\n  //     || (point >= 0xff00 && point <= 0xff60) // Fullwidth Forms\n  //     || (point >= 0xffe0 && point <= 0xffe6)\n  //     || (point >= 0x20000 && point <= 0x2fffd)\n  //     || (point >= 0x30000 && point <= 0x3fffd))) {\n  //   return 2;\n  // }\n\n  // check for double-wide\n  if ((0x3000 === point)\n      || (0xFF01 <= point && point <= 0xFF60)\n      || (0xFFE0 <= point && point <= 0xFFE6)) {\n    return 2;\n  }\n\n  if ((0x1100 <= point && point <= 0x115F)\n      || (0x11A3 <= point && point <= 0x11A7)\n      || (0x11FA <= point && point <= 0x11FF)\n      || (0x2329 <= point && point <= 0x232A)\n      || (0x2E80 <= point && point <= 0x2E99)\n      || (0x2E9B <= point && point <= 0x2EF3)\n      || (0x2F00 <= point && point <= 0x2FD5)\n      || (0x2FF0 <= point && point <= 0x2FFB)\n      || (0x3001 <= point && point <= 0x303E)\n      || (0x3041 <= point && point <= 0x3096)\n      || (0x3099 <= point && point <= 0x30FF)\n      || (0x3105 <= point && point <= 0x312D)\n      || (0x3131 <= point && point <= 0x318E)\n      || (0x3190 <= point && point <= 0x31BA)\n      || (0x31C0 <= point && point <= 0x31E3)\n      || (0x31F0 <= point && point <= 0x321E)\n      || (0x3220 <= point && point <= 0x3247)\n      || (0x3250 <= point && point <= 0x32FE)\n      || (0x3300 <= point && point <= 0x4DBF)\n      || (0x4E00 <= point && point <= 0xA48C)\n      || (0xA490 <= point && point <= 0xA4C6)\n      || (0xA960 <= point && point <= 0xA97C)\n      || (0xAC00 <= point && point <= 0xD7A3)\n      || (0xD7B0 <= point && point <= 0xD7C6)\n      || (0xD7CB <= point && point <= 0xD7FB)\n      || (0xF900 <= point && point <= 0xFAFF)\n      || (0xFE10 <= point && point <= 0xFE19)\n      || (0xFE30 <= point && point <= 0xFE52)\n      || (0xFE54 <= point && point <= 0xFE66)\n      || (0xFE68 <= point && point <= 0xFE6B)\n      || (0x1B000 <= point && point <= 0x1B001)\n      || (0x1F200 <= point && point <= 0x1F202)\n      || (0x1F210 <= point && point <= 0x1F23A)\n      || (0x1F240 <= point && point <= 0x1F248)\n      || (0x1F250 <= point && point <= 0x1F251)\n      || (0x20000 <= point && point <= 0x2F73F)\n      || (0x2B740 <= point && point <= 0x2FFFD)\n      || (0x30000 <= point && point <= 0x3FFFD)) {\n    return 2;\n  }\n\n  // CJK Ambiguous\n  // http://www.unicode.org/reports/tr11/\n  // http://www.unicode.org/reports/tr11/#Ambiguous\n  if (process.env.NCURSES_CJK_WIDTH) {\n    if ((0x00A1 === point)\n        || (0x00A4 === point)\n        || (0x00A7 <= point && point <= 0x00A8)\n        || (0x00AA === point)\n        || (0x00AD <= point && point <= 0x00AE)\n        || (0x00B0 <= point && point <= 0x00B4)\n        || (0x00B6 <= point && point <= 0x00BA)\n        || (0x00BC <= point && point <= 0x00BF)\n        || (0x00C6 === point)\n        || (0x00D0 === point)\n        || (0x00D7 <= point && point <= 0x00D8)\n        || (0x00DE <= point && point <= 0x00E1)\n        || (0x00E6 === point)\n        || (0x00E8 <= point && point <= 0x00EA)\n        || (0x00EC <= point && point <= 0x00ED)\n        || (0x00F0 === point)\n        || (0x00F2 <= point && point <= 0x00F3)\n        || (0x00F7 <= point && point <= 0x00FA)\n        || (0x00FC === point)\n        || (0x00FE === point)\n        || (0x0101 === point)\n        || (0x0111 === point)\n        || (0x0113 === point)\n        || (0x011B === point)\n        || (0x0126 <= point && point <= 0x0127)\n        || (0x012B === point)\n        || (0x0131 <= point && point <= 0x0133)\n        || (0x0138 === point)\n        || (0x013F <= point && point <= 0x0142)\n        || (0x0144 === point)\n        || (0x0148 <= point && point <= 0x014B)\n        || (0x014D === point)\n        || (0x0152 <= point && point <= 0x0153)\n        || (0x0166 <= point && point <= 0x0167)\n        || (0x016B === point)\n        || (0x01CE === point)\n        || (0x01D0 === point)\n        || (0x01D2 === point)\n        || (0x01D4 === point)\n        || (0x01D6 === point)\n        || (0x01D8 === point)\n        || (0x01DA === point)\n        || (0x01DC === point)\n        || (0x0251 === point)\n        || (0x0261 === point)\n        || (0x02C4 === point)\n        || (0x02C7 === point)\n        || (0x02C9 <= point && point <= 0x02CB)\n        || (0x02CD === point)\n        || (0x02D0 === point)\n        || (0x02D8 <= point && point <= 0x02DB)\n        || (0x02DD === point)\n        || (0x02DF === point)\n        || (0x0300 <= point && point <= 0x036F)\n        || (0x0391 <= point && point <= 0x03A1)\n        || (0x03A3 <= point && point <= 0x03A9)\n        || (0x03B1 <= point && point <= 0x03C1)\n        || (0x03C3 <= point && point <= 0x03C9)\n        || (0x0401 === point)\n        || (0x0410 <= point && point <= 0x044F)\n        || (0x0451 === point)\n        || (0x2010 === point)\n        || (0x2013 <= point && point <= 0x2016)\n        || (0x2018 <= point && point <= 0x2019)\n        || (0x201C <= point && point <= 0x201D)\n        || (0x2020 <= point && point <= 0x2022)\n        || (0x2024 <= point && point <= 0x2027)\n        || (0x2030 === point)\n        || (0x2032 <= point && point <= 0x2033)\n        || (0x2035 === point)\n        || (0x203B === point)\n        || (0x203E === point)\n        || (0x2074 === point)\n        || (0x207F === point)\n        || (0x2081 <= point && point <= 0x2084)\n        || (0x20AC === point)\n        || (0x2103 === point)\n        || (0x2105 === point)\n        || (0x2109 === point)\n        || (0x2113 === point)\n        || (0x2116 === point)\n        || (0x2121 <= point && point <= 0x2122)\n        || (0x2126 === point)\n        || (0x212B === point)\n        || (0x2153 <= point && point <= 0x2154)\n        || (0x215B <= point && point <= 0x215E)\n        || (0x2160 <= point && point <= 0x216B)\n        || (0x2170 <= point && point <= 0x2179)\n        || (0x2189 === point)\n        || (0x2190 <= point && point <= 0x2199)\n        || (0x21B8 <= point && point <= 0x21B9)\n        || (0x21D2 === point)\n        || (0x21D4 === point)\n        || (0x21E7 === point)\n        || (0x2200 === point)\n        || (0x2202 <= point && point <= 0x2203)\n        || (0x2207 <= point && point <= 0x2208)\n        || (0x220B === point)\n        || (0x220F === point)\n        || (0x2211 === point)\n        || (0x2215 === point)\n        || (0x221A === point)\n        || (0x221D <= point && point <= 0x2220)\n        || (0x2223 === point)\n        || (0x2225 === point)\n        || (0x2227 <= point && point <= 0x222C)\n        || (0x222E === point)\n        || (0x2234 <= point && point <= 0x2237)\n        || (0x223C <= point && point <= 0x223D)\n        || (0x2248 === point)\n        || (0x224C === point)\n        || (0x2252 === point)\n        || (0x2260 <= point && point <= 0x2261)\n        || (0x2264 <= point && point <= 0x2267)\n        || (0x226A <= point && point <= 0x226B)\n        || (0x226E <= point && point <= 0x226F)\n        || (0x2282 <= point && point <= 0x2283)\n        || (0x2286 <= point && point <= 0x2287)\n        || (0x2295 === point)\n        || (0x2299 === point)\n        || (0x22A5 === point)\n        || (0x22BF === point)\n        || (0x2312 === point)\n        || (0x2460 <= point && point <= 0x24E9)\n        || (0x24EB <= point && point <= 0x254B)\n        || (0x2550 <= point && point <= 0x2573)\n        || (0x2580 <= point && point <= 0x258F)\n        || (0x2592 <= point && point <= 0x2595)\n        || (0x25A0 <= point && point <= 0x25A1)\n        || (0x25A3 <= point && point <= 0x25A9)\n        || (0x25B2 <= point && point <= 0x25B3)\n        || (0x25B6 <= point && point <= 0x25B7)\n        || (0x25BC <= point && point <= 0x25BD)\n        || (0x25C0 <= point && point <= 0x25C1)\n        || (0x25C6 <= point && point <= 0x25C8)\n        || (0x25CB === point)\n        || (0x25CE <= point && point <= 0x25D1)\n        || (0x25E2 <= point && point <= 0x25E5)\n        || (0x25EF === point)\n        || (0x2605 <= point && point <= 0x2606)\n        || (0x2609 === point)\n        || (0x260E <= point && point <= 0x260F)\n        || (0x2614 <= point && point <= 0x2615)\n        || (0x261C === point)\n        || (0x261E === point)\n        || (0x2640 === point)\n        || (0x2642 === point)\n        || (0x2660 <= point && point <= 0x2661)\n        || (0x2663 <= point && point <= 0x2665)\n        || (0x2667 <= point && point <= 0x266A)\n        || (0x266C <= point && point <= 0x266D)\n        || (0x266F === point)\n        || (0x269E <= point && point <= 0x269F)\n        || (0x26BE <= point && point <= 0x26BF)\n        || (0x26C4 <= point && point <= 0x26CD)\n        || (0x26CF <= point && point <= 0x26E1)\n        || (0x26E3 === point)\n        || (0x26E8 <= point && point <= 0x26FF)\n        || (0x273D === point)\n        || (0x2757 === point)\n        || (0x2776 <= point && point <= 0x277F)\n        || (0x2B55 <= point && point <= 0x2B59)\n        || (0x3248 <= point && point <= 0x324F)\n        || (0xE000 <= point && point <= 0xF8FF)\n        || (0xFE00 <= point && point <= 0xFE0F)\n        || (0xFFFD === point)\n        || (0x1F100 <= point && point <= 0x1F10A)\n        || (0x1F110 <= point && point <= 0x1F12D)\n        || (0x1F130 <= point && point <= 0x1F169)\n        || (0x1F170 <= point && point <= 0x1F19A)\n        || (0xE0100 <= point && point <= 0xE01EF)\n        || (0xF0000 <= point && point <= 0xFFFFD)\n        || (0x100000 <= point && point <= 0x10FFFD)) {\n      return +process.env.NCURSES_CJK_WIDTH || 1;\n    }\n  }\n\n  return 1;\n};\n\nexports.strWidth = function(str) {\n  var width = 0;\n  for (var i = 0; i < str.length; i++) {\n    width += exports.charWidth(str, i);\n    if (exports.isSurrogate(str, i)) i++;\n  }\n  return width;\n};\n\nexports.isSurrogate = function(str, i) {\n  var point = typeof str !== 'number'\n    ? exports.codePointAt(str, i || 0)\n    : str;\n  return point > 0x00ffff;\n};\n\nexports.combiningTable = [\n  [0x0300, 0x036F],   [0x0483, 0x0486],   [0x0488, 0x0489],\n  [0x0591, 0x05BD],   [0x05BF, 0x05BF],   [0x05C1, 0x05C2],\n  [0x05C4, 0x05C5],   [0x05C7, 0x05C7],   [0x0600, 0x0603],\n  [0x0610, 0x0615],   [0x064B, 0x065E],   [0x0670, 0x0670],\n  [0x06D6, 0x06E4],   [0x06E7, 0x06E8],   [0x06EA, 0x06ED],\n  [0x070F, 0x070F],   [0x0711, 0x0711],   [0x0730, 0x074A],\n  [0x07A6, 0x07B0],   [0x07EB, 0x07F3],   [0x0901, 0x0902],\n  [0x093C, 0x093C],   [0x0941, 0x0948],   [0x094D, 0x094D],\n  [0x0951, 0x0954],   [0x0962, 0x0963],   [0x0981, 0x0981],\n  [0x09BC, 0x09BC],   [0x09C1, 0x09C4],   [0x09CD, 0x09CD],\n  [0x09E2, 0x09E3],   [0x0A01, 0x0A02],   [0x0A3C, 0x0A3C],\n  [0x0A41, 0x0A42],   [0x0A47, 0x0A48],   [0x0A4B, 0x0A4D],\n  [0x0A70, 0x0A71],   [0x0A81, 0x0A82],   [0x0ABC, 0x0ABC],\n  [0x0AC1, 0x0AC5],   [0x0AC7, 0x0AC8],   [0x0ACD, 0x0ACD],\n  [0x0AE2, 0x0AE3],   [0x0B01, 0x0B01],   [0x0B3C, 0x0B3C],\n  [0x0B3F, 0x0B3F],   [0x0B41, 0x0B43],   [0x0B4D, 0x0B4D],\n  [0x0B56, 0x0B56],   [0x0B82, 0x0B82],   [0x0BC0, 0x0BC0],\n  [0x0BCD, 0x0BCD],   [0x0C3E, 0x0C40],   [0x0C46, 0x0C48],\n  [0x0C4A, 0x0C4D],   [0x0C55, 0x0C56],   [0x0CBC, 0x0CBC],\n  [0x0CBF, 0x0CBF],   [0x0CC6, 0x0CC6],   [0x0CCC, 0x0CCD],\n  [0x0CE2, 0x0CE3],   [0x0D41, 0x0D43],   [0x0D4D, 0x0D4D],\n  [0x0DCA, 0x0DCA],   [0x0DD2, 0x0DD4],   [0x0DD6, 0x0DD6],\n  [0x0E31, 0x0E31],   [0x0E34, 0x0E3A],   [0x0E47, 0x0E4E],\n  [0x0EB1, 0x0EB1],   [0x0EB4, 0x0EB9],   [0x0EBB, 0x0EBC],\n  [0x0EC8, 0x0ECD],   [0x0F18, 0x0F19],   [0x0F35, 0x0F35],\n  [0x0F37, 0x0F37],   [0x0F39, 0x0F39],   [0x0F71, 0x0F7E],\n  [0x0F80, 0x0F84],   [0x0F86, 0x0F87],   [0x0F90, 0x0F97],\n  [0x0F99, 0x0FBC],   [0x0FC6, 0x0FC6],   [0x102D, 0x1030],\n  [0x1032, 0x1032],   [0x1036, 0x1037],   [0x1039, 0x1039],\n  [0x1058, 0x1059],   [0x1160, 0x11FF],   [0x135F, 0x135F],\n  [0x1712, 0x1714],   [0x1732, 0x1734],   [0x1752, 0x1753],\n  [0x1772, 0x1773],   [0x17B4, 0x17B5],   [0x17B7, 0x17BD],\n  [0x17C6, 0x17C6],   [0x17C9, 0x17D3],   [0x17DD, 0x17DD],\n  [0x180B, 0x180D],   [0x18A9, 0x18A9],   [0x1920, 0x1922],\n  [0x1927, 0x1928],   [0x1932, 0x1932],   [0x1939, 0x193B],\n  [0x1A17, 0x1A18],   [0x1B00, 0x1B03],   [0x1B34, 0x1B34],\n  [0x1B36, 0x1B3A],   [0x1B3C, 0x1B3C],   [0x1B42, 0x1B42],\n  [0x1B6B, 0x1B73],   [0x1DC0, 0x1DCA],   [0x1DFE, 0x1DFF],\n  [0x200B, 0x200F],   [0x202A, 0x202E],   [0x2060, 0x2063],\n  [0x206A, 0x206F],   [0x20D0, 0x20EF],   [0x302A, 0x302F],\n  [0x3099, 0x309A],   [0xA806, 0xA806],   [0xA80B, 0xA80B],\n  [0xA825, 0xA826],   [0xFB1E, 0xFB1E],   [0xFE00, 0xFE0F],\n  [0xFE20, 0xFE23],   [0xFEFF, 0xFEFF],   [0xFFF9, 0xFFFB],\n  [0x10A01, 0x10A03], [0x10A05, 0x10A06], [0x10A0C, 0x10A0F],\n  [0x10A38, 0x10A3A], [0x10A3F, 0x10A3F], [0x1D167, 0x1D169],\n  [0x1D173, 0x1D182], [0x1D185, 0x1D18B], [0x1D1AA, 0x1D1AD],\n  [0x1D242, 0x1D244], [0xE0001, 0xE0001], [0xE0020, 0xE007F],\n  [0xE0100, 0xE01EF]\n];\n\nexports.combining = exports.combiningTable.reduce(function(out, row) {\n  for (var i = row[0]; i <= row[1]; i++) {\n    out[i] = true;\n  }\n  return out;\n}, {});\n\nexports.isCombining = function(str, i) {\n  var point = typeof str !== 'number'\n    ? exports.codePointAt(str, i || 0)\n    : str;\n  return exports.combining[point] === true;\n};\n\n/**\n * Code Point Helpers\n */\n\nexports.codePointAt = function(str, position) {\n  if (str == null) {\n    throw TypeError();\n  }\n  var string = String(str);\n  if (string.codePointAt) {\n    return string.codePointAt(position);\n  }\n  var size = string.length;\n  // `ToInteger`\n  var index = position ? Number(position) : 0;\n  if (index !== index) { // better `isNaN`\n    index = 0;\n  }\n  // Account for out-of-bounds indices:\n  if (index < 0 || index >= size) {\n    return undefined;\n  }\n  // Get the first code unit\n  var first = string.charCodeAt(index);\n  var second;\n  if ( // check if it\u2019s the start of a surrogate pair\n    first >= 0xD800 && first <= 0xDBFF && // high surrogate\n    size > index + 1 // there is a next code unit\n  ) {\n    second = string.charCodeAt(index + 1);\n    if (second >= 0xDC00 && second <= 0xDFFF) { // low surrogate\n      // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      return (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n    }\n  }\n  return first;\n};\n\n// exports.codePointAt = function(str, position) {\n//   position = +position || 0;\n//   var x = str.charCodeAt(position);\n//   var y = str.length > 1 ? str.charCodeAt(position + 1) : 0;\n//   var point = x;\n//   if ((0xD800 <= x && x <= 0xDBFF) && (0xDC00 <= y && y <= 0xDFFF)) {\n//     x &= 0x3FF;\n//     y &= 0x3FF;\n//     point = (x << 10) | y;\n//     point += 0x10000;\n//   }\n//   return point;\n// };\n\nexports.fromCodePoint = function() {\n  if (String.fromCodePoint) {\n    return String.fromCodePoint.apply(String, arguments);\n  }\n  var MAX_SIZE = 0x4000;\n  var codeUnits = [];\n  var highSurrogate;\n  var lowSurrogate;\n  var index = -1;\n  var length = arguments.length;\n  if (!length) {\n    return '';\n  }\n  var result = '';\n  while (++index < length) {\n    var codePoint = Number(arguments[index]);\n    if (\n      !isFinite(codePoint) ||       // `NaN`, `+Infinity`, or `-Infinity`\n      codePoint < 0 ||              // not a valid Unicode code point\n      codePoint > 0x10FFFF ||       // not a valid Unicode code point\n      floor(codePoint) !== codePoint // not an integer\n    ) {\n      throw RangeError('Invalid code point: ' + codePoint);\n    }\n    if (codePoint <= 0xFFFF) { // BMP code point\n      codeUnits.push(codePoint);\n    } else { // Astral code point; split in surrogate halves\n      // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n      codePoint -= 0x10000;\n      highSurrogate = (codePoint >> 10) + 0xD800;\n      lowSurrogate = (codePoint % 0x400) + 0xDC00;\n      codeUnits.push(highSurrogate, lowSurrogate);\n    }\n    if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n      result += stringFromCharCode.apply(null, codeUnits);\n      codeUnits.length = 0;\n    }\n  }\n  return result;\n};\n\n/**\n * Regexes\n */\n\nexports.chars = {};\n\n// Double width characters that are _not_ surrogate pairs.\n// NOTE: 0x20000 - 0x2fffd and 0x30000 - 0x3fffd are not necessary for this\n// regex anyway. This regex is used to put a blank char after wide chars to\n// be eaten, however, if this is a surrogate pair, parseContent already adds\n// the extra one char because its length equals 2 instead of 1.\nexports.chars.wide = new RegExp('(['\n  + '\\\\u1100-\\\\u115f' // Hangul Jamo init. consonants\n  + '\\\\u2329\\\\u232a'\n  + '\\\\u2e80-\\\\u303e\\\\u3040-\\\\ua4cf' // CJK ... Yi\n  + '\\\\uac00-\\\\ud7a3' // Hangul Syllables\n  + '\\\\uf900-\\\\ufaff' // CJK Compatibility Ideographs\n  + '\\\\ufe10-\\\\ufe19' // Vertical forms\n  + '\\\\ufe30-\\\\ufe6f' // CJK Compatibility Forms\n  + '\\\\uff00-\\\\uff60' // Fullwidth Forms\n  + '\\\\uffe0-\\\\uffe6'\n  + '])', 'g');\n\n// All surrogate pair wide chars.\nexports.chars.swide = new RegExp('('\n  // 0x20000 - 0x2fffd:\n  + '[\\\\ud840-\\\\ud87f][\\\\udc00-\\\\udffd]'\n  + '|'\n  // 0x30000 - 0x3fffd:\n  + '[\\\\ud880-\\\\ud8bf][\\\\udc00-\\\\udffd]'\n  + ')', 'g');\n\n// All wide chars including surrogate pairs.\nexports.chars.all = new RegExp('('\n  + exports.chars.swide.source.slice(1, -1)\n  + '|'\n  + exports.chars.wide.source.slice(1, -1)\n  + ')', 'g');\n\n// Regex to detect a surrogate pair.\nexports.chars.surrogate = /[\\ud800-\\udbff][\\udc00-\\udfff]/g;\n\n// Regex to find combining characters.\nexports.chars.combining = exports.combiningTable.reduce(function(out, row) {\n  var low, high, range;\n  if (row[0] > 0x00ffff) {\n    low = exports.fromCodePoint(row[0]);\n    low = [\n      hexify(low.charCodeAt(0)),\n      hexify(low.charCodeAt(1))\n    ];\n    high = exports.fromCodePoint(row[1]);\n    high = [\n      hexify(high.charCodeAt(0)),\n      hexify(high.charCodeAt(1))\n    ];\n    range = '[\\\\u' + low[0] + '-' + '\\\\u' + high[0] + ']'\n          + '[\\\\u' + low[1] + '-' + '\\\\u' + high[1] + ']';\n    if (!~out.indexOf('|')) out += ']';\n    out += '|' + range;\n  } else {\n    low = hexify(row[0]);\n    high = hexify(row[1]);\n    low = '\\\\u' + low;\n    high = '\\\\u' + high;\n    out += low + '-' + high;\n  }\n  return out;\n}, '[');\n\nexports.chars.combining = new RegExp(exports.chars.combining, 'g');\n\nfunction hexify(n) {\n  n = n.toString(16);\n  while (n.length < 4) n = '0' + n;\n  return n;\n}\n\n/*\nexports.chars.combining = new RegExp(\n  '['\n  + '\\\\u0300-\\\\u036f'\n  + '\\\\u0483-\\\\u0486'\n  + '\\\\u0488-\\\\u0489'\n  + '\\\\u0591-\\\\u05bd'\n  + '\\\\u05bf-\\\\u05bf'\n  + '\\\\u05c1-\\\\u05c2'\n  + '\\\\u05c4-\\\\u05c5'\n  + '\\\\u05c7-\\\\u05c7'\n  + '\\\\u0600-\\\\u0603'\n  + '\\\\u0610-\\\\u0615'\n  + '\\\\u064b-\\\\u065e'\n  + '\\\\u0670-\\\\u0670'\n  + '\\\\u06d6-\\\\u06e4'\n  + '\\\\u06e7-\\\\u06e8'\n  + '\\\\u06ea-\\\\u06ed'\n  + '\\\\u070f-\\\\u070f'\n  + '\\\\u0711-\\\\u0711'\n  + '\\\\u0730-\\\\u074a'\n  + '\\\\u07a6-\\\\u07b0'\n  + '\\\\u07eb-\\\\u07f3'\n  + '\\\\u0901-\\\\u0902'\n  + '\\\\u093c-\\\\u093c'\n  + '\\\\u0941-\\\\u0948'\n  + '\\\\u094d-\\\\u094d'\n  + '\\\\u0951-\\\\u0954'\n  + '\\\\u0962-\\\\u0963'\n  + '\\\\u0981-\\\\u0981'\n  + '\\\\u09bc-\\\\u09bc'\n  + '\\\\u09c1-\\\\u09c4'\n  + '\\\\u09cd-\\\\u09cd'\n  + '\\\\u09e2-\\\\u09e3'\n  + '\\\\u0a01-\\\\u0a02'\n  + '\\\\u0a3c-\\\\u0a3c'\n  + '\\\\u0a41-\\\\u0a42'\n  + '\\\\u0a47-\\\\u0a48'\n  + '\\\\u0a4b-\\\\u0a4d'\n  + '\\\\u0a70-\\\\u0a71'\n  + '\\\\u0a81-\\\\u0a82'\n  + '\\\\u0abc-\\\\u0abc'\n  + '\\\\u0ac1-\\\\u0ac5'\n  + '\\\\u0ac7-\\\\u0ac8'\n  + '\\\\u0acd-\\\\u0acd'\n  + '\\\\u0ae2-\\\\u0ae3'\n  + '\\\\u0b01-\\\\u0b01'\n  + '\\\\u0b3c-\\\\u0b3c'\n  + '\\\\u0b3f-\\\\u0b3f'\n  + '\\\\u0b41-\\\\u0b43'\n  + '\\\\u0b4d-\\\\u0b4d'\n  + '\\\\u0b56-\\\\u0b56'\n  + '\\\\u0b82-\\\\u0b82'\n  + '\\\\u0bc0-\\\\u0bc0'\n  + '\\\\u0bcd-\\\\u0bcd'\n  + '\\\\u0c3e-\\\\u0c40'\n  + '\\\\u0c46-\\\\u0c48'\n  + '\\\\u0c4a-\\\\u0c4d'\n  + '\\\\u0c55-\\\\u0c56'\n  + '\\\\u0cbc-\\\\u0cbc'\n  + '\\\\u0cbf-\\\\u0cbf'\n  + '\\\\u0cc6-\\\\u0cc6'\n  + '\\\\u0ccc-\\\\u0ccd'\n  + '\\\\u0ce2-\\\\u0ce3'\n  + '\\\\u0d41-\\\\u0d43'\n  + '\\\\u0d4d-\\\\u0d4d'\n  + '\\\\u0dca-\\\\u0dca'\n  + '\\\\u0dd2-\\\\u0dd4'\n  + '\\\\u0dd6-\\\\u0dd6'\n  + '\\\\u0e31-\\\\u0e31'\n  + '\\\\u0e34-\\\\u0e3a'\n  + '\\\\u0e47-\\\\u0e4e'\n  + '\\\\u0eb1-\\\\u0eb1'\n  + '\\\\u0eb4-\\\\u0eb9'\n  + '\\\\u0ebb-\\\\u0ebc'\n  + '\\\\u0ec8-\\\\u0ecd'\n  + '\\\\u0f18-\\\\u0f19'\n  + '\\\\u0f35-\\\\u0f35'\n  + '\\\\u0f37-\\\\u0f37'\n  + '\\\\u0f39-\\\\u0f39'\n  + '\\\\u0f71-\\\\u0f7e'\n  + '\\\\u0f80-\\\\u0f84'\n  + '\\\\u0f86-\\\\u0f87'\n  + '\\\\u0f90-\\\\u0f97'\n  + '\\\\u0f99-\\\\u0fbc'\n  + '\\\\u0fc6-\\\\u0fc6'\n  + '\\\\u102d-\\\\u1030'\n  + '\\\\u1032-\\\\u1032'\n  + '\\\\u1036-\\\\u1037'\n  + '\\\\u1039-\\\\u1039'\n  + '\\\\u1058-\\\\u1059'\n  + '\\\\u1160-\\\\u11ff'\n  + '\\\\u135f-\\\\u135f'\n  + '\\\\u1712-\\\\u1714'\n  + '\\\\u1732-\\\\u1734'\n  + '\\\\u1752-\\\\u1753'\n  + '\\\\u1772-\\\\u1773'\n  + '\\\\u17b4-\\\\u17b5'\n  + '\\\\u17b7-\\\\u17bd'\n  + '\\\\u17c6-\\\\u17c6'\n  + '\\\\u17c9-\\\\u17d3'\n  + '\\\\u17dd-\\\\u17dd'\n  + '\\\\u180b-\\\\u180d'\n  + '\\\\u18a9-\\\\u18a9'\n  + '\\\\u1920-\\\\u1922'\n  + '\\\\u1927-\\\\u1928'\n  + '\\\\u1932-\\\\u1932'\n  + '\\\\u1939-\\\\u193b'\n  + '\\\\u1a17-\\\\u1a18'\n  + '\\\\u1b00-\\\\u1b03'\n  + '\\\\u1b34-\\\\u1b34'\n  + '\\\\u1b36-\\\\u1b3a'\n  + '\\\\u1b3c-\\\\u1b3c'\n  + '\\\\u1b42-\\\\u1b42'\n  + '\\\\u1b6b-\\\\u1b73'\n  + '\\\\u1dc0-\\\\u1dca'\n  + '\\\\u1dfe-\\\\u1dff'\n  + '\\\\u200b-\\\\u200f'\n  + '\\\\u202a-\\\\u202e'\n  + '\\\\u2060-\\\\u2063'\n  + '\\\\u206a-\\\\u206f'\n  + '\\\\u20d0-\\\\u20ef'\n  + '\\\\u302a-\\\\u302f'\n  + '\\\\u3099-\\\\u309a'\n  + '\\\\ua806-\\\\ua806'\n  + '\\\\ua80b-\\\\ua80b'\n  + '\\\\ua825-\\\\ua826'\n  + '\\\\ufb1e-\\\\ufb1e'\n  + '\\\\ufe00-\\\\ufe0f'\n  + '\\\\ufe20-\\\\ufe23'\n  + '\\\\ufeff-\\\\ufeff'\n  + '\\\\ufff9-\\\\ufffb'\n  + ']'\n  + '|[\\\\ud802-\\\\ud802][\\\\ude01-\\\\ude03]'\n  + '|[\\\\ud802-\\\\ud802][\\\\ude05-\\\\ude06]'\n  + '|[\\\\ud802-\\\\ud802][\\\\ude0c-\\\\ude0f]'\n  + '|[\\\\ud802-\\\\ud802][\\\\ude38-\\\\ude3a]'\n  + '|[\\\\ud802-\\\\ud802][\\\\ude3f-\\\\ude3f]'\n  + '|[\\\\ud834-\\\\ud834][\\\\udd67-\\\\udd69]'\n  + '|[\\\\ud834-\\\\ud834][\\\\udd73-\\\\udd82]'\n  + '|[\\\\ud834-\\\\ud834][\\\\udd85-\\\\udd8b]'\n  + '|[\\\\ud834-\\\\ud834][\\\\uddaa-\\\\uddad]'\n  + '|[\\\\ud834-\\\\ud834][\\\\ude42-\\\\ude44]'\n  + '|[\\\\udb40-\\\\udb40][\\\\udc01-\\\\udc01]'\n  + '|[\\\\udb40-\\\\udb40][\\\\udc20-\\\\udc7f]'\n  + '|[\\\\udb40-\\\\udb40][\\\\udd00-\\\\uddef]'\n, 'g');\n*/\n", "/**\n * box.js - box element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Element = require('./element');\n\n/**\n * Box\n */\n\nfunction Box(options) {\n  if (!(this instanceof Node)) {\n    return new Box(options);\n  }\n  options = options || {};\n  Element.call(this, options);\n}\n\nBox.prototype.__proto__ = Element.prototype;\n\nBox.prototype.type = 'box';\n\n/**\n * Expose\n */\n\nmodule.exports = Box;\n", "/**\n * scrollablebox.js - scrollable box element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * ScrollableBox\n */\n\nfunction ScrollableBox(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new ScrollableBox(options);\n  }\n\n  options = options || {};\n\n  Box.call(this, options);\n\n  if (options.scrollable === false) {\n    return this;\n  }\n\n  this.scrollable = true;\n  this.childOffset = 0;\n  this.childBase = 0;\n  this.baseLimit = options.baseLimit || Infinity;\n  this.alwaysScroll = options.alwaysScroll;\n\n  this.scrollbar = options.scrollbar;\n  if (this.scrollbar) {\n    this.scrollbar.ch = this.scrollbar.ch || ' ';\n    this.style.scrollbar = this.style.scrollbar || this.scrollbar.style;\n    if (!this.style.scrollbar) {\n      this.style.scrollbar = {};\n      this.style.scrollbar.fg = this.scrollbar.fg;\n      this.style.scrollbar.bg = this.scrollbar.bg;\n      this.style.scrollbar.bold = this.scrollbar.bold;\n      this.style.scrollbar.underline = this.scrollbar.underline;\n      this.style.scrollbar.inverse = this.scrollbar.inverse;\n      this.style.scrollbar.invisible = this.scrollbar.invisible;\n    }\n    //this.scrollbar.style = this.style.scrollbar;\n    if (this.track || this.scrollbar.track) {\n      this.track = this.scrollbar.track || this.track;\n      this.style.track = this.style.scrollbar.track || this.style.track;\n      this.track.ch = this.track.ch || ' ';\n      this.style.track = this.style.track || this.track.style;\n      if (!this.style.track) {\n        this.style.track = {};\n        this.style.track.fg = this.track.fg;\n        this.style.track.bg = this.track.bg;\n        this.style.track.bold = this.track.bold;\n        this.style.track.underline = this.track.underline;\n        this.style.track.inverse = this.track.inverse;\n        this.style.track.invisible = this.track.invisible;\n      }\n      this.track.style = this.style.track;\n    }\n    // Allow controlling of the scrollbar via the mouse:\n    if (options.mouse) {\n      this.on('mousedown', function(data) {\n        if (self._scrollingBar) {\n          // Do not allow dragging on the scrollbar:\n          delete self.screen._dragging;\n          delete self._drag;\n          return;\n        }\n        var x = data.x - self.aleft;\n        var y = data.y - self.atop;\n        if (x === self.width - self.iright - 1) {\n          // Do not allow dragging on the scrollbar:\n          delete self.screen._dragging;\n          delete self._drag;\n          var perc = (y - self.itop) / (self.height - self.iheight);\n          self.setScrollPerc(perc * 100 | 0);\n          self.screen.render();\n          var smd, smu;\n          self._scrollingBar = true;\n          self.onScreenEvent('mousedown', smd = function(data) {\n            var y = data.y - self.atop;\n            var perc = y / self.height;\n            self.setScrollPerc(perc * 100 | 0);\n            self.screen.render();\n          });\n          // If mouseup occurs out of the window, no mouseup event fires, and\n          // scrollbar will drag again on mousedown until another mouseup\n          // occurs.\n          self.onScreenEvent('mouseup', smu = function() {\n            self._scrollingBar = false;\n            self.removeScreenEvent('mousedown', smd);\n            self.removeScreenEvent('mouseup', smu);\n          });\n        }\n      });\n    }\n  }\n\n  if (options.mouse) {\n    this.on('wheeldown', function() {\n      self.scroll(self.height / 2 | 0 || 1);\n      self.screen.render();\n    });\n    this.on('wheelup', function() {\n      self.scroll(-(self.height / 2 | 0) || -1);\n      self.screen.render();\n    });\n  }\n\n  if (options.keys && !options.ignoreKeys) {\n    this.on('keypress', function(ch, key) {\n      if (key.name === 'up' || (options.vi && key.name === 'k')) {\n        self.scroll(-1);\n        self.screen.render();\n        return;\n      }\n      if (key.name === 'down' || (options.vi && key.name === 'j')) {\n        self.scroll(1);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'u' && key.ctrl) {\n        self.scroll(-(self.height / 2 | 0) || -1);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'd' && key.ctrl) {\n        self.scroll(self.height / 2 | 0 || 1);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'b' && key.ctrl) {\n        self.scroll(-self.height || -1);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'f' && key.ctrl) {\n        self.scroll(self.height || 1);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'g' && !key.shift) {\n        self.scrollTo(0);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'g' && key.shift) {\n        self.scrollTo(self.getScrollHeight());\n        self.screen.render();\n        return;\n      }\n    });\n  }\n\n  this.on('parsed content', function() {\n    self._recalculateIndex();\n  });\n\n  self._recalculateIndex();\n}\n\nScrollableBox.prototype.__proto__ = Box.prototype;\n\nScrollableBox.prototype.type = 'scrollable-box';\n\n// XXX Potentially use this in place of scrollable checks elsewhere.\nScrollableBox.prototype.__defineGetter__('reallyScrollable', function() {\n  if (this.shrink) return this.scrollable;\n  return this.getScrollHeight() > this.height;\n});\n\nScrollableBox.prototype._scrollBottom = function() {\n  if (!this.scrollable) return 0;\n\n  // We could just calculate the children, but we can\n  // optimize for lists by just returning the items.length.\n  if (this._isList) {\n    return this.items ? this.items.length : 0;\n  }\n\n  if (this.lpos && this.lpos._scrollBottom) {\n    return this.lpos._scrollBottom;\n  }\n\n  var bottom = this.children.reduce(function(current, el) {\n    // el.height alone does not calculate the shrunken height, we need to use\n    // getCoords. A shrunken box inside a scrollable element will not grow any\n    // larger than the scrollable element's context regardless of how much\n    // content is in the shrunken box, unless we do this (call getCoords\n    // without the scrollable calculation):\n    // See: $ node test/widget-shrink-fail-2.js\n    if (!el.detached) {\n      var lpos = el._getCoords(false, true);\n      if (lpos) {\n        return Math.max(current, el.rtop + (lpos.yl - lpos.yi));\n      }\n    }\n    return Math.max(current, el.rtop + el.height);\n  }, 0);\n\n  // XXX Use this? Makes .getScrollHeight() useless!\n  // if (bottom < this._clines.length) bottom = this._clines.length;\n\n  if (this.lpos) this.lpos._scrollBottom = bottom;\n\n  return bottom;\n};\n\nScrollableBox.prototype.setScroll =\nScrollableBox.prototype.scrollTo = function(offset, always) {\n  // XXX\n  // At first, this appeared to account for the first new calculation of childBase:\n  this.scroll(0);\n  return this.scroll(offset - (this.childBase + this.childOffset), always);\n};\n\nScrollableBox.prototype.getScroll = function() {\n  return this.childBase + this.childOffset;\n};\n\nScrollableBox.prototype.scroll = function(offset, always) {\n  if (!this.scrollable) return;\n\n  if (this.detached) return;\n\n  // Handle scrolling.\n  var visible = this.height - this.iheight\n    , base = this.childBase\n    , d\n    , p\n    , t\n    , b\n    , max\n    , emax;\n\n  if (this.alwaysScroll || always) {\n    // Semi-workaround\n    this.childOffset = offset > 0\n      ? visible - 1 + offset\n      : offset;\n  } else {\n    this.childOffset += offset;\n  }\n\n  if (this.childOffset > visible - 1) {\n    d = this.childOffset - (visible - 1);\n    this.childOffset -= d;\n    this.childBase += d;\n  } else if (this.childOffset < 0) {\n    d = this.childOffset;\n    this.childOffset += -d;\n    this.childBase += d;\n  }\n\n  if (this.childBase < 0) {\n    this.childBase = 0;\n  } else if (this.childBase > this.baseLimit) {\n    this.childBase = this.baseLimit;\n  }\n\n  // Find max \"bottom\" value for\n  // content and descendant elements.\n  // Scroll the content if necessary.\n  if (this.childBase === base) {\n    return this.emit('scroll');\n  }\n\n  // When scrolling text, we want to be able to handle SGR codes as well as line\n  // feeds. This allows us to take preformatted text output from other programs\n  // and put it in a scrollable text box.\n  this.parseContent();\n\n  // XXX\n  // max = this.getScrollHeight() - (this.height - this.iheight);\n\n  max = this._clines.length - (this.height - this.iheight);\n  if (max < 0) max = 0;\n  emax = this._scrollBottom() - (this.height - this.iheight);\n  if (emax < 0) emax = 0;\n\n  this.childBase = Math.min(this.childBase, Math.max(emax, max));\n\n  if (this.childBase < 0) {\n    this.childBase = 0;\n  } else if (this.childBase > this.baseLimit) {\n    this.childBase = this.baseLimit;\n  }\n\n  // Optimize scrolling with CSR + IL/DL.\n  p = this.lpos;\n  // Only really need _getCoords() if we want\n  // to allow nestable scrolling elements...\n  // or if we **really** want shrinkable\n  // scrolling elements.\n  // p = this._getCoords();\n  if (p && this.childBase !== base && this.screen.cleanSides(this)) {\n    t = p.yi + this.itop;\n    b = p.yl - this.ibottom - 1;\n    d = this.childBase - base;\n\n    if (d > 0 && d < visible) {\n      // scrolled down\n      this.screen.deleteLine(d, t, t, b);\n    } else if (d < 0 && -d < visible) {\n      // scrolled up\n      d = -d;\n      this.screen.insertLine(d, t, t, b);\n    }\n  }\n\n  return this.emit('scroll');\n};\n\nScrollableBox.prototype._recalculateIndex = function() {\n  var max, emax;\n\n  if (this.detached || !this.scrollable) {\n    return 0;\n  }\n\n  // XXX\n  // max = this.getScrollHeight() - (this.height - this.iheight);\n\n  max = this._clines.length - (this.height - this.iheight);\n  if (max < 0) max = 0;\n  emax = this._scrollBottom() - (this.height - this.iheight);\n  if (emax < 0) emax = 0;\n\n  this.childBase = Math.min(this.childBase, Math.max(emax, max));\n\n  if (this.childBase < 0) {\n    this.childBase = 0;\n  } else if (this.childBase > this.baseLimit) {\n    this.childBase = this.baseLimit;\n  }\n};\n\nScrollableBox.prototype.resetScroll = function() {\n  if (!this.scrollable) return;\n  this.childOffset = 0;\n  this.childBase = 0;\n  return this.emit('scroll');\n};\n\nScrollableBox.prototype.getScrollHeight = function() {\n  return Math.max(this._clines.length, this._scrollBottom());\n};\n\nScrollableBox.prototype.getScrollPerc = function(s) {\n  var pos = this.lpos || this._getCoords();\n  if (!pos) return s ? -1 : 0;\n\n  var height = (pos.yl - pos.yi) - this.iheight\n    , i = this.getScrollHeight()\n    , p;\n\n  if (height < i) {\n    if (this.alwaysScroll) {\n      p = this.childBase / (i - height);\n    } else {\n      p = (this.childBase + this.childOffset) / (i - 1);\n    }\n    return p * 100;\n  }\n\n  return s ? -1 : 0;\n};\n\nScrollableBox.prototype.setScrollPerc = function(i) {\n  // XXX\n  // var m = this.getScrollHeight();\n  var m = Math.max(this._clines.length, this._scrollBottom());\n  return this.scrollTo((i / 100) * m | 0);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = ScrollableBox;\n", "/**\n * element.js - base element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar assert = require('assert');\n\nvar colors = require('../colors')\n  , unicode = require('../unicode');\n\nvar nextTick = global.setImmediate || process.nextTick.bind(process);\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\n\n/**\n * Element\n */\n\nfunction Element(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Element(options);\n  }\n\n  options = options || {};\n\n  // Workaround to get a `scrollable` option.\n  if (options.scrollable && !this._ignore && this.type !== 'scrollable-box') {\n    var ScrollableBox = require('./scrollablebox');\n    Object.getOwnPropertyNames(ScrollableBox.prototype).forEach(function(key) {\n      if (key === 'type') return;\n      Object.defineProperty(this, key,\n        Object.getOwnPropertyDescriptor(ScrollableBox.prototype, key));\n    }, this);\n    this._ignore = true;\n    ScrollableBox.call(this, options);\n    delete this._ignore;\n    return this;\n  }\n\n  Node.call(this, options);\n\n  this.name = options.name;\n\n  options.position = options.position || {\n    left: options.left,\n    right: options.right,\n    top: options.top,\n    bottom: options.bottom,\n    width: options.width,\n    height: options.height\n  };\n\n  if (options.position.width === 'shrink'\n      || options.position.height === 'shrink') {\n    if (options.position.width === 'shrink') {\n      delete options.position.width;\n    }\n    if (options.position.height === 'shrink') {\n      delete options.position.height;\n    }\n    options.shrink = true;\n  }\n\n  this.position = options.position;\n\n  this.noOverflow = options.noOverflow;\n  this.dockBorders = options.dockBorders;\n  this.shadow = options.shadow;\n\n  this.style = options.style;\n\n  if (!this.style) {\n    this.style = {};\n    this.style.fg = options.fg;\n    this.style.bg = options.bg;\n    this.style.bold = options.bold;\n    this.style.underline = options.underline;\n    this.style.blink = options.blink;\n    this.style.inverse = options.inverse;\n    this.style.invisible = options.invisible;\n    this.style.transparent = options.transparent;\n  }\n\n  this.hidden = options.hidden || false;\n  this.fixed = options.fixed || false;\n  this.align = options.align || 'left';\n  this.valign = options.valign || 'top';\n  this.wrap = options.wrap !== false;\n  this.shrink = options.shrink;\n  this.fixed = options.fixed;\n  this.ch = options.ch || ' ';\n\n  if (typeof options.padding === 'number' || !options.padding) {\n    options.padding = {\n      left: options.padding,\n      top: options.padding,\n      right: options.padding,\n      bottom: options.padding\n    };\n  }\n\n  this.padding = {\n    left: options.padding.left || 0,\n    top: options.padding.top || 0,\n    right: options.padding.right || 0,\n    bottom: options.padding.bottom || 0\n  };\n\n  this.border = options.border;\n  if (this.border) {\n    if (typeof this.border === 'string') {\n      this.border = { type: this.border };\n    }\n    this.border.type = this.border.type || 'bg';\n    if (this.border.type === 'ascii') this.border.type = 'line';\n    this.border.ch = this.border.ch || ' ';\n    this.style.border = this.style.border || this.border.style;\n    if (!this.style.border) {\n      this.style.border = {};\n      this.style.border.fg = this.border.fg;\n      this.style.border.bg = this.border.bg;\n    }\n    //this.border.style = this.style.border;\n    if (this.border.left == null) this.border.left = true;\n    if (this.border.top == null) this.border.top = true;\n    if (this.border.right == null) this.border.right = true;\n    if (this.border.bottom == null) this.border.bottom = true;\n  }\n\n  // if (options.mouse || options.clickable) {\n  if (options.clickable) {\n    this.screen._listenMouse(this);\n  }\n\n  if (options.input || options.keyable) {\n    this.screen._listenKeys(this);\n  }\n\n  this.parseTags = options.parseTags || options.tags;\n\n  this.setContent(options.content || '', true);\n\n  if (options.label) {\n    this.setLabel(options.label);\n  }\n\n  if (options.hoverText) {\n    this.setHover(options.hoverText);\n  }\n\n  // TODO: Possibly move this to Node for onScreenEvent('mouse', ...).\n  this.on('newListener', function fn(type) {\n    // type = type.split(' ').slice(1).join(' ');\n    if (type === 'mouse'\n      || type === 'click'\n      || type === 'mouseover'\n      || type === 'mouseout'\n      || type === 'mousedown'\n      || type === 'mouseup'\n      || type === 'mousewheel'\n      || type === 'wheeldown'\n      || type === 'wheelup'\n      || type === 'mousemove') {\n      self.screen._listenMouse(self);\n    } else if (type === 'keypress' || type.indexOf('key ') === 0) {\n      self.screen._listenKeys(self);\n    }\n  });\n\n  this.on('resize', function() {\n    self.parseContent();\n  });\n\n  this.on('attach', function() {\n    self.parseContent();\n  });\n\n  this.on('detach', function() {\n    delete self.lpos;\n  });\n\n  if (options.hoverBg != null) {\n    options.hoverEffects = options.hoverEffects || {};\n    options.hoverEffects.bg = options.hoverBg;\n  }\n\n  if (this.style.hover) {\n    options.hoverEffects = this.style.hover;\n  }\n\n  if (this.style.focus) {\n    options.focusEffects = this.style.focus;\n  }\n\n  if (options.effects) {\n    if (options.effects.hover) options.hoverEffects = options.effects.hover;\n    if (options.effects.focus) options.focusEffects = options.effects.focus;\n  }\n\n  [['hoverEffects', 'mouseover', 'mouseout', '_htemp'],\n   ['focusEffects', 'focus', 'blur', '_ftemp']].forEach(function(props) {\n    var pname = props[0], over = props[1], out = props[2], temp = props[3];\n    self.screen.setEffects(self, self, over, out, self.options[pname], temp);\n  });\n\n  if (this.options.draggable) {\n    this.draggable = true;\n  }\n\n  if (options.focused) {\n    this.focus();\n  }\n}\n\nElement.prototype.__proto__ = Node.prototype;\n\nElement.prototype.type = 'element';\n\nElement.prototype.__defineGetter__('focused', function() {\n  return this.screen.focused === this;\n});\n\nElement.prototype.sattr = function(style, fg, bg) {\n  var bold = style.bold\n    , underline = style.underline\n    , blink = style.blink\n    , inverse = style.inverse\n    , invisible = style.invisible;\n\n  // if (arguments.length === 1) {\n  if (fg == null && bg == null) {\n    fg = style.fg;\n    bg = style.bg;\n  }\n\n  // This used to be a loop, but I decided\n  // to unroll it for performance's sake.\n  if (typeof bold === 'function') bold = bold(this);\n  if (typeof underline === 'function') underline = underline(this);\n  if (typeof blink === 'function') blink = blink(this);\n  if (typeof inverse === 'function') inverse = inverse(this);\n  if (typeof invisible === 'function') invisible = invisible(this);\n\n  if (typeof fg === 'function') fg = fg(this);\n  if (typeof bg === 'function') bg = bg(this);\n\n  // return (this.uid << 24)\n  //   | ((this.dockBorders ? 32 : 0) << 18)\n  return ((invisible ? 16 : 0) << 18)\n    | ((inverse ? 8 : 0) << 18)\n    | ((blink ? 4 : 0) << 18)\n    | ((underline ? 2 : 0) << 18)\n    | ((bold ? 1 : 0) << 18)\n    | (colors.convert(fg) << 9)\n    | colors.convert(bg);\n};\n\nElement.prototype.onScreenEvent = function(type, handler) {\n  var listeners = this._slisteners = this._slisteners || [];\n  listeners.push({ type: type, handler: handler });\n  this.screen.on(type, handler);\n};\n\nElement.prototype.onceScreenEvent = function(type, handler) {\n  var listeners = this._slisteners = this._slisteners || [];\n  var entry = { type: type, handler: handler };\n  listeners.push(entry);\n  this.screen.once(type, function() {\n    var i = listeners.indexOf(entry);\n    if (~i) listeners.splice(i, 1);\n    return handler.apply(this, arguments);\n  });\n};\n\nElement.prototype.removeScreenEvent = function(type, handler) {\n  var listeners = this._slisteners = this._slisteners || [];\n  for (var i = 0; i < listeners.length; i++) {\n    var listener = listeners[i];\n    if (listener.type === type && listener.handler === handler) {\n      listeners.splice(i, 1);\n      if (this._slisteners.length === 0) {\n        delete this._slisteners;\n      }\n      break;\n    }\n  }\n  this.screen.removeListener(type, handler);\n};\n\nElement.prototype.free = function() {\n  var listeners = this._slisteners = this._slisteners || [];\n  for (var i = 0; i < listeners.length; i++) {\n    var listener = listeners[i];\n    this.screen.removeListener(listener.type, listener.handler);\n  }\n  delete this._slisteners;\n};\n\nElement.prototype.hide = function() {\n  if (this.hidden) return;\n  this.clearPos();\n  this.hidden = true;\n  this.emit('hide');\n  if (this.screen.focused === this) {\n    this.screen.rewindFocus();\n  }\n};\n\nElement.prototype.show = function() {\n  if (!this.hidden) return;\n  this.hidden = false;\n  this.emit('show');\n};\n\nElement.prototype.toggle = function() {\n  return this.hidden ? this.show() : this.hide();\n};\n\nElement.prototype.focus = function() {\n  return this.screen.focused = this;\n};\n\nElement.prototype.setContent = function(content, noClear, noTags) {\n  if (!noClear) this.clearPos();\n  this.content = content || '';\n  this.parseContent(noTags);\n  this.emit('set content');\n};\n\nElement.prototype.getContent = function() {\n  if (!this._clines) return '';\n  return this._clines.fake.join('\\n');\n};\n\nElement.prototype.setText = function(content, noClear) {\n  content = content || '';\n  content = content.replace(/\\x1b\\[[\\d;]*m/g, '');\n  return this.setContent(content, noClear, true);\n};\n\nElement.prototype.getText = function() {\n  return this.getContent().replace(/\\x1b\\[[\\d;]*m/g, '');\n};\n\nElement.prototype.parseContent = function(noTags) {\n  if (this.detached) return false;\n\n  var width = this.width - this.iwidth;\n  if (this._clines == null\n      || this._clines.width !== width\n      || this._clines.content !== this.content) {\n    var content = this.content;\n\n    content = content\n      .replace(/[\\x00-\\x08\\x0b-\\x0c\\x0e-\\x1a\\x1c-\\x1f\\x7f]/g, '')\n      .replace(/\\x1b(?!\\[[\\d;]*m)/g, '')\n      .replace(/\\r\\n|\\r/g, '\\n')\n      .replace(/\\t/g, this.screen.tabc);\n\n    if (this.screen.fullUnicode) {\n      // double-width chars will eat the next char after render. create a\n      // blank character after it so it doesn't eat the real next char.\n      content = content.replace(unicode.chars.all, '$1\\x03');\n      // iTerm2 cannot render combining characters properly.\n      if (this.screen.program.isiTerm2) {\n        content = content.replace(unicode.chars.combining, '');\n      }\n    } else {\n      // no double-width: replace them with question-marks.\n      content = content.replace(unicode.chars.all, '??');\n      // delete combining characters since they're 0-width anyway.\n      // NOTE: We could drop this, the non-surrogates would get changed to ? by\n      // the unicode filter, and surrogates changed to ? by the surrogate\n      // regex. however, the user might expect them to be 0-width.\n      // NOTE: Might be better for performance to drop!\n      content = content.replace(unicode.chars.combining, '');\n      // no surrogate pairs: replace them with question-marks.\n      content = content.replace(unicode.chars.surrogate, '?');\n      // XXX Deduplicate code here:\n      // content = helpers.dropUnicode(content);\n    }\n\n    if (!noTags) {\n      content = this._parseTags(content);\n    }\n\n    this._clines = this._wrapContent(content, width);\n    this._clines.width = width;\n    this._clines.content = this.content;\n    this._clines.attr = this._parseAttr(this._clines);\n    this._clines.ci = [];\n    this._clines.reduce(function(total, line) {\n      this._clines.ci.push(total);\n      return total + line.length + 1;\n    }.bind(this), 0);\n\n    this._pcontent = this._clines.join('\\n');\n    this.emit('parsed content');\n\n    return true;\n  }\n\n  // Need to calculate this every time because the default fg/bg may change.\n  this._clines.attr = this._parseAttr(this._clines) || this._clines.attr;\n\n  return false;\n};\n\n// Convert `{red-fg}foo{/red-fg}` to `\\x1b[31mfoo\\x1b[39m`.\nElement.prototype._parseTags = function(text) {\n  if (!this.parseTags) return text;\n  if (!/{\\/?[\\w\\-,;!#]*}/.test(text)) return text;\n\n  var program = this.screen.program\n    , out = ''\n    , state\n    , bg = []\n    , fg = []\n    , flag = []\n    , cap\n    , slash\n    , param\n    , attr\n    , esc;\n\n  for (;;) {\n    if (!esc && (cap = /^{escape}/.exec(text))) {\n      text = text.substring(cap[0].length);\n      esc = true;\n      continue;\n    }\n\n    if (esc && (cap = /^([\\s\\S]+?){\\/escape}/.exec(text))) {\n      text = text.substring(cap[0].length);\n      out += cap[1];\n      esc = false;\n      continue;\n    }\n\n    if (esc) {\n      // throw new Error('Unterminated escape tag.');\n      out += text;\n      break;\n    }\n\n    if (cap = /^{(\\/?)([\\w\\-,;!#]*)}/.exec(text)) {\n      text = text.substring(cap[0].length);\n      slash = cap[1] === '/';\n      param = cap[2].replace(/-/g, ' ');\n\n      if (param === 'open') {\n        out += '{';\n        continue;\n      } else if (param === 'close') {\n        out += '}';\n        continue;\n      }\n\n      if (param.slice(-3) === ' bg') state = bg;\n      else if (param.slice(-3) === ' fg') state = fg;\n      else state = flag;\n\n      if (slash) {\n        if (!param) {\n          out += program._attr('normal');\n          bg.length = 0;\n          fg.length = 0;\n          flag.length = 0;\n        } else {\n          attr = program._attr(param, false);\n          if (attr == null) {\n            out += cap[0];\n          } else {\n            // if (param !== state[state.length - 1]) {\n            //   throw new Error('Misnested tags.');\n            // }\n            state.pop();\n            if (state.length) {\n              out += program._attr(state[state.length - 1]);\n            } else {\n              out += attr;\n            }\n          }\n        }\n      } else {\n        if (!param) {\n          out += cap[0];\n        } else {\n          attr = program._attr(param);\n          if (attr == null) {\n            out += cap[0];\n          } else {\n            state.push(param);\n            out += attr;\n          }\n        }\n      }\n\n      continue;\n    }\n\n    if (cap = /^[\\s\\S]+?(?={\\/?[\\w\\-,;!#]*})/.exec(text)) {\n      text = text.substring(cap[0].length);\n      out += cap[0];\n      continue;\n    }\n\n    out += text;\n    break;\n  }\n\n  return out;\n};\n\nElement.prototype._parseAttr = function(lines) {\n  var dattr = this.sattr(this.style)\n    , attr = dattr\n    , attrs = []\n    , line\n    , i\n    , j\n    , c;\n\n  if (lines[0].attr === attr) {\n    return;\n  }\n\n  for (j = 0; j < lines.length; j++) {\n    line = lines[j];\n    attrs[j] = attr;\n    for (i = 0; i < line.length; i++) {\n      if (line[i] === '\\x1b') {\n        if (c = /^\\x1b\\[[\\d;]*m/.exec(line.substring(i))) {\n          attr = this.screen.attrCode(c[0], attr, dattr);\n          i += c[0].length - 1;\n        }\n      }\n    }\n  }\n\n  return attrs;\n};\n\nElement.prototype._align = function(line, width, align) {\n  if (!align) return line;\n  //if (!align && !~line.indexOf('{|}')) return line;\n\n  var cline = line.replace(/\\x1b\\[[\\d;]*m/g, '')\n    , len = cline.length\n    , s = width - len;\n\n  if (this.shrink) {\n    s = 0;\n  }\n\n  if (len === 0) return line;\n  if (s < 0) return line;\n\n  if (align === 'center') {\n    s = Array(((s / 2) | 0) + 1).join(' ');\n    return s + line + s;\n  } else if (align === 'right') {\n    s = Array(s + 1).join(' ');\n    return s + line;\n  } else if (this.parseTags && ~line.indexOf('{|}')) {\n    var parts = line.split('{|}');\n    var cparts = cline.split('{|}');\n    s = Math.max(width - cparts[0].length - cparts[1].length, 0);\n    s = Array(s + 1).join(' ');\n    return parts[0] + s + parts[1];\n  }\n\n  return line;\n};\n\nElement.prototype._wrapContent = function(content, width) {\n  var tags = this.parseTags\n    , state = this.align\n    , wrap = this.wrap\n    , margin = 0\n    , rtof = []\n    , ftor = []\n    , out = []\n    , no = 0\n    , line\n    , align\n    , cap\n    , total\n    , i\n    , part\n    , j\n    , lines\n    , rest;\n\n  lines = content.split('\\n');\n\n  if (!content) {\n    out.push(content);\n    out.rtof = [0];\n    out.ftor = [[0]];\n    out.fake = lines;\n    out.real = out;\n    out.mwidth = 0;\n    return out;\n  }\n\n  if (this.scrollbar) margin++;\n  if (this.type === 'textarea') margin++;\n  if (width > margin) width -= margin;\n\nmain:\n  for (; no < lines.length; no++) {\n    line = lines[no];\n    align = state;\n\n    ftor.push([]);\n\n    // Handle alignment tags.\n    if (tags) {\n      if (cap = /^{(left|center|right)}/.exec(line)) {\n        line = line.substring(cap[0].length);\n        align = state = cap[1] !== 'left'\n          ? cap[1]\n          : null;\n      }\n      if (cap = /{\\/(left|center|right)}$/.exec(line)) {\n        line = line.slice(0, -cap[0].length);\n        //state = null;\n        state = this.align;\n      }\n    }\n\n    // If the string is apparently too long, wrap it.\n    while (line.length > width) {\n      // Measure the real width of the string.\n      for (i = 0, total = 0; i < line.length; i++) {\n        while (line[i] === '\\x1b') {\n          while (line[i] && line[i++] !== 'm');\n        }\n        if (!line[i]) break;\n        if (++total === width) {\n          // If we're not wrapping the text, we have to finish up the rest of\n          // the control sequences before cutting off the line.\n          i++;\n          if (!wrap) {\n            rest = line.substring(i).match(/\\x1b\\[[^m]*m/g);\n            rest = rest ? rest.join('') : '';\n            out.push(this._align(line.substring(0, i) + rest, width, align));\n            ftor[no].push(out.length - 1);\n            rtof.push(no);\n            continue main;\n          }\n          if (!this.screen.fullUnicode) {\n            // Try to find a space to break on.\n            if (i !== line.length) {\n              j = i;\n              while (j > i - 10 && j > 0 && line[--j] !== ' ');\n              if (line[j] === ' ') i = j + 1;\n            }\n          } else {\n            // Try to find a character to break on.\n            if (i !== line.length) {\n              // <XXX>\n              // Compensate for surrogate length\n              // counts on wrapping (experimental):\n              // NOTE: Could optimize this by putting\n              // it in the parent for loop.\n              if (unicode.isSurrogate(line, i)) i--;\n              for (var s = 0, n = 0; n < i; n++) {\n                if (unicode.isSurrogate(line, n)) s++, n++;\n              }\n              i += s;\n              // </XXX>\n              j = i;\n              // Break _past_ space.\n              // Break _past_ double-width chars.\n              // Break _past_ surrogate pairs.\n              // Break _past_ combining chars.\n              while (j > i - 10 && j > 0) {\n                j--;\n                if (line[j] === ' '\n                    || line[j] === '\\x03'\n                    || (unicode.isSurrogate(line, j - 1) && line[j + 1] !== '\\x03')\n                    || unicode.isCombining(line, j)) {\n                  break;\n                }\n              }\n              if (line[j] === ' '\n                  || line[j] === '\\x03'\n                  || (unicode.isSurrogate(line, j - 1) && line[j + 1] !== '\\x03')\n                  || unicode.isCombining(line, j)) {\n                i = j + 1;\n              }\n            }\n          }\n          break;\n        }\n      }\n\n      part = line.substring(0, i);\n      line = line.substring(i);\n\n      out.push(this._align(part, width, align));\n      ftor[no].push(out.length - 1);\n      rtof.push(no);\n\n      // Make sure we didn't wrap the line to the very end, otherwise\n      // we get a pointless empty line after a newline.\n      if (line === '') continue main;\n\n      // If only an escape code got cut off, at it to `part`.\n      if (/^(?:\\x1b[\\[\\d;]*m)+$/.test(line)) {\n        out[out.length - 1] += line;\n        continue main;\n      }\n    }\n\n    out.push(this._align(line, width, align));\n    ftor[no].push(out.length - 1);\n    rtof.push(no);\n  }\n\n  out.rtof = rtof;\n  out.ftor = ftor;\n  out.fake = lines;\n  out.real = out;\n\n  out.mwidth = out.reduce(function(current, line) {\n    line = line.replace(/\\x1b\\[[\\d;]*m/g, '');\n    return line.length > current\n      ? line.length\n      : current;\n  }, 0);\n\n  return out;\n};\n\nElement.prototype.__defineGetter__('visible', function() {\n  var el = this;\n  do {\n    if (el.detached) return false;\n    if (el.hidden) return false;\n    // if (!el.lpos) return false;\n    // if (el.position.width === 0 || el.position.height === 0) return false;\n  } while (el = el.parent);\n  return true;\n});\n\nElement.prototype.__defineGetter__('_detached', function() {\n  var el = this;\n  do {\n    if (el.type === 'screen') return false;\n    if (!el.parent) return true;\n  } while (el = el.parent);\n  return false;\n});\n\nElement.prototype.enableMouse = function() {\n  this.screen._listenMouse(this);\n};\n\nElement.prototype.enableKeys = function() {\n  this.screen._listenKeys(this);\n};\n\nElement.prototype.enableInput = function() {\n  this.screen._listenMouse(this);\n  this.screen._listenKeys(this);\n};\n\nElement.prototype.__defineGetter__('draggable', function() {\n  return this._draggable === true;\n});\n\nElement.prototype.__defineSetter__('draggable', function(draggable) {\n  return draggable ? this.enableDrag(draggable) : this.disableDrag();\n});\n\nElement.prototype.enableDrag = function(verify) {\n  var self = this;\n\n  if (this._draggable) return true;\n\n  if (typeof verify !== 'function') {\n    verify = function() { return true; };\n  }\n\n  this.enableMouse();\n\n  this.on('mousedown', this._dragMD = function(data) {\n    if (self.screen._dragging) return;\n    if (!verify(data)) return;\n    self.screen._dragging = self;\n    self._drag = {\n      x: data.x - self.aleft,\n      y: data.y - self.atop\n    };\n    self.setFront();\n  });\n\n  this.onScreenEvent('mouse', this._dragM = function(data) {\n    if (self.screen._dragging !== self) return;\n\n    if (data.action !== 'mousedown' && data.action !== 'mousemove') {\n      delete self.screen._dragging;\n      delete self._drag;\n      return;\n    }\n\n    // This can happen in edge cases where the user is\n    // already dragging and element when it is detached.\n    if (!self.parent) return;\n\n    var ox = self._drag.x\n      , oy = self._drag.y\n      , px = self.parent.aleft\n      , py = self.parent.atop\n      , x = data.x - px - ox\n      , y = data.y - py - oy;\n\n    if (self.position.right != null) {\n      if (self.position.left != null) {\n        self.width = '100%-' + (self.parent.width - self.width);\n      }\n      self.position.right = null;\n    }\n\n    if (self.position.bottom != null) {\n      if (self.position.top != null) {\n        self.height = '100%-' + (self.parent.height - self.height);\n      }\n      self.position.bottom = null;\n    }\n\n    self.rleft = x;\n    self.rtop = y;\n\n    self.screen.render();\n  });\n\n  return this._draggable = true;\n};\n\nElement.prototype.disableDrag = function() {\n  if (!this._draggable) return false;\n  delete this.screen._dragging;\n  delete this._drag;\n  this.removeListener('mousedown', this._dragMD);\n  this.removeScreenEvent('mouse', this._dragM);\n  return this._draggable = false;\n};\n\nElement.prototype.key = function() {\n  return this.screen.program.key.apply(this, arguments);\n};\n\nElement.prototype.onceKey = function() {\n  return this.screen.program.onceKey.apply(this, arguments);\n};\n\nElement.prototype.unkey =\nElement.prototype.removeKey = function() {\n  return this.screen.program.unkey.apply(this, arguments);\n};\n\nElement.prototype.setIndex = function(index) {\n  if (!this.parent) return;\n\n  if (index < 0) {\n    index = this.parent.children.length + index;\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, this.parent.children.length - 1);\n\n  var i = this.parent.children.indexOf(this);\n  if (!~i) return;\n\n  var item = this.parent.children.splice(i, 1)[0];\n  this.parent.children.splice(index, 0, item);\n};\n\nElement.prototype.setFront = function() {\n  return this.setIndex(-1);\n};\n\nElement.prototype.setBack = function() {\n  return this.setIndex(0);\n};\n\nElement.prototype.clearPos = function(get, override) {\n  if (this.detached) return;\n  var lpos = this._getCoords(get);\n  if (!lpos) return;\n  this.screen.clearRegion(\n    lpos.xi, lpos.xl,\n    lpos.yi, lpos.yl,\n    override);\n};\n\nElement.prototype.setLabel = function(options) {\n  var self = this;\n  var Box = require('./box');\n\n  if (typeof options === 'string') {\n    options = { text: options };\n  }\n\n  if (this._label) {\n    this._label.setContent(options.text);\n    if (options.side !== 'right') {\n      this._label.rleft = 2 + (this.border ? -1 : 0);\n      this._label.position.right = undefined;\n      if (!this.screen.autoPadding) {\n        this._label.rleft = 2;\n      }\n    } else {\n      this._label.rright = 2 + (this.border ? -1 : 0);\n      this._label.position.left = undefined;\n      if (!this.screen.autoPadding) {\n        this._label.rright = 2;\n      }\n    }\n    return;\n  }\n\n  this._label = new Box({\n    screen: this.screen,\n    parent: this,\n    content: options.text,\n    top: -this.itop,\n    tags: this.parseTags,\n    shrink: true,\n    style: this.style.label\n  });\n\n  if (options.side !== 'right') {\n    this._label.rleft = 2 - this.ileft;\n  } else {\n    this._label.rright = 2 - this.iright;\n  }\n\n  this._label._isLabel = true;\n\n  if (!this.screen.autoPadding) {\n    if (options.side !== 'right') {\n      this._label.rleft = 2;\n    } else {\n      this._label.rright = 2;\n    }\n    this._label.rtop = 0;\n  }\n\n  var reposition = function() {\n    self._label.rtop = (self.childBase || 0) - self.itop;\n    if (!self.screen.autoPadding) {\n      self._label.rtop = (self.childBase || 0);\n    }\n    self.screen.render();\n  };\n\n  this.on('scroll', this._labelScroll = function() {\n    reposition();\n  });\n\n  this.on('resize', this._labelResize = function() {\n    nextTick(function() {\n      reposition();\n    });\n  });\n};\n\nElement.prototype.removeLabel = function() {\n  if (!this._label) return;\n  this.removeListener('scroll', this._labelScroll);\n  this.removeListener('resize', this._labelResize);\n  this._label.detach();\n  delete this._labelScroll;\n  delete this._labelResize;\n  delete this._label;\n};\n\nElement.prototype.setHover = function(options) {\n  if (typeof options === 'string') {\n    options = { text: options };\n  }\n\n  this._hoverOptions = options;\n  this.enableMouse();\n  this.screen._initHover();\n};\n\nElement.prototype.removeHover = function() {\n  delete this._hoverOptions;\n  if (!this.screen._hoverText || this.screen._hoverText.detached) return;\n  this.screen._hoverText.detach();\n  this.screen.render();\n};\n\n/**\n * Positioning\n */\n\n// The below methods are a bit confusing: basically\n// whenever Box.render is called `lpos` gets set on\n// the element, an object containing the rendered\n// coordinates. Since these don't update if the\n// element is moved somehow, they're unreliable in\n// that situation. However, if we can guarantee that\n// lpos is good and up to date, it can be more\n// accurate than the calculated positions below.\n// In this case, if the element is being rendered,\n// it's guaranteed that the parent will have been\n// rendered first, in which case we can use the\n// parant's lpos instead of recalculating it's\n// position (since that might be wrong because\n// it doesn't handle content shrinkage).\n\nElement.prototype._getPos = function() {\n  var pos = this.lpos;\n\n  assert.ok(pos);\n\n  if (pos.aleft != null) return pos;\n\n  pos.aleft = pos.xi;\n  pos.atop = pos.yi;\n  pos.aright = this.screen.cols - pos.xl;\n  pos.abottom = this.screen.rows - pos.yl;\n  pos.width = pos.xl - pos.xi;\n  pos.height = pos.yl - pos.yi;\n\n  return pos;\n};\n\n/**\n * Position Getters\n */\n\nElement.prototype._getWidth = function(get) {\n  var parent = get ? this.parent._getPos() : this.parent\n    , width = this.position.width\n    , left\n    , expr;\n\n  if (typeof width === 'string') {\n    if (width === 'half') width = '50%';\n    expr = width.split(/(?=\\+|-)/);\n    width = expr[0];\n    width = +width.slice(0, -1) / 100;\n    width = parent.width * width | 0;\n    width += +(expr[1] || 0);\n    return width;\n  }\n\n  // This is for if the element is being streched or shrunken.\n  // Although the width for shrunken elements is calculated\n  // in the render function, it may be calculated based on\n  // the content width, and the content width is initially\n  // decided by the width the element, so it needs to be\n  // calculated here.\n  if (width == null) {\n    left = this.position.left || 0;\n    if (typeof left === 'string') {\n      if (left === 'center') left = '50%';\n      expr = left.split(/(?=\\+|-)/);\n      left = expr[0];\n      left = +left.slice(0, -1) / 100;\n      left = parent.width * left | 0;\n      left += +(expr[1] || 0);\n    }\n    width = parent.width - (this.position.right || 0) - left;\n    if (this.screen.autoPadding) {\n      if ((this.position.left != null || this.position.right == null)\n          && this.position.left !== 'center') {\n        width -= this.parent.ileft;\n      }\n      width -= this.parent.iright;\n    }\n  }\n\n  return width;\n};\n\nElement.prototype.__defineGetter__('width', function() {\n  return this._getWidth(false);\n});\n\nElement.prototype._getHeight = function(get) {\n  var parent = get ? this.parent._getPos() : this.parent\n    , height = this.position.height\n    , top\n    , expr;\n\n  if (typeof height === 'string') {\n    if (height === 'half') height = '50%';\n    expr = height.split(/(?=\\+|-)/);\n    height = expr[0];\n    height = +height.slice(0, -1) / 100;\n    height = parent.height * height | 0;\n    height += +(expr[1] || 0);\n    return height;\n  }\n\n  // This is for if the element is being streched or shrunken.\n  // Although the width for shrunken elements is calculated\n  // in the render function, it may be calculated based on\n  // the content width, and the content width is initially\n  // decided by the width the element, so it needs to be\n  // calculated here.\n  if (height == null) {\n    top = this.position.top || 0;\n    if (typeof top === 'string') {\n      if (top === 'center') top = '50%';\n      expr = top.split(/(?=\\+|-)/);\n      top = expr[0];\n      top = +top.slice(0, -1) / 100;\n      top = parent.height * top | 0;\n      top += +(expr[1] || 0);\n    }\n    height = parent.height - (this.position.bottom || 0) - top;\n    if (this.screen.autoPadding) {\n      if ((this.position.top != null\n          || this.position.bottom == null)\n          && this.position.top !== 'center') {\n        height -= this.parent.itop;\n      }\n      height -= this.parent.ibottom;\n    }\n  }\n\n  return height;\n};\n\nElement.prototype.__defineGetter__('height', function() {\n  return this._getHeight(false);\n});\n\nElement.prototype._getLeft = function(get) {\n  var parent = get ? this.parent._getPos() : this.parent\n    , left = this.position.left || 0\n    , expr;\n\n  if (typeof left === 'string') {\n    if (left === 'center') left = '50%';\n    expr = left.split(/(?=\\+|-)/);\n    left = expr[0];\n    left = +left.slice(0, -1) / 100;\n    left = parent.width * left | 0;\n    left += +(expr[1] || 0);\n    if (this.position.left === 'center') {\n      left -= this._getWidth(get) / 2 | 0;\n    }\n  }\n\n  if (this.position.left == null && this.position.right != null) {\n    return this.screen.cols - this._getWidth(get) - this._getRight(get);\n  }\n\n  if (this.screen.autoPadding) {\n    if ((this.position.left != null\n        || this.position.right == null)\n        && this.position.left !== 'center') {\n      left += this.parent.ileft;\n    }\n  }\n\n  return (parent.aleft || 0) + left;\n};\n\nElement.prototype.__defineGetter__('aleft', function() {\n  return this._getLeft(false);\n});\n\nElement.prototype._getRight = function(get) {\n  var parent = get ? this.parent._getPos() : this.parent\n    , right;\n\n  if (this.position.right == null && this.position.left != null) {\n    right = this.screen.cols - (this._getLeft(get) + this._getWidth(get));\n    if (this.screen.autoPadding) {\n      right += this.parent.iright;\n    }\n    return right;\n  }\n\n  right = (parent.aright || 0) + (this.position.right || 0);\n\n  if (this.screen.autoPadding) {\n    right += this.parent.iright;\n  }\n\n  return right;\n};\n\nElement.prototype.__defineGetter__('aright', function() {\n  return this._getRight(false);\n});\n\nElement.prototype._getTop = function(get) {\n  var parent = get ? this.parent._getPos() : this.parent\n    , top = this.position.top || 0\n    , expr;\n\n  if (typeof top === 'string') {\n    if (top === 'center') top = '50%';\n    expr = top.split(/(?=\\+|-)/);\n    top = expr[0];\n    top = +top.slice(0, -1) / 100;\n    top = parent.height * top | 0;\n    top += +(expr[1] || 0);\n    if (this.position.top === 'center') {\n      top -= this._getHeight(get) / 2 | 0;\n    }\n  }\n\n  if (this.position.top == null && this.position.bottom != null) {\n    return this.screen.rows - this._getHeight(get) - this._getBottom(get);\n  }\n\n  if (this.screen.autoPadding) {\n    if ((this.position.top != null\n        || this.position.bottom == null)\n        && this.position.top !== 'center') {\n      top += this.parent.itop;\n    }\n  }\n\n  return (parent.atop || 0) + top;\n};\n\nElement.prototype.__defineGetter__('atop', function() {\n  return this._getTop(false);\n});\n\nElement.prototype._getBottom = function(get) {\n  var parent = get ? this.parent._getPos() : this.parent\n    , bottom;\n\n  if (this.position.bottom == null && this.position.top != null) {\n    bottom = this.screen.rows - (this._getTop(get) + this._getHeight(get));\n    if (this.screen.autoPadding) {\n      bottom += this.parent.ibottom;\n    }\n    return bottom;\n  }\n\n  bottom = (parent.abottom || 0) + (this.position.bottom || 0);\n\n  if (this.screen.autoPadding) {\n    bottom += this.parent.ibottom;\n  }\n\n  return bottom;\n};\n\nElement.prototype.__defineGetter__('abottom', function() {\n  return this._getBottom(false);\n});\n\nElement.prototype.__defineGetter__('rleft', function() {\n  return this.aleft - this.parent.aleft;\n});\n\nElement.prototype.__defineGetter__('rright', function() {\n  return this.aright - this.parent.aright;\n});\n\nElement.prototype.__defineGetter__('rtop', function() {\n  return this.atop - this.parent.atop;\n});\n\nElement.prototype.__defineGetter__('rbottom', function() {\n  return this.abottom - this.parent.abottom;\n});\n\n/**\n * Position Setters\n */\n\n// NOTE:\n// For aright, abottom, right, and bottom:\n// If position.bottom is null, we could simply set top instead.\n// But it wouldn't replicate bottom behavior appropriately if\n// the parent was resized, etc.\nElement.prototype.__defineSetter__('width', function(val) {\n  if (this.position.width === val) return;\n  if (/^\\d+$/.test(val)) val = +val;\n  this.emit('resize');\n  this.clearPos();\n  return this.position.width = val;\n});\n\nElement.prototype.__defineSetter__('height', function(val) {\n  if (this.position.height === val) return;\n  if (/^\\d+$/.test(val)) val = +val;\n  this.emit('resize');\n  this.clearPos();\n  return this.position.height = val;\n});\n\nElement.prototype.__defineSetter__('aleft', function(val) {\n  var expr;\n  if (typeof val === 'string') {\n    if (val === 'center') {\n      val = this.screen.width / 2 | 0;\n      val -= this.width / 2 | 0;\n    } else {\n      expr = val.split(/(?=\\+|-)/);\n      val = expr[0];\n      val = +val.slice(0, -1) / 100;\n      val = this.screen.width * val | 0;\n      val += +(expr[1] || 0);\n    }\n  }\n  val -= this.parent.aleft;\n  if (this.position.left === val) return;\n  this.emit('move');\n  this.clearPos();\n  return this.position.left = val;\n});\n\nElement.prototype.__defineSetter__('aright', function(val) {\n  val -= this.parent.aright;\n  if (this.position.right === val) return;\n  this.emit('move');\n  this.clearPos();\n  return this.position.right = val;\n});\n\nElement.prototype.__defineSetter__('atop', function(val) {\n  var expr;\n  if (typeof val === 'string') {\n    if (val === 'center') {\n      val = this.screen.height / 2 | 0;\n      val -= this.height / 2 | 0;\n    } else {\n      expr = val.split(/(?=\\+|-)/);\n      val = expr[0];\n      val = +val.slice(0, -1) / 100;\n      val = this.screen.height * val | 0;\n      val += +(expr[1] || 0);\n    }\n  }\n  val -= this.parent.atop;\n  if (this.position.top === val) return;\n  this.emit('move');\n  this.clearPos();\n  return this.position.top = val;\n});\n\nElement.prototype.__defineSetter__('abottom', function(val) {\n  val -= this.parent.abottom;\n  if (this.position.bottom === val) return;\n  this.emit('move');\n  this.clearPos();\n  return this.position.bottom = val;\n});\n\nElement.prototype.__defineSetter__('rleft', function(val) {\n  if (this.position.left === val) return;\n  if (/^\\d+$/.test(val)) val = +val;\n  this.emit('move');\n  this.clearPos();\n  return this.position.left = val;\n});\n\nElement.prototype.__defineSetter__('rright', function(val) {\n  if (this.position.right === val) return;\n  this.emit('move');\n  this.clearPos();\n  return this.position.right = val;\n});\n\nElement.prototype.__defineSetter__('rtop', function(val) {\n  if (this.position.top === val) return;\n  if (/^\\d+$/.test(val)) val = +val;\n  this.emit('move');\n  this.clearPos();\n  return this.position.top = val;\n});\n\nElement.prototype.__defineSetter__('rbottom', function(val) {\n  if (this.position.bottom === val) return;\n  this.emit('move');\n  this.clearPos();\n  return this.position.bottom = val;\n});\n\nElement.prototype.__defineGetter__('ileft', function() {\n  return (this.border ? 1 : 0) + this.padding.left;\n  // return (this.border && this.border.left ? 1 : 0) + this.padding.left;\n});\n\nElement.prototype.__defineGetter__('itop', function() {\n  return (this.border ? 1 : 0) + this.padding.top;\n  // return (this.border && this.border.top ? 1 : 0) + this.padding.top;\n});\n\nElement.prototype.__defineGetter__('iright', function() {\n  return (this.border ? 1 : 0) + this.padding.right;\n  // return (this.border && this.border.right ? 1 : 0) + this.padding.right;\n});\n\nElement.prototype.__defineGetter__('ibottom', function() {\n  return (this.border ? 1 : 0) + this.padding.bottom;\n  // return (this.border && this.border.bottom ? 1 : 0) + this.padding.bottom;\n});\n\nElement.prototype.__defineGetter__('iwidth', function() {\n  // return (this.border\n  //   ? ((this.border.left ? 1 : 0) + (this.border.right ? 1 : 0)) : 0)\n  //   + this.padding.left + this.padding.right;\n  return (this.border ? 2 : 0) + this.padding.left + this.padding.right;\n});\n\nElement.prototype.__defineGetter__('iheight', function() {\n  // return (this.border\n  //   ? ((this.border.top ? 1 : 0) + (this.border.bottom ? 1 : 0)) : 0)\n  //   + this.padding.top + this.padding.bottom;\n  return (this.border ? 2 : 0) + this.padding.top + this.padding.bottom;\n});\n\nElement.prototype.__defineGetter__('tpadding', function() {\n  return this.padding.left + this.padding.top\n    + this.padding.right + this.padding.bottom;\n});\n\n/**\n * Relative coordinates as default properties\n */\n\nElement.prototype.__defineGetter__('left', function() {\n  return this.rleft;\n});\n\nElement.prototype.__defineGetter__('right', function() {\n  return this.rright;\n});\n\nElement.prototype.__defineGetter__('top', function() {\n  return this.rtop;\n});\n\nElement.prototype.__defineGetter__('bottom', function() {\n  return this.rbottom;\n});\n\nElement.prototype.__defineSetter__('left', function(val) {\n  return this.rleft = val;\n});\n\nElement.prototype.__defineSetter__('right', function(val) {\n  return this.rright = val;\n});\n\nElement.prototype.__defineSetter__('top', function(val) {\n  return this.rtop = val;\n});\n\nElement.prototype.__defineSetter__('bottom', function(val) {\n  return this.rbottom = val;\n});\n\n/**\n * Rendering - here be dragons\n */\n\nElement.prototype._getShrinkBox = function(xi, xl, yi, yl, get) {\n  if (!this.children.length) {\n    return { xi: xi, xl: xi + 1, yi: yi, yl: yi + 1 };\n  }\n\n  var i, el, ret, mxi = xi, mxl = xi + 1, myi = yi, myl = yi + 1;\n\n  // This is a chicken and egg problem. We need to determine how the children\n  // will render in order to determine how this element renders, but it in\n  // order to figure out how the children will render, they need to know\n  // exactly how their parent renders, so, we can give them what we have so\n  // far.\n  var _lpos;\n  if (get) {\n    _lpos = this.lpos;\n    this.lpos = { xi: xi, xl: xl, yi: yi, yl: yl };\n    //this.shrink = false;\n  }\n\n  for (i = 0; i < this.children.length; i++) {\n    el = this.children[i];\n\n    ret = el._getCoords(get);\n\n    // Or just (seemed to work, but probably not good):\n    // ret = el.lpos || this.lpos;\n\n    if (!ret) continue;\n\n    // Since the parent element is shrunk, and the child elements think it's\n    // going to take up as much space as possible, an element anchored to the\n    // right or bottom will inadvertantly make the parent's shrunken size as\n    // large as possible. So, we can just use the height and/or width the of\n    // element.\n    // if (get) {\n    if (el.position.left == null && el.position.right != null) {\n      ret.xl = xi + (ret.xl - ret.xi);\n      ret.xi = xi;\n      if (this.screen.autoPadding) {\n        // Maybe just do this no matter what.\n        ret.xl += this.ileft;\n        ret.xi += this.ileft;\n      }\n    }\n    if (el.position.top == null && el.position.bottom != null) {\n      ret.yl = yi + (ret.yl - ret.yi);\n      ret.yi = yi;\n      if (this.screen.autoPadding) {\n        // Maybe just do this no matter what.\n        ret.yl += this.itop;\n        ret.yi += this.itop;\n      }\n    }\n\n    if (ret.xi < mxi) mxi = ret.xi;\n    if (ret.xl > mxl) mxl = ret.xl;\n    if (ret.yi < myi) myi = ret.yi;\n    if (ret.yl > myl) myl = ret.yl;\n  }\n\n  if (get) {\n    this.lpos = _lpos;\n    //this.shrink = true;\n  }\n\n  if (this.position.width == null\n      && (this.position.left == null\n      || this.position.right == null)) {\n    if (this.position.left == null && this.position.right != null) {\n      xi = xl - (mxl - mxi);\n      if (!this.screen.autoPadding) {\n        xi -= this.padding.left + this.padding.right;\n      } else {\n        xi -= this.ileft;\n      }\n    } else {\n      xl = mxl;\n      if (!this.screen.autoPadding) {\n        xl += this.padding.left + this.padding.right;\n        // XXX Temporary workaround until we decide to make autoPadding default.\n        // See widget-listtable.js for an example of why this is necessary.\n        // XXX Maybe just to this for all this being that this would affect\n        // width shrunken normal shrunken lists as well.\n        // if (this._isList) {\n        if (this.type === 'list-table') {\n          xl -= this.padding.left + this.padding.right;\n          xl += this.iright;\n        }\n      } else {\n        //xl += this.padding.right;\n        xl += this.iright;\n      }\n    }\n  }\n\n  if (this.position.height == null\n      && (this.position.top == null\n      || this.position.bottom == null)\n      && (!this.scrollable || this._isList)) {\n    // NOTE: Lists get special treatment if they are shrunken - assume they\n    // want all list items showing. This is one case we can calculate the\n    // height based on items/boxes.\n    if (this._isList) {\n      myi = 0 - this.itop;\n      myl = this.items.length + this.ibottom;\n    }\n    if (this.position.top == null && this.position.bottom != null) {\n      yi = yl - (myl - myi);\n      if (!this.screen.autoPadding) {\n        yi -= this.padding.top + this.padding.bottom;\n      } else {\n        yi -= this.itop;\n      }\n    } else {\n      yl = myl;\n      if (!this.screen.autoPadding) {\n        yl += this.padding.top + this.padding.bottom;\n      } else {\n        yl += this.ibottom;\n      }\n    }\n  }\n\n  return { xi: xi, xl: xl, yi: yi, yl: yl };\n};\n\nElement.prototype._getShrinkContent = function(xi, xl, yi, yl) {\n  var h = this._clines.length\n    , w = this._clines.mwidth || 1;\n\n  if (this.position.width == null\n      && (this.position.left == null\n      || this.position.right == null)) {\n    if (this.position.left == null && this.position.right != null) {\n      xi = xl - w - this.iwidth;\n    } else {\n      xl = xi + w + this.iwidth;\n    }\n  }\n\n  if (this.position.height == null\n      && (this.position.top == null\n      || this.position.bottom == null)\n      && (!this.scrollable || this._isList)) {\n    if (this.position.top == null && this.position.bottom != null) {\n      yi = yl - h - this.iheight;\n    } else {\n      yl = yi + h + this.iheight;\n    }\n  }\n\n  return { xi: xi, xl: xl, yi: yi, yl: yl };\n};\n\nElement.prototype._getShrink = function(xi, xl, yi, yl, get) {\n  var shrinkBox = this._getShrinkBox(xi, xl, yi, yl, get)\n    , shrinkContent = this._getShrinkContent(xi, xl, yi, yl, get)\n    , xll = xl\n    , yll = yl;\n\n  // Figure out which one is bigger and use it.\n  if (shrinkBox.xl - shrinkBox.xi > shrinkContent.xl - shrinkContent.xi) {\n    xi = shrinkBox.xi;\n    xl = shrinkBox.xl;\n  } else {\n    xi = shrinkContent.xi;\n    xl = shrinkContent.xl;\n  }\n\n  if (shrinkBox.yl - shrinkBox.yi > shrinkContent.yl - shrinkContent.yi) {\n    yi = shrinkBox.yi;\n    yl = shrinkBox.yl;\n  } else {\n    yi = shrinkContent.yi;\n    yl = shrinkContent.yl;\n  }\n\n  // Recenter shrunken elements.\n  if (xl < xll && this.position.left === 'center') {\n    xll = (xll - xl) / 2 | 0;\n    xi += xll;\n    xl += xll;\n  }\n\n  if (yl < yll && this.position.top === 'center') {\n    yll = (yll - yl) / 2 | 0;\n    yi += yll;\n    yl += yll;\n  }\n\n  return { xi: xi, xl: xl, yi: yi, yl: yl };\n};\n\nElement.prototype._getCoords = function(get, noscroll) {\n  if (this.hidden) return;\n\n  // if (this.parent._rendering) {\n  //   get = true;\n  // }\n\n  var xi = this._getLeft(get)\n    , xl = xi + this._getWidth(get)\n    , yi = this._getTop(get)\n    , yl = yi + this._getHeight(get)\n    , base = this.childBase || 0\n    , el = this\n    , fixed = this.fixed\n    , coords\n    , v\n    , noleft\n    , noright\n    , notop\n    , nobot\n    , ppos\n    , b;\n\n  // Attempt to shrink the element base on the\n  // size of the content and child elements.\n  if (this.shrink) {\n    coords = this._getShrink(xi, xl, yi, yl, get);\n    xi = coords.xi, xl = coords.xl;\n    yi = coords.yi, yl = coords.yl;\n  }\n\n  // Find a scrollable ancestor if we have one.\n  while (el = el.parent) {\n    if (el.scrollable) {\n      if (fixed) {\n        fixed = false;\n        continue;\n      }\n      break;\n    }\n  }\n\n  // Check to make sure we're visible and\n  // inside of the visible scroll area.\n  // NOTE: Lists have a property where only\n  // the list items are obfuscated.\n\n  // Old way of doing things, this would not render right if a shrunken element\n  // with lots of boxes in it was within a scrollable element.\n  // See: $ node test/widget-shrink-fail.js\n  // var thisparent = this.parent;\n\n  var thisparent = el;\n  if (el && !noscroll) {\n    ppos = thisparent.lpos;\n\n    // The shrink option can cause a stack overflow\n    // by calling _getCoords on the child again.\n    // if (!get && !thisparent.shrink) {\n    //   ppos = thisparent._getCoords();\n    // }\n\n    if (!ppos) return;\n\n    // TODO: Figure out how to fix base (and cbase to only\n    // take into account the *parent's* padding.\n\n    yi -= ppos.base;\n    yl -= ppos.base;\n\n    b = thisparent.border ? 1 : 0;\n\n    // XXX\n    // Fixes non-`fixed` labels to work with scrolling (they're ON the border):\n    // if (this.position.left < 0\n    //     || this.position.right < 0\n    //     || this.position.top < 0\n    //     || this.position.bottom < 0) {\n    if (this._isLabel) {\n      b = 0;\n    }\n\n    if (yi < ppos.yi + b) {\n      if (yl - 1 < ppos.yi + b) {\n        // Is above.\n        return;\n      } else {\n        // Is partially covered above.\n        notop = true;\n        v = ppos.yi - yi;\n        if (this.border) v--;\n        if (thisparent.border) v++;\n        base += v;\n        yi += v;\n      }\n    } else if (yl > ppos.yl - b) {\n      if (yi > ppos.yl - 1 - b) {\n        // Is below.\n        return;\n      } else {\n        // Is partially covered below.\n        nobot = true;\n        v = yl - ppos.yl;\n        if (this.border) v--;\n        if (thisparent.border) v++;\n        yl -= v;\n      }\n    }\n\n    // Shouldn't be necessary.\n    // assert.ok(yi < yl);\n    if (yi >= yl) return;\n\n    // Could allow overlapping stuff in scrolling elements\n    // if we cleared the pending buffer before every draw.\n    if (xi < el.lpos.xi) {\n      xi = el.lpos.xi;\n      noleft = true;\n      if (this.border) xi--;\n      if (thisparent.border) xi++;\n    }\n    if (xl > el.lpos.xl) {\n      xl = el.lpos.xl;\n      noright = true;\n      if (this.border) xl++;\n      if (thisparent.border) xl--;\n    }\n    //if (xi > xl) return;\n    if (xi >= xl) return;\n  }\n\n  if (this.noOverflow && this.parent.lpos) {\n    if (xi < this.parent.lpos.xi + this.parent.ileft) {\n      xi = this.parent.lpos.xi + this.parent.ileft;\n    }\n    if (xl > this.parent.lpos.xl - this.parent.iright) {\n      xl = this.parent.lpos.xl - this.parent.iright;\n    }\n    if (yi < this.parent.lpos.yi + this.parent.itop) {\n      yi = this.parent.lpos.yi + this.parent.itop;\n    }\n    if (yl > this.parent.lpos.yl - this.parent.ibottom) {\n      yl = this.parent.lpos.yl - this.parent.ibottom;\n    }\n  }\n\n  // if (this.parent.lpos) {\n  //   this.parent.lpos._scrollBottom = Math.max(\n  //     this.parent.lpos._scrollBottom, yl);\n  // }\n\n  return {\n    xi: xi,\n    xl: xl,\n    yi: yi,\n    yl: yl,\n    base: base,\n    noleft: noleft,\n    noright: noright,\n    notop: notop,\n    nobot: nobot,\n    renders: this.screen.renders\n  };\n};\n\nElement.prototype.render = function() {\n  this._emit('prerender');\n\n  this.parseContent();\n\n  var coords = this._getCoords(true);\n  if (!coords) {\n    delete this.lpos;\n    return;\n  }\n\n  if (coords.xl - coords.xi <= 0) {\n    coords.xl = Math.max(coords.xl, coords.xi);\n    return;\n  }\n\n  if (coords.yl - coords.yi <= 0) {\n    coords.yl = Math.max(coords.yl, coords.yi);\n    return;\n  }\n\n  var lines = this.screen.lines\n    , xi = coords.xi\n    , xl = coords.xl\n    , yi = coords.yi\n    , yl = coords.yl\n    , x\n    , y\n    , cell\n    , attr\n    , ch\n    , content = this._pcontent\n    , ci = this._clines.ci[coords.base]\n    , battr\n    , dattr\n    , c\n    , visible\n    , i\n    , bch = this.ch;\n\n  // Clip content if it's off the edge of the screen\n  // if (xi + this.ileft < 0 || yi + this.itop < 0) {\n  //   var clines = this._clines.slice();\n  //   if (xi + this.ileft < 0) {\n  //     for (var i = 0; i < clines.length; i++) {\n  //       var t = 0;\n  //       var csi = '';\n  //       var csis = '';\n  //       for (var j = 0; j < clines[i].length; j++) {\n  //         while (clines[i][j] === '\\x1b') {\n  //           csi = '\\x1b';\n  //           while (clines[i][j++] !== 'm') csi += clines[i][j];\n  //           csis += csi;\n  //         }\n  //         if (++t === -(xi + this.ileft) + 1) break;\n  //       }\n  //       clines[i] = csis + clines[i].substring(j);\n  //     }\n  //   }\n  //   if (yi + this.itop < 0) {\n  //     clines = clines.slice(-(yi + this.itop));\n  //   }\n  //   content = clines.join('\\n');\n  // }\n\n  if (coords.base >= this._clines.ci.length) {\n    ci = this._pcontent.length;\n  }\n\n  this.lpos = coords;\n\n  if (this.border && this.border.type === 'line') {\n    this.screen._borderStops[coords.yi] = true;\n    this.screen._borderStops[coords.yl - 1] = true;\n    // if (!this.screen._borderStops[coords.yi]) {\n    //   this.screen._borderStops[coords.yi] = { xi: coords.xi, xl: coords.xl };\n    // } else {\n    //   if (this.screen._borderStops[coords.yi].xi > coords.xi) {\n    //     this.screen._borderStops[coords.yi].xi = coords.xi;\n    //   }\n    //   if (this.screen._borderStops[coords.yi].xl < coords.xl) {\n    //     this.screen._borderStops[coords.yi].xl = coords.xl;\n    //   }\n    // }\n    // this.screen._borderStops[coords.yl - 1] = this.screen._borderStops[coords.yi];\n  }\n\n  dattr = this.sattr(this.style);\n  attr = dattr;\n\n  // If we're in a scrollable text box, check to\n  // see which attributes this line starts with.\n  if (ci > 0) {\n    attr = this._clines.attr[Math.min(coords.base, this._clines.length - 1)];\n  }\n\n  if (this.border) xi++, xl--, yi++, yl--;\n\n  // If we have padding/valign, that means the\n  // content-drawing loop will skip a few cells/lines.\n  // To deal with this, we can just fill the whole thing\n  // ahead of time. This could be optimized.\n  if (this.tpadding || (this.valign && this.valign !== 'top')) {\n    if (this.style.transparent) {\n      for (y = Math.max(yi, 0); y < yl; y++) {\n        if (!lines[y]) break;\n        for (x = Math.max(xi, 0); x < xl; x++) {\n          if (!lines[y][x]) break;\n          lines[y][x][0] = colors.blend(attr, lines[y][x][0]);\n          // lines[y][x][1] = bch;\n          lines[y].dirty = true;\n        }\n      }\n    } else {\n      this.screen.fillRegion(dattr, bch, xi, xl, yi, yl);\n    }\n  }\n\n  if (this.tpadding) {\n    xi += this.padding.left, xl -= this.padding.right;\n    yi += this.padding.top, yl -= this.padding.bottom;\n  }\n\n  // Determine where to place the text if it's vertically aligned.\n  if (this.valign === 'middle' || this.valign === 'bottom') {\n    visible = yl - yi;\n    if (this._clines.length < visible) {\n      if (this.valign === 'middle') {\n        visible = visible / 2 | 0;\n        visible -= this._clines.length / 2 | 0;\n      } else if (this.valign === 'bottom') {\n        visible -= this._clines.length;\n      }\n      ci -= visible * (xl - xi);\n    }\n  }\n\n  // Draw the content and background.\n  for (y = yi; y < yl; y++) {\n    if (!lines[y]) {\n      if (y >= this.screen.height || yl < this.ibottom) {\n        break;\n      } else {\n        continue;\n      }\n    }\n    for (x = xi; x < xl; x++) {\n      cell = lines[y][x];\n      if (!cell) {\n        if (x >= this.screen.width || xl < this.iright) {\n          break;\n        } else {\n          continue;\n        }\n      }\n\n      ch = content[ci++] || bch;\n\n      // if (!content[ci] && !coords._contentEnd) {\n      //   coords._contentEnd = { x: x - xi, y: y - yi };\n      // }\n\n      // Handle escape codes.\n      while (ch === '\\x1b') {\n        if (c = /^\\x1b\\[[\\d;]*m/.exec(content.substring(ci - 1))) {\n          ci += c[0].length - 1;\n          attr = this.screen.attrCode(c[0], attr, dattr);\n          // Ignore foreground changes for selected items.\n          if (this.parent._isList && this.parent.interactive\n              && this.parent.items[this.parent.selected] === this\n              && this.parent.options.invertSelected !== false) {\n            attr = (attr & ~(0x1ff << 9)) | (dattr & (0x1ff << 9));\n          }\n          ch = content[ci] || bch;\n          ci++;\n        } else {\n          break;\n        }\n      }\n\n      // Handle newlines.\n      if (ch === '\\t') ch = bch;\n      if (ch === '\\n') {\n        // If we're on the first cell and we find a newline and the last cell\n        // of the last line was not a newline, let's just treat this like the\n        // newline was already \"counted\".\n        if (x === xi && y !== yi && content[ci - 2] !== '\\n') {\n          x--;\n          continue;\n        }\n        // We could use fillRegion here, name the\n        // outer loop, and continue to it instead.\n        ch = bch;\n        for (; x < xl; x++) {\n          cell = lines[y][x];\n          if (!cell) break;\n          if (this.style.transparent) {\n            lines[y][x][0] = colors.blend(attr, lines[y][x][0]);\n            if (content[ci]) lines[y][x][1] = ch;\n            lines[y].dirty = true;\n          } else {\n            if (attr !== cell[0] || ch !== cell[1]) {\n              lines[y][x][0] = attr;\n              lines[y][x][1] = ch;\n              lines[y].dirty = true;\n            }\n          }\n        }\n        continue;\n      }\n\n      if (this.screen.fullUnicode && content[ci - 1]) {\n        var point = unicode.codePointAt(content, ci - 1);\n        // Handle combining chars:\n        // Make sure they get in the same cell and are counted as 0.\n        if (unicode.combining[point]) {\n          if (point > 0x00ffff) {\n            ch = content[ci - 1] + content[ci];\n            ci++;\n          }\n          if (x - 1 >= xi) {\n            lines[y][x - 1][1] += ch;\n          } else if (y - 1 >= yi) {\n            lines[y - 1][xl - 1][1] += ch;\n          }\n          x--;\n          continue;\n        }\n        // Handle surrogate pairs:\n        // Make sure we put surrogate pair chars in one cell.\n        if (point > 0x00ffff) {\n          ch = content[ci - 1] + content[ci];\n          ci++;\n        }\n      }\n\n      if (this._noFill) continue;\n\n      if (this.style.transparent) {\n        lines[y][x][0] = colors.blend(attr, lines[y][x][0]);\n        if (content[ci]) lines[y][x][1] = ch;\n        lines[y].dirty = true;\n      } else {\n        if (attr !== cell[0] || ch !== cell[1]) {\n          lines[y][x][0] = attr;\n          lines[y][x][1] = ch;\n          lines[y].dirty = true;\n        }\n      }\n    }\n  }\n\n  // Draw the scrollbar.\n  // Could possibly draw this after all child elements.\n  if (this.scrollbar) {\n    // XXX\n    // i = this.getScrollHeight();\n    i = Math.max(this._clines.length, this._scrollBottom());\n  }\n  if (coords.notop || coords.nobot) i = -Infinity;\n  if (this.scrollbar && (yl - yi) < i) {\n    x = xl - 1;\n    if (this.scrollbar.ignoreBorder && this.border) x++;\n    if (this.alwaysScroll) {\n      y = this.childBase / (i - (yl - yi));\n    } else {\n      y = (this.childBase + this.childOffset) / (i - 1);\n    }\n    y = yi + ((yl - yi) * y | 0);\n    if (y >= yl) y = yl - 1;\n    cell = lines[y] && lines[y][x];\n    if (cell) {\n      if (this.track) {\n        ch = this.track.ch || ' ';\n        attr = this.sattr(this.style.track,\n          this.style.track.fg || this.style.fg,\n          this.style.track.bg || this.style.bg);\n        this.screen.fillRegion(attr, ch, x, x + 1, yi, yl);\n      }\n      ch = this.scrollbar.ch || ' ';\n      attr = this.sattr(this.style.scrollbar,\n        this.style.scrollbar.fg || this.style.fg,\n        this.style.scrollbar.bg || this.style.bg);\n      if (attr !== cell[0] || ch !== cell[1]) {\n        lines[y][x][0] = attr;\n        lines[y][x][1] = ch;\n        lines[y].dirty = true;\n      }\n    }\n  }\n\n  if (this.border) xi--, xl++, yi--, yl++;\n\n  if (this.tpadding) {\n    xi -= this.padding.left, xl += this.padding.right;\n    yi -= this.padding.top, yl += this.padding.bottom;\n  }\n\n  // Draw the border.\n  if (this.border) {\n    battr = this.sattr(this.style.border);\n    y = yi;\n    if (coords.notop) y = -1;\n    for (x = xi; x < xl; x++) {\n      if (!lines[y]) break;\n      if (coords.noleft && x === xi) continue;\n      if (coords.noright && x === xl - 1) continue;\n      cell = lines[y][x];\n      if (!cell) continue;\n      if (this.border.type === 'line') {\n        if (x === xi) {\n          ch = '\\u250c'; // '\u250C'\n          if (!this.border.left) {\n            if (this.border.top) {\n              ch = '\\u2500'; // '\u2500'\n            } else {\n              continue;\n            }\n          } else {\n            if (!this.border.top) {\n              ch = '\\u2502'; // '\u2502'\n            }\n          }\n        } else if (x === xl - 1) {\n          ch = '\\u2510'; // '\u2510'\n          if (!this.border.right) {\n            if (this.border.top) {\n              ch = '\\u2500'; // '\u2500'\n            } else {\n              continue;\n            }\n          } else {\n            if (!this.border.top) {\n              ch = '\\u2502'; // '\u2502'\n            }\n          }\n        } else {\n          ch = '\\u2500'; // '\u2500'\n        }\n      } else if (this.border.type === 'bg') {\n        ch = this.border.ch;\n      }\n      if (!this.border.top && x !== xi && x !== xl - 1) {\n        ch = ' ';\n        if (dattr !== cell[0] || ch !== cell[1]) {\n          lines[y][x][0] = dattr;\n          lines[y][x][1] = ch;\n          lines[y].dirty = true;\n          continue;\n        }\n      }\n      if (battr !== cell[0] || ch !== cell[1]) {\n        lines[y][x][0] = battr;\n        lines[y][x][1] = ch;\n        lines[y].dirty = true;\n      }\n    }\n    y = yi + 1;\n    for (; y < yl - 1; y++) {\n      if (!lines[y]) continue;\n      cell = lines[y][xi];\n      if (cell) {\n        if (this.border.left) {\n          if (this.border.type === 'line') {\n            ch = '\\u2502'; // '\u2502'\n          } else if (this.border.type === 'bg') {\n            ch = this.border.ch;\n          }\n          if (!coords.noleft)\n          if (battr !== cell[0] || ch !== cell[1]) {\n            lines[y][xi][0] = battr;\n            lines[y][xi][1] = ch;\n            lines[y].dirty = true;\n          }\n        } else {\n          ch = ' ';\n          if (dattr !== cell[0] || ch !== cell[1]) {\n            lines[y][xi][0] = dattr;\n            lines[y][xi][1] = ch;\n            lines[y].dirty = true;\n          }\n        }\n      }\n      cell = lines[y][xl - 1];\n      if (cell) {\n        if (this.border.right) {\n          if (this.border.type === 'line') {\n            ch = '\\u2502'; // '\u2502'\n          } else if (this.border.type === 'bg') {\n            ch = this.border.ch;\n          }\n          if (!coords.noright)\n          if (battr !== cell[0] || ch !== cell[1]) {\n            lines[y][xl - 1][0] = battr;\n            lines[y][xl - 1][1] = ch;\n            lines[y].dirty = true;\n          }\n        } else {\n          ch = ' ';\n          if (dattr !== cell[0] || ch !== cell[1]) {\n            lines[y][xl - 1][0] = dattr;\n            lines[y][xl - 1][1] = ch;\n            lines[y].dirty = true;\n          }\n        }\n      }\n    }\n    y = yl - 1;\n    if (coords.nobot) y = -1;\n    for (x = xi; x < xl; x++) {\n      if (!lines[y]) break;\n      if (coords.noleft && x === xi) continue;\n      if (coords.noright && x === xl - 1) continue;\n      cell = lines[y][x];\n      if (!cell) continue;\n      if (this.border.type === 'line') {\n        if (x === xi) {\n          ch = '\\u2514'; // '\u2514'\n          if (!this.border.left) {\n            if (this.border.bottom) {\n              ch = '\\u2500'; // '\u2500'\n            } else {\n              continue;\n            }\n          } else {\n            if (!this.border.bottom) {\n              ch = '\\u2502'; // '\u2502'\n            }\n          }\n        } else if (x === xl - 1) {\n          ch = '\\u2518'; // '\u2518'\n          if (!this.border.right) {\n            if (this.border.bottom) {\n              ch = '\\u2500'; // '\u2500'\n            } else {\n              continue;\n            }\n          } else {\n            if (!this.border.bottom) {\n              ch = '\\u2502'; // '\u2502'\n            }\n          }\n        } else {\n          ch = '\\u2500'; // '\u2500'\n        }\n      } else if (this.border.type === 'bg') {\n        ch = this.border.ch;\n      }\n      if (!this.border.bottom && x !== xi && x !== xl - 1) {\n        ch = ' ';\n        if (dattr !== cell[0] || ch !== cell[1]) {\n          lines[y][x][0] = dattr;\n          lines[y][x][1] = ch;\n          lines[y].dirty = true;\n        }\n        continue;\n      }\n      if (battr !== cell[0] || ch !== cell[1]) {\n        lines[y][x][0] = battr;\n        lines[y][x][1] = ch;\n        lines[y].dirty = true;\n      }\n    }\n  }\n\n  if (this.shadow) {\n    // right\n    y = Math.max(yi + 1, 0);\n    for (; y < yl + 1; y++) {\n      if (!lines[y]) break;\n      x = xl;\n      for (; x < xl + 2; x++) {\n        if (!lines[y][x]) break;\n        // lines[y][x][0] = colors.blend(this.dattr, lines[y][x][0]);\n        lines[y][x][0] = colors.blend(lines[y][x][0]);\n        lines[y].dirty = true;\n      }\n    }\n    // bottom\n    y = yl;\n    for (; y < yl + 1; y++) {\n      if (!lines[y]) break;\n      for (x = Math.max(xi + 1, 0); x < xl; x++) {\n        if (!lines[y][x]) break;\n        // lines[y][x][0] = colors.blend(this.dattr, lines[y][x][0]);\n        lines[y][x][0] = colors.blend(lines[y][x][0]);\n        lines[y].dirty = true;\n      }\n    }\n  }\n\n  this.children.forEach(function(el) {\n    if (el.screen._ci !== -1) {\n      el.index = el.screen._ci++;\n    }\n    // if (el.screen._rendering) {\n    //   el._rendering = true;\n    // }\n    el.render();\n    // if (el.screen._rendering) {\n    //   el._rendering = false;\n    // }\n  });\n\n  this._emit('render', [coords]);\n\n  return coords;\n};\n\nElement.prototype._render = Element.prototype.render;\n\n/**\n * Content Methods\n */\n\nElement.prototype.insertLine = function(i, line) {\n  if (typeof line === 'string') line = line.split('\\n');\n\n  if (i !== i || i == null) {\n    i = this._clines.ftor.length;\n  }\n\n  i = Math.max(i, 0);\n\n  while (this._clines.fake.length < i) {\n    this._clines.fake.push('');\n    this._clines.ftor.push([this._clines.push('') - 1]);\n    this._clines.rtof(this._clines.fake.length - 1);\n  }\n\n  // NOTE: Could possibly compare the first and last ftor line numbers to see\n  // if they're the same, or if they fit in the visible region entirely.\n  var start = this._clines.length\n    , diff\n    , real;\n\n  if (i >= this._clines.ftor.length) {\n    real = this._clines.ftor[this._clines.ftor.length - 1];\n    real = real[real.length - 1] + 1;\n  } else {\n    real = this._clines.ftor[i][0];\n  }\n\n  for (var j = 0; j < line.length; j++) {\n    this._clines.fake.splice(i + j, 0, line[j]);\n  }\n\n  this.setContent(this._clines.fake.join('\\n'), true);\n\n  diff = this._clines.length - start;\n\n  if (diff > 0) {\n    var pos = this._getCoords();\n    if (!pos) return;\n\n    var height = pos.yl - pos.yi - this.iheight\n      , base = this.childBase || 0\n      , visible = real >= base && real - base < height;\n\n    if (pos && visible && this.screen.cleanSides(this)) {\n      this.screen.insertLine(diff,\n        pos.yi + this.itop + real - base,\n        pos.yi,\n        pos.yl - this.ibottom - 1);\n    }\n  }\n};\n\nElement.prototype.deleteLine = function(i, n) {\n  n = n || 1;\n\n  if (i !== i || i == null) {\n    i = this._clines.ftor.length - 1;\n  }\n\n  i = Math.max(i, 0);\n  i = Math.min(i, this._clines.ftor.length - 1);\n\n  // NOTE: Could possibly compare the first and last ftor line numbers to see\n  // if they're the same, or if they fit in the visible region entirely.\n  var start = this._clines.length\n    , diff\n    , real = this._clines.ftor[i][0];\n\n  while (n--) {\n    this._clines.fake.splice(i, 1);\n  }\n\n  this.setContent(this._clines.fake.join('\\n'), true);\n\n  diff = start - this._clines.length;\n\n  // XXX clearPos() without diff statement?\n  var height = 0;\n\n  if (diff > 0) {\n    var pos = this._getCoords();\n    if (!pos) return;\n\n    height = pos.yl - pos.yi - this.iheight;\n\n    var base = this.childBase || 0\n      , visible = real >= base && real - base < height;\n\n    if (pos && visible && this.screen.cleanSides(this)) {\n      this.screen.deleteLine(diff,\n        pos.yi + this.itop + real - base,\n        pos.yi,\n        pos.yl - this.ibottom - 1);\n    }\n  }\n\n  if (this._clines.length < height) {\n    this.clearPos();\n  }\n};\n\nElement.prototype.insertTop = function(line) {\n  var fake = this._clines.rtof[this.childBase || 0];\n  return this.insertLine(fake, line);\n};\n\nElement.prototype.insertBottom = function(line) {\n  var h = (this.childBase || 0) + this.height - this.iheight\n    , i = Math.min(h, this._clines.length)\n    , fake = this._clines.rtof[i - 1] + 1;\n\n  return this.insertLine(fake, line);\n};\n\nElement.prototype.deleteTop = function(n) {\n  var fake = this._clines.rtof[this.childBase || 0];\n  return this.deleteLine(fake, n);\n};\n\nElement.prototype.deleteBottom = function(n) {\n  var h = (this.childBase || 0) + this.height - 1 - this.iheight\n    , i = Math.min(h, this._clines.length - 1)\n    , fake = this._clines.rtof[i];\n\n  n = n || 1;\n\n  return this.deleteLine(fake - (n - 1), n);\n};\n\nElement.prototype.setLine = function(i, line) {\n  i = Math.max(i, 0);\n  while (this._clines.fake.length < i) {\n    this._clines.fake.push('');\n  }\n  this._clines.fake[i] = line;\n  return this.setContent(this._clines.fake.join('\\n'), true);\n};\n\nElement.prototype.setBaseLine = function(i, line) {\n  var fake = this._clines.rtof[this.childBase || 0];\n  return this.setLine(fake + i, line);\n};\n\nElement.prototype.getLine = function(i) {\n  i = Math.max(i, 0);\n  i = Math.min(i, this._clines.fake.length - 1);\n  return this._clines.fake[i];\n};\n\nElement.prototype.getBaseLine = function(i) {\n  var fake = this._clines.rtof[this.childBase || 0];\n  return this.getLine(fake + i);\n};\n\nElement.prototype.clearLine = function(i) {\n  i = Math.min(i, this._clines.fake.length - 1);\n  return this.setLine(i, '');\n};\n\nElement.prototype.clearBaseLine = function(i) {\n  var fake = this._clines.rtof[this.childBase || 0];\n  return this.clearLine(fake + i);\n};\n\nElement.prototype.unshiftLine = function(line) {\n  return this.insertLine(0, line);\n};\n\nElement.prototype.shiftLine = function(n) {\n  return this.deleteLine(0, n);\n};\n\nElement.prototype.pushLine = function(line) {\n  if (!this.content) return this.setLine(0, line);\n  return this.insertLine(this._clines.fake.length, line);\n};\n\nElement.prototype.popLine = function(n) {\n  return this.deleteLine(this._clines.fake.length - 1, n);\n};\n\nElement.prototype.getLines = function() {\n  return this._clines.fake.slice();\n};\n\nElement.prototype.getScreenLines = function() {\n  return this._clines.slice();\n};\n\nElement.prototype.strWidth = function(text) {\n  text = this.parseTags\n    ? helpers.stripTags(text)\n    : text;\n  return this.screen.fullUnicode\n    ? unicode.strWidth(text)\n    : helpers.dropUnicode(text).length;\n};\n\nElement.prototype.screenshot = function(xi, xl, yi, yl) {\n  xi = this.lpos.xi + this.ileft + (xi || 0);\n  if (xl != null) {\n    xl = this.lpos.xi + this.ileft + (xl || 0);\n  } else {\n    xl = this.lpos.xl - this.iright;\n  }\n  yi = this.lpos.yi + this.itop + (yi || 0);\n  if (yl != null) {\n    yl = this.lpos.yi + this.itop + (yl || 0);\n  } else {\n    yl = this.lpos.yl - this.ibottom;\n  }\n  return this.screen.screenshot(xi, xl, yi, yl);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Element;\n", "/**\n * helpers.js - helpers for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar fs = require('fs');\n\nvar unicode = require('./unicode');\n\n/**\n * Helpers\n */\n\nvar helpers = exports;\n\nhelpers.merge = function(a, b) {\n  Object.keys(b).forEach(function(key) {\n    a[key] = b[key];\n  });\n  return a;\n};\n\nhelpers.asort = function(obj) {\n  return obj.sort(function(a, b) {\n    a = a.name.toLowerCase();\n    b = b.name.toLowerCase();\n\n    if (a[0] === '.' && b[0] === '.') {\n      a = a[1];\n      b = b[1];\n    } else {\n      a = a[0];\n      b = b[0];\n    }\n\n    return a > b ? 1 : (a < b ? -1 : 0);\n  });\n};\n\nhelpers.hsort = function(obj) {\n  return obj.sort(function(a, b) {\n    return b.index - a.index;\n  });\n};\n\nhelpers.findFile = function(start, target) {\n  return (function read(dir) {\n    var files, file, stat, out;\n\n    if (dir === '/dev' || dir === '/sys'\n        || dir === '/proc' || dir === '/net') {\n      return null;\n    }\n\n    try {\n      files = fs.readdirSync(dir);\n    } catch (e) {\n      files = [];\n    }\n\n    for (var i = 0; i < files.length; i++) {\n      file = files[i];\n\n      if (file === target) {\n        return (dir === '/' ? '' : dir) + '/' + file;\n      }\n\n      try {\n        stat = fs.lstatSync((dir === '/' ? '' : dir) + '/' + file);\n      } catch (e) {\n        stat = null;\n      }\n\n      if (stat && stat.isDirectory() && !stat.isSymbolicLink()) {\n        out = read((dir === '/' ? '' : dir) + '/' + file);\n        if (out) return out;\n      }\n    }\n\n    return null;\n  })(start);\n};\n\n// Escape text for tag-enabled elements.\nhelpers.escape = function(text) {\n  return text.replace(/[{}]/g, function(ch) {\n    return ch === '{' ? '{open}' : '{close}';\n  });\n};\n\nhelpers.parseTags = function(text, screen) {\n  return helpers.Element.prototype._parseTags.call(\n    { parseTags: true, screen: screen || helpers.Screen.global }, text);\n};\n\nhelpers.generateTags = function(style, text) {\n  var open = ''\n    , close = '';\n\n  Object.keys(style || {}).forEach(function(key) {\n    var val = style[key];\n    if (typeof val === 'string') {\n      val = val.replace(/^light(?!-)/, 'light-');\n      val = val.replace(/^bright(?!-)/, 'bright-');\n      open = '{' + val + '-' + key + '}' + open;\n      close += '{/' + val + '-' + key + '}';\n    } else {\n      if (val === true) {\n        open = '{' + key + '}' + open;\n        close += '{/' + key + '}';\n      }\n    }\n  });\n\n  if (text != null) {\n    return open + text + close;\n  }\n\n  return {\n    open: open,\n    close: close\n  };\n};\n\nhelpers.attrToBinary = function(style, element) {\n  return helpers.Element.prototype.sattr.call(element || {}, style);\n};\n\nhelpers.stripTags = function(text) {\n  if (!text) return '';\n  return text\n    .replace(/{(\\/?)([\\w\\-,;!#]*)}/g, '')\n    .replace(/\\x1b\\[[\\d;]*m/g, '');\n};\n\nhelpers.cleanTags = function(text) {\n  return helpers.stripTags(text).trim();\n};\n\nhelpers.dropUnicode = function(text) {\n  if (!text) return '';\n  return text\n    .replace(unicode.chars.all, '??')\n    .replace(unicode.chars.combining, '')\n    .replace(unicode.chars.surrogate, '?');\n};\n\nhelpers.__defineGetter__('Screen', function() {\n  if (!helpers._screen) {\n    helpers._screen = require('./widgets/screen');\n  }\n  return helpers._screen;\n});\n\nhelpers.__defineGetter__('Element', function() {\n  if (!helpers._element) {\n    helpers._element = require('./widgets/element');\n  }\n  return helpers._element;\n});\n", "/**\n * scrollabletext.js - scrollable text element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar ScrollableBox = require('./scrollablebox');\n\n/**\n * ScrollableText\n */\n\nfunction ScrollableText(options) {\n  if (!(this instanceof Node)) {\n    return new ScrollableText(options);\n  }\n  options = options || {};\n  options.alwaysScroll = true;\n  ScrollableBox.call(this, options);\n}\n\nScrollableText.prototype.__proto__ = ScrollableBox.prototype;\n\nScrollableText.prototype.type = 'scrollable-text';\n\n/**\n * Expose\n */\n\nmodule.exports = ScrollableText;\n", "/**\n * log.js - log element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar util = require('util');\n\nvar nextTick = global.setImmediate || process.nextTick.bind(process);\n\nvar Node = require('./node');\nvar ScrollableText = require('./scrollabletext');\n\n/**\n * Log\n */\n\nfunction Log(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Log(options);\n  }\n\n  options = options || {};\n\n  ScrollableText.call(this, options);\n\n  this.scrollback = options.scrollback != null\n    ? options.scrollback\n    : Infinity;\n  this.scrollOnInput = options.scrollOnInput;\n\n  this.on('set content', function() {\n    if (!self._userScrolled || self.scrollOnInput) {\n      nextTick(function() {\n        self.setScrollPerc(100);\n        self._userScrolled = false;\n        self.screen.render();\n      });\n    }\n  });\n}\n\nLog.prototype.__proto__ = ScrollableText.prototype;\n\nLog.prototype.type = 'log';\n\nLog.prototype.log =\nLog.prototype.add = function() {\n  var args = Array.prototype.slice.call(arguments);\n  if (typeof args[0] === 'object') {\n    args[0] = util.inspect(args[0], true, 20, true);\n  }\n  var text = util.format.apply(util, args);\n  this.emit('log', text);\n  var ret = this.pushLine(text);\n  if (this._clines.fake.length > this.scrollback) {\n    this.shiftLine(0, (this.scrollback / 3) | 0);\n  }\n  return ret;\n};\n\nLog.prototype._scroll = Log.prototype.scroll;\nLog.prototype.scroll = function(offset, always) {\n  if (offset === 0) return this._scroll(offset, always);\n  this._userScrolled = true;\n  var ret = this._scroll(offset, always);\n  if (this.getScrollPerc() === 100) {\n    this._userScrolled = false;\n  }\n  return ret;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Log;\n", "/**\n * screen.js - screen node for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar path = require('path')\n  , fs = require('fs')\n  , cp = require('child_process');\n\nvar colors = require('../colors')\n  , program = require('../program')\n  , unicode = require('../unicode');\n\nvar nextTick = global.setImmediate || process.nextTick.bind(process);\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\nvar Log = require('./log');\nvar Element = require('./element');\nvar Box = require('./box');\n\n/**\n * Screen\n */\n\nfunction Screen(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Screen(options);\n  }\n\n  Screen.bind(this);\n\n  options = options || {};\n  if (options.rsety && options.listen) {\n    options = { program: options };\n  }\n\n  this.program = options.program;\n\n  if (!this.program) {\n    this.program = program({\n      input: options.input,\n      output: options.output,\n      log: options.log,\n      debug: options.debug,\n      dump: options.dump,\n      terminal: options.terminal || options.term,\n      resizeTimeout: options.resizeTimeout,\n      forceUnicode: options.forceUnicode,\n      tput: true,\n      buffer: true,\n      zero: true\n    });\n  } else {\n    this.program.setupTput();\n    this.program.useBuffer = true;\n    this.program.zero = true;\n    this.program.options.resizeTimeout = options.resizeTimeout;\n    if (options.forceUnicode != null) {\n      this.program.tput.features.unicode = options.forceUnicode;\n      this.program.tput.unicode = options.forceUnicode;\n    }\n  }\n\n  this.tput = this.program.tput;\n\n  Node.call(this, options);\n\n  this.autoPadding = options.autoPadding !== false;\n  this.tabc = Array((options.tabSize || 4) + 1).join(' ');\n  this.dockBorders = options.dockBorders;\n\n  this.ignoreLocked = options.ignoreLocked || [];\n\n  this._unicode = this.tput.unicode || this.tput.numbers.U8 === 1;\n  this.fullUnicode = this.options.fullUnicode && this._unicode;\n\n  this.dattr = ((0 << 18) | (0x1ff << 9)) | 0x1ff;\n\n  this.renders = 0;\n  this.position = {\n    left: this.left = this.aleft = this.rleft = 0,\n    right: this.right = this.aright = this.rright = 0,\n    top: this.top = this.atop = this.rtop = 0,\n    bottom: this.bottom = this.abottom = this.rbottom = 0,\n    get height() { return self.height; },\n    get width() { return self.width; }\n  };\n\n  this.ileft = 0;\n  this.itop = 0;\n  this.iright = 0;\n  this.ibottom = 0;\n  this.iheight = 0;\n  this.iwidth = 0;\n\n  this.padding = {\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0\n  };\n\n  this.hover = null;\n  this.history = [];\n  this.clickable = [];\n  this.keyable = [];\n  this.grabKeys = false;\n  this.lockKeys = false;\n  this.focused;\n  this._buf = '';\n\n  this._ci = -1;\n\n  if (options.title) {\n    this.title = options.title;\n  }\n\n  options.cursor = options.cursor || {\n    artificial: options.artificialCursor,\n    shape: options.cursorShape,\n    blink: options.cursorBlink,\n    color: options.cursorColor\n  };\n\n  this.cursor = {\n    artificial: options.cursor.artificial || false,\n    shape: options.cursor.shape || 'block',\n    blink: options.cursor.blink || false,\n    color: options.cursor.color || null,\n    _set: false,\n    _state: 1,\n    _hidden: true\n  };\n\n  this.program.on('resize', function() {\n    self.alloc();\n    self.render();\n    (function emit(el) {\n      el.emit('resize');\n      el.children.forEach(emit);\n    })(self);\n  });\n\n  this.program.on('focus', function() {\n    self.emit('focus');\n  });\n\n  this.program.on('blur', function() {\n    self.emit('blur');\n  });\n\n  this.program.on('warning', function(text) {\n    self.emit('warning', text);\n  });\n\n  this.on('newListener', function fn(type) {\n    if (type === 'keypress' || type.indexOf('key ') === 0 || type === 'mouse') {\n      if (type === 'keypress' || type.indexOf('key ') === 0) self._listenKeys();\n      if (type === 'mouse') self._listenMouse();\n    }\n    if (type === 'mouse'\n      || type === 'click'\n      || type === 'mouseover'\n      || type === 'mouseout'\n      || type === 'mousedown'\n      || type === 'mouseup'\n      || type === 'mousewheel'\n      || type === 'wheeldown'\n      || type === 'wheelup'\n      || type === 'mousemove') {\n      self._listenMouse();\n    }\n  });\n\n  this.setMaxListeners(Infinity);\n\n  this.enter();\n\n  this.postEnter();\n}\n\nScreen.global = null;\n\nScreen.total = 0;\n\nScreen.instances = [];\n\nScreen.bind = function(screen) {\n  if (!Screen.global) {\n    Screen.global = screen;\n  }\n\n  if (!~Screen.instances.indexOf(screen)) {\n    Screen.instances.push(screen);\n    screen.index = Screen.total;\n    Screen.total++;\n  }\n\n  if (Screen._bound) return;\n  Screen._bound = true;\n\n  process.on('uncaughtException', Screen._exceptionHandler = function(err) {\n    if (process.listeners('uncaughtException').length > 1) {\n      return;\n    }\n    Screen.instances.slice().forEach(function(screen) {\n      screen.destroy();\n    });\n    err = err || new Error('Uncaught Exception.');\n    console.error(err.stack ? err.stack + '' : err + '');\n    nextTick(function() {\n      process.exit(1);\n    });\n  });\n\n  ['SIGTERM', 'SIGINT', 'SIGQUIT'].forEach(function(signal) {\n    var name = '_' + signal.toLowerCase() + 'Handler';\n    process.on(signal, Screen[name] = function() {\n      if (process.listeners(signal).length > 1) {\n        return;\n      }\n      nextTick(function() {\n        process.exit(0);\n      });\n    });\n  });\n\n  process.on('exit', Screen._exitHandler = function() {\n    Screen.instances.slice().forEach(function(screen) {\n      screen.destroy();\n    });\n  });\n};\n\nScreen.prototype.__proto__ = Node.prototype;\n\nScreen.prototype.type = 'screen';\n\nScreen.prototype.__defineGetter__('title', function() {\n  return this.program.title;\n});\n\nScreen.prototype.__defineSetter__('title', function(title) {\n  return this.program.title = title;\n});\n\nScreen.prototype.__defineGetter__('terminal', function() {\n  return this.program.terminal;\n});\n\nScreen.prototype.__defineSetter__('terminal', function(terminal) {\n  this.setTerminal(terminal);\n  return this.program.terminal;\n});\n\nScreen.prototype.setTerminal = function(terminal) {\n  var entered = !!this.program.isAlt;\n  if (entered) {\n    this._buf = '';\n    this.program._buf = '';\n    this.leave();\n  }\n  this.program.setTerminal(terminal);\n  this.tput = this.program.tput;\n  if (entered) {\n    this.enter();\n  }\n};\n\nScreen.prototype.enter = function() {\n  if (this.program.isAlt) return;\n  if (!this.cursor._set) {\n    if (this.options.cursor.shape) {\n      this.cursorShape(this.cursor.shape, this.cursor.blink);\n    }\n    if (this.options.cursor.color) {\n      this.cursorColor(this.cursor.color);\n    }\n  }\n  if (process.platform === 'win32') {\n    try {\n      cp.execSync('cls', { stdio: 'ignore', timeout: 1000 });\n    } catch (e) {\n      ;\n    }\n  }\n  this.program.alternateBuffer();\n  this.program.put.keypad_xmit();\n  this.program.csr(0, this.height - 1);\n  this.program.hideCursor();\n  this.program.cup(0, 0);\n  // We need this for tmux now:\n  if (this.tput.strings.ena_acs) {\n    this.program._write(this.tput.enacs());\n  }\n  this.alloc();\n};\n\nScreen.prototype.leave = function() {\n  if (!this.program.isAlt) return;\n  this.program.put.keypad_local();\n  if (this.program.scrollTop !== 0\n      || this.program.scrollBottom !== this.rows - 1) {\n    this.program.csr(0, this.height - 1);\n  }\n  // XXX For some reason if alloc/clear() is before this\n  // line, it doesn't work on linux console.\n  this.program.showCursor();\n  this.alloc();\n  if (this._listenedMouse) {\n    this.program.disableMouse();\n  }\n  this.program.normalBuffer();\n  if (this.cursor._set) this.cursorReset();\n  this.program.flush();\n  if (process.platform === 'win32') {\n    try {\n      cp.execSync('cls', { stdio: 'ignore', timeout: 1000 });\n    } catch (e) {\n      ;\n    }\n  }\n};\n\nScreen.prototype.postEnter = function() {\n  var self = this;\n  if (this.options.debug) {\n    this.debugLog = new Log({\n      screen: this,\n      parent: this,\n      hidden: true,\n      draggable: true,\n      left: 'center',\n      top: 'center',\n      width: '30%',\n      height: '30%',\n      border: 'line',\n      label: ' {bold}Debug Log{/bold} ',\n      tags: true,\n      keys: true,\n      vi: true,\n      mouse: true,\n      scrollbar: {\n        ch: ' ',\n        track: {\n          bg: 'yellow'\n        },\n        style: {\n          inverse: true\n        }\n      }\n    });\n\n    this.debugLog.toggle = function() {\n      if (self.debugLog.hidden) {\n        self.saveFocus();\n        self.debugLog.show();\n        self.debugLog.setFront();\n        self.debugLog.focus();\n      } else {\n        self.debugLog.hide();\n        self.restoreFocus();\n      }\n      self.render();\n    };\n\n    this.debugLog.key(['q', 'escape'], self.debugLog.toggle);\n    this.key('f12', self.debugLog.toggle);\n  }\n\n  if (this.options.warnings) {\n    this.on('warning', function(text) {\n      var warning = new Box({\n        screen: self,\n        parent: self,\n        left: 'center',\n        top: 'center',\n        width: 'shrink',\n        padding: 1,\n        height: 'shrink',\n        align: 'center',\n        valign: 'middle',\n        border: 'line',\n        label: ' {red-fg}{bold}WARNING{/} ',\n        content: '{bold}' + text + '{/bold}',\n        tags: true\n      });\n      self.render();\n      var timeout = setTimeout(function() {\n        warning.destroy();\n        self.render();\n      }, 1500);\n      if (timeout.unref) {\n        timeout.unref();\n      }\n    });\n  }\n};\n\nScreen.prototype._destroy = Screen.prototype.destroy;\nScreen.prototype.destroy = function() {\n  this.leave();\n\n  var index = Screen.instances.indexOf(this);\n  if (~index) {\n    Screen.instances.splice(index, 1);\n    Screen.total--;\n\n    Screen.global = Screen.instances[0];\n\n    if (Screen.total === 0) {\n      Screen.global = null;\n\n      process.removeListener('uncaughtException', Screen._exceptionHandler);\n      process.removeListener('SIGTERM', Screen._sigtermHandler);\n      process.removeListener('SIGINT', Screen._sigintHandler);\n      process.removeListener('SIGQUIT', Screen._sigquitHandler);\n      process.removeListener('exit', Screen._exitHandler);\n      delete Screen._exceptionHandler;\n      delete Screen._sigtermHandler;\n      delete Screen._sigintHandler;\n      delete Screen._sigquitHandler;\n      delete Screen._exitHandler;\n\n      delete Screen._bound;\n    }\n\n    this.destroyed = true;\n    this.emit('destroy');\n    this._destroy();\n  }\n\n  this.program.destroy();\n};\n\nScreen.prototype.log = function() {\n  return this.program.log.apply(this.program, arguments);\n};\n\nScreen.prototype.debug = function() {\n  if (this.debugLog) {\n    this.debugLog.log.apply(this.debugLog, arguments);\n  }\n  return this.program.debug.apply(this.program, arguments);\n};\n\nScreen.prototype._listenMouse = function(el) {\n  var self = this;\n\n  if (el && !~this.clickable.indexOf(el)) {\n    el.clickable = true;\n    this.clickable.push(el);\n  }\n\n  if (this._listenedMouse) return;\n  this._listenedMouse = true;\n\n  this.program.enableMouse();\n  if (this.options.sendFocus) {\n    this.program.setMouse({ sendFocus: true }, true);\n  }\n\n  this.on('render', function() {\n    self._needsClickableSort = true;\n  });\n\n  this.program.on('mouse', function(data) {\n    if (self.lockKeys) return;\n\n    if (self._needsClickableSort) {\n      self.clickable = helpers.hsort(self.clickable);\n      self._needsClickableSort = false;\n    }\n\n    var i = 0\n      , el\n      , set\n      , pos;\n\n    for (; i < self.clickable.length; i++) {\n      el = self.clickable[i];\n\n      if (el.detached || !el.visible) {\n        continue;\n      }\n\n      // if (self.grabMouse && self.focused !== el\n      //     && !el.hasAncestor(self.focused)) continue;\n\n      pos = el.lpos;\n      if (!pos) continue;\n\n      if (data.x >= pos.xi && data.x < pos.xl\n          && data.y >= pos.yi && data.y < pos.yl) {\n        el.emit('mouse', data);\n        if (data.action === 'mousedown') {\n          self.mouseDown = el;\n        } else if (data.action === 'mouseup') {\n          (self.mouseDown || el).emit('click', data);\n          self.mouseDown = null;\n        } else if (data.action === 'mousemove') {\n          if (self.hover && el.index > self.hover.index) {\n            set = false;\n          }\n          if (self.hover !== el && !set) {\n            if (self.hover) {\n              self.hover.emit('mouseout', data);\n            }\n            el.emit('mouseover', data);\n            self.hover = el;\n          }\n          set = true;\n        }\n        el.emit(data.action, data);\n        break;\n      }\n    }\n\n    // Just mouseover?\n    if ((data.action === 'mousemove'\n        || data.action === 'mousedown'\n        || data.action === 'mouseup')\n        && self.hover\n        && !set) {\n      self.hover.emit('mouseout', data);\n      self.hover = null;\n    }\n\n    self.emit('mouse', data);\n    self.emit(data.action, data);\n  });\n\n  // Autofocus highest element.\n  // this.on('element click', function(el, data) {\n  //   var target;\n  //   do {\n  //     if (el.clickable === true && el.options.autoFocus !== false) {\n  //       target = el;\n  //     }\n  //   } while (el = el.parent);\n  //   if (target) target.focus();\n  // });\n\n  // Autofocus elements with the appropriate option.\n  this.on('element click', function(el) {\n    if (el.clickable === true && el.options.autoFocus !== false) {\n      el.focus();\n    }\n  });\n};\n\nScreen.prototype.enableMouse = function(el) {\n  this._listenMouse(el);\n};\n\nScreen.prototype._listenKeys = function(el) {\n  var self = this;\n\n  if (el && !~this.keyable.indexOf(el)) {\n    el.keyable = true;\n    this.keyable.push(el);\n  }\n\n  if (this._listenedKeys) return;\n  this._listenedKeys = true;\n\n  // NOTE: The event emissions used to be reversed:\n  // element + screen\n  // They are now:\n  // screen + element\n  // After the first keypress emitted, the handler\n  // checks to make sure grabKeys, lockKeys, and focused\n  // weren't changed, and handles those situations appropriately.\n  this.program.on('keypress', function(ch, key) {\n    if (self.lockKeys && !~self.ignoreLocked.indexOf(key.full)) {\n      return;\n    }\n\n    var focused = self.focused\n      , grabKeys = self.grabKeys;\n\n    if (!grabKeys || ~self.ignoreLocked.indexOf(key.full)) {\n      self.emit('keypress', ch, key);\n      self.emit('key ' + key.full, ch, key);\n    }\n\n    // If something changed from the screen key handler, stop.\n    if (self.grabKeys !== grabKeys || self.lockKeys) {\n      return;\n    }\n\n    if (focused && focused.keyable) {\n      focused.emit('keypress', ch, key);\n      focused.emit('key ' + key.full, ch, key);\n    }\n  });\n};\n\nScreen.prototype.enableKeys = function(el) {\n  this._listenKeys(el);\n};\n\nScreen.prototype.enableInput = function(el) {\n  this._listenMouse(el);\n  this._listenKeys(el);\n};\n\nScreen.prototype._initHover = function() {\n  var self = this;\n\n  if (this._hoverText) {\n    return;\n  }\n\n  this._hoverText = new Box({\n    screen: this,\n    left: 0,\n    top: 0,\n    tags: false,\n    height: 'shrink',\n    width: 'shrink',\n    border: 'line',\n    style: {\n      border: {\n        fg: 'default'\n      },\n      bg: 'default',\n      fg: 'default'\n    }\n  });\n\n  this.on('mousemove', function(data) {\n    if (self._hoverText.detached) return;\n    self._hoverText.rleft = data.x + 1;\n    self._hoverText.rtop = data.y;\n    self.render();\n  });\n\n  this.on('element mouseover', function(el, data) {\n    if (!el._hoverOptions) return;\n    self._hoverText.parseTags = el.parseTags;\n    self._hoverText.setContent(el._hoverOptions.text);\n    self.append(self._hoverText);\n    self._hoverText.rleft = data.x + 1;\n    self._hoverText.rtop = data.y;\n    self.render();\n  });\n\n  this.on('element mouseout', function() {\n    if (self._hoverText.detached) return;\n    self._hoverText.detach();\n    self.render();\n  });\n\n  // XXX This can cause problems if the\n  // terminal does not support allMotion.\n  // Workaround: check to see if content is set.\n  this.on('element mouseup', function(el) {\n    if (!self._hoverText.getContent()) return;\n    if (!el._hoverOptions) return;\n    self.append(self._hoverText);\n    self.render();\n  });\n};\n\nScreen.prototype.__defineGetter__('cols', function() {\n  return this.program.cols;\n});\n\nScreen.prototype.__defineGetter__('rows', function() {\n  return this.program.rows;\n});\n\nScreen.prototype.__defineGetter__('width', function() {\n  return this.program.cols;\n});\n\nScreen.prototype.__defineGetter__('height', function() {\n  return this.program.rows;\n});\n\nScreen.prototype.alloc = function(dirty) {\n  var x, y;\n\n  this.lines = [];\n  for (y = 0; y < this.rows; y++) {\n    this.lines[y] = [];\n    for (x = 0; x < this.cols; x++) {\n      this.lines[y][x] = [this.dattr, ' '];\n    }\n    this.lines[y].dirty = !!dirty;\n  }\n\n  this.olines = [];\n  for (y = 0; y < this.rows; y++) {\n    this.olines[y] = [];\n    for (x = 0; x < this.cols; x++) {\n      this.olines[y][x] = [this.dattr, ' '];\n    }\n  }\n\n  this.program.clear();\n};\n\nScreen.prototype.realloc = function() {\n  return this.alloc(true);\n};\n\nScreen.prototype.render = function() {\n  var self = this;\n\n  if (this.destroyed) return;\n\n  this.emit('prerender');\n\n  this._borderStops = {};\n\n  // TODO: Possibly get rid of .dirty altogether.\n  // TODO: Could possibly drop .dirty and just clear the `lines` buffer every\n  // time before a screen.render. This way clearRegion doesn't have to be\n  // called in arbitrary places for the sake of clearing a spot where an\n  // element used to be (e.g. when an element moves or is hidden). There could\n  // be some overhead though.\n  // this.screen.clearRegion(0, this.cols, 0, this.rows);\n  this._ci = 0;\n  this.children.forEach(function(el) {\n    el.index = self._ci++;\n    //el._rendering = true;\n    el.render();\n    //el._rendering = false;\n  });\n  this._ci = -1;\n\n  if (this.screen.dockBorders) {\n    this._dockBorders();\n  }\n\n  this.draw(0, this.lines.length - 1);\n\n  // XXX Workaround to deal with cursor pos before the screen has rendered and\n  // lpos is not reliable (stale).\n  if (this.focused && this.focused._updateCursor) {\n    this.focused._updateCursor(true);\n  }\n\n  this.renders++;\n\n  this.emit('render');\n};\n\nScreen.prototype.blankLine = function(ch, dirty) {\n  var out = [];\n  for (var x = 0; x < this.cols; x++) {\n    out[x] = [this.dattr, ch || ' '];\n  }\n  out.dirty = dirty;\n  return out;\n};\n\nScreen.prototype.insertLine = function(n, y, top, bottom) {\n  // if (y === top) return this.insertLineNC(n, y, top, bottom);\n\n  if (!this.tput.strings.change_scroll_region\n      || !this.tput.strings.delete_line\n      || !this.tput.strings.insert_line) return;\n\n  this._buf += this.tput.csr(top, bottom);\n  this._buf += this.tput.cup(y, 0);\n  this._buf += this.tput.il(n);\n  this._buf += this.tput.csr(0, this.height - 1);\n\n  var j = bottom + 1;\n\n  while (n--) {\n    this.lines.splice(y, 0, this.blankLine());\n    this.lines.splice(j, 1);\n    this.olines.splice(y, 0, this.blankLine());\n    this.olines.splice(j, 1);\n  }\n};\n\nScreen.prototype.deleteLine = function(n, y, top, bottom) {\n  // if (y === top) return this.deleteLineNC(n, y, top, bottom);\n\n  if (!this.tput.strings.change_scroll_region\n      || !this.tput.strings.delete_line\n      || !this.tput.strings.insert_line) return;\n\n  this._buf += this.tput.csr(top, bottom);\n  this._buf += this.tput.cup(y, 0);\n  this._buf += this.tput.dl(n);\n  this._buf += this.tput.csr(0, this.height - 1);\n\n  var j = bottom + 1;\n\n  while (n--) {\n    this.lines.splice(j, 0, this.blankLine());\n    this.lines.splice(y, 1);\n    this.olines.splice(j, 0, this.blankLine());\n    this.olines.splice(y, 1);\n  }\n};\n\n// This is how ncurses does it.\n// Scroll down (up cursor-wise).\n// This will only work for top line deletion as opposed to arbitrary lines.\nScreen.prototype.insertLineNC = function(n, y, top, bottom) {\n  if (!this.tput.strings.change_scroll_region\n      || !this.tput.strings.delete_line) return;\n\n  this._buf += this.tput.csr(top, bottom);\n  this._buf += this.tput.cup(top, 0);\n  this._buf += this.tput.dl(n);\n  this._buf += this.tput.csr(0, this.height - 1);\n\n  var j = bottom + 1;\n\n  while (n--) {\n    this.lines.splice(j, 0, this.blankLine());\n    this.lines.splice(y, 1);\n    this.olines.splice(j, 0, this.blankLine());\n    this.olines.splice(y, 1);\n  }\n};\n\n// This is how ncurses does it.\n// Scroll up (down cursor-wise).\n// This will only work for bottom line deletion as opposed to arbitrary lines.\nScreen.prototype.deleteLineNC = function(n, y, top, bottom) {\n  if (!this.tput.strings.change_scroll_region\n      || !this.tput.strings.delete_line) return;\n\n  this._buf += this.tput.csr(top, bottom);\n  this._buf += this.tput.cup(bottom, 0);\n  this._buf += Array(n + 1).join('\\n');\n  this._buf += this.tput.csr(0, this.height - 1);\n\n  var j = bottom + 1;\n\n  while (n--) {\n    this.lines.splice(j, 0, this.blankLine());\n    this.lines.splice(y, 1);\n    this.olines.splice(j, 0, this.blankLine());\n    this.olines.splice(y, 1);\n  }\n};\n\nScreen.prototype.insertBottom = function(top, bottom) {\n  return this.deleteLine(1, top, top, bottom);\n};\n\nScreen.prototype.insertTop = function(top, bottom) {\n  return this.insertLine(1, top, top, bottom);\n};\n\nScreen.prototype.deleteBottom = function(top, bottom) {\n  return this.clearRegion(0, this.width, bottom, bottom);\n};\n\nScreen.prototype.deleteTop = function(top, bottom) {\n  // Same as: return this.insertBottom(top, bottom);\n  return this.deleteLine(1, top, top, bottom);\n};\n\n// Parse the sides of an element to determine\n// whether an element has uniform cells on\n// both sides. If it does, we can use CSR to\n// optimize scrolling on a scrollable element.\n// Not exactly sure how worthwile this is.\n// This will cause a performance/cpu-usage hit,\n// but will it be less or greater than the\n// performance hit of slow-rendering scrollable\n// boxes with clean sides?\nScreen.prototype.cleanSides = function(el) {\n  var pos = el.lpos;\n\n  if (!pos) {\n    return false;\n  }\n\n  if (pos._cleanSides != null) {\n    return pos._cleanSides;\n  }\n\n  if (pos.xi <= 0 && pos.xl >= this.width) {\n    return pos._cleanSides = true;\n  }\n\n  if (this.options.fastCSR) {\n    // Maybe just do this instead of parsing.\n    if (pos.yi < 0) return pos._cleanSides = false;\n    if (pos.yl > this.height) return pos._cleanSides = false;\n    if (this.width - (pos.xl - pos.xi) < 40) {\n      return pos._cleanSides = true;\n    }\n    return pos._cleanSides = false;\n  }\n\n  if (!this.options.smartCSR) {\n    return false;\n  }\n\n  // The scrollbar can't update properly, and there's also a\n  // chance that the scrollbar may get moved around senselessly.\n  // NOTE: In pratice, this doesn't seem to be the case.\n  // if (this.scrollbar) {\n  //   return pos._cleanSides = false;\n  // }\n\n  // Doesn't matter if we're only a height of 1.\n  // if ((pos.yl - el.ibottom) - (pos.yi + el.itop) <= 1) {\n  //   return pos._cleanSides = false;\n  // }\n\n  var yi = pos.yi + el.itop\n    , yl = pos.yl - el.ibottom\n    , first\n    , ch\n    , x\n    , y;\n\n  if (pos.yi < 0) return pos._cleanSides = false;\n  if (pos.yl > this.height) return pos._cleanSides = false;\n  if (pos.xi - 1 < 0) return pos._cleanSides = true;\n  if (pos.xl > this.width) return pos._cleanSides = true;\n\n  for (x = pos.xi - 1; x >= 0; x--) {\n    if (!this.olines[yi]) break;\n    first = this.olines[yi][x];\n    for (y = yi; y < yl; y++) {\n      if (!this.olines[y] || !this.olines[y][x]) break;\n      ch = this.olines[y][x];\n      if (ch[0] !== first[0] || ch[1] !== first[1]) {\n        return pos._cleanSides = false;\n      }\n    }\n  }\n\n  for (x = pos.xl; x < this.width; x++) {\n    if (!this.olines[yi]) break;\n    first = this.olines[yi][x];\n    for (y = yi; y < yl; y++) {\n      if (!this.olines[y] || !this.olines[y][x]) break;\n      ch = this.olines[y][x];\n      if (ch[0] !== first[0] || ch[1] !== first[1]) {\n        return pos._cleanSides = false;\n      }\n    }\n  }\n\n  return pos._cleanSides = true;\n};\n\nScreen.prototype._dockBorders = function() {\n  var lines = this.lines\n    , stops = this._borderStops\n    , i\n    , y\n    , x\n    , ch;\n\n  // var keys, stop;\n  //\n  // keys = Object.keys(this._borderStops)\n  //   .map(function(k) { return +k; })\n  //   .sort(function(a, b) { return a - b; });\n  //\n  // for (i = 0; i < keys.length; i++) {\n  //   y = keys[i];\n  //   if (!lines[y]) continue;\n  //   stop = this._borderStops[y];\n  //   for (x = stop.xi; x < stop.xl; x++) {\n\n  stops = Object.keys(stops)\n    .map(function(k) { return +k; })\n    .sort(function(a, b) { return a - b; });\n\n  for (i = 0; i < stops.length; i++) {\n    y = stops[i];\n    if (!lines[y]) continue;\n    for (x = 0; x < this.width; x++) {\n      ch = lines[y][x][1];\n      if (angles[ch]) {\n        lines[y][x][1] = this._getAngle(lines, x, y);\n        lines[y].dirty = true;\n      }\n    }\n  }\n};\n\nScreen.prototype._getAngle = function(lines, x, y) {\n  var angle = 0\n    , attr = lines[y][x][0]\n    , ch = lines[y][x][1];\n\n  if (lines[y][x - 1] && langles[lines[y][x - 1][1]]) {\n    if (!this.options.ignoreDockContrast) {\n      if (lines[y][x - 1][0] !== attr) return ch;\n    }\n    angle |= 1 << 3;\n  }\n\n  if (lines[y - 1] && uangles[lines[y - 1][x][1]]) {\n    if (!this.options.ignoreDockContrast) {\n      if (lines[y - 1][x][0] !== attr) return ch;\n    }\n    angle |= 1 << 2;\n  }\n\n  if (lines[y][x + 1] && rangles[lines[y][x + 1][1]]) {\n    if (!this.options.ignoreDockContrast) {\n      if (lines[y][x + 1][0] !== attr) return ch;\n    }\n    angle |= 1 << 1;\n  }\n\n  if (lines[y + 1] && dangles[lines[y + 1][x][1]]) {\n    if (!this.options.ignoreDockContrast) {\n      if (lines[y + 1][x][0] !== attr) return ch;\n    }\n    angle |= 1 << 0;\n  }\n\n  // Experimental: fixes this situation:\n  // +----------+\n  //            | <-- empty space here, should be a T angle\n  // +-------+  |\n  // |       |  |\n  // +-------+  |\n  // |          |\n  // +----------+\n  // if (uangles[lines[y][x][1]]) {\n  //   if (lines[y + 1] && cdangles[lines[y + 1][x][1]]) {\n  //     if (!this.options.ignoreDockContrast) {\n  //       if (lines[y + 1][x][0] !== attr) return ch;\n  //     }\n  //     angle |= 1 << 0;\n  //   }\n  // }\n\n  return angleTable[angle] || ch;\n};\n\nScreen.prototype.draw = function(start, end) {\n  // this.emit('predraw');\n\n  var x\n    , y\n    , line\n    , out\n    , ch\n    , data\n    , attr\n    , fg\n    , bg\n    , flags;\n\n  var main = ''\n    , pre\n    , post;\n\n  var clr\n    , neq\n    , xx;\n\n  var lx = -1\n    , ly = -1\n    , o;\n\n  var acs;\n\n  if (this._buf) {\n    main += this._buf;\n    this._buf = '';\n  }\n\n  for (y = start; y <= end; y++) {\n    line = this.lines[y];\n    o = this.olines[y];\n\n    if (!line.dirty && !(this.cursor.artificial && y === this.program.y)) {\n      continue;\n    }\n    line.dirty = false;\n\n    out = '';\n    attr = this.dattr;\n\n    for (x = 0; x < line.length; x++) {\n      data = line[x][0];\n      ch = line[x][1];\n\n      // Render the artificial cursor.\n      if (this.cursor.artificial\n          && !this.cursor._hidden\n          && this.cursor._state\n          && x === this.program.x\n          && y === this.program.y) {\n        var cattr = this._cursorAttr(this.cursor, data);\n        if (cattr.ch) ch = cattr.ch;\n        data = cattr.attr;\n      }\n\n      // Take advantage of xterm's back_color_erase feature by using a\n      // lookahead. Stop spitting out so many damn spaces. NOTE: Is checking\n      // the bg for non BCE terminals worth the overhead?\n      if (this.options.useBCE\n          && ch === ' '\n          && (this.tput.bools.back_color_erase\n          || (data & 0x1ff) === (this.dattr & 0x1ff))\n          && ((data >> 18) & 8) === ((this.dattr >> 18) & 8)) {\n        clr = true;\n        neq = false;\n\n        for (xx = x; xx < line.length; xx++) {\n          if (line[xx][0] !== data || line[xx][1] !== ' ') {\n            clr = false;\n            break;\n          }\n          if (line[xx][0] !== o[xx][0] || line[xx][1] !== o[xx][1]) {\n            neq = true;\n          }\n        }\n\n        if (clr && neq) {\n          lx = -1, ly = -1;\n          if (data !== attr) {\n            out += this.codeAttr(data);\n            attr = data;\n          }\n          out += this.tput.cup(y, x);\n          out += this.tput.el();\n          for (xx = x; xx < line.length; xx++) {\n            o[xx][0] = data;\n            o[xx][1] = ' ';\n          }\n          break;\n        }\n\n        // If there's more than 10 spaces, use EL regardless\n        // and start over drawing the rest of line. Might\n        // not be worth it. Try to use ECH if the terminal\n        // supports it. Maybe only try to use ECH here.\n        // //if (this.tput.strings.erase_chars)\n        // if (!clr && neq && (xx - x) > 10) {\n        //   lx = -1, ly = -1;\n        //   if (data !== attr) {\n        //     out += this.codeAttr(data);\n        //     attr = data;\n        //   }\n        //   out += this.tput.cup(y, x);\n        //   if (this.tput.strings.erase_chars) {\n        //     // Use erase_chars to avoid erasing the whole line.\n        //     out += this.tput.ech(xx - x);\n        //   } else {\n        //     out += this.tput.el();\n        //   }\n        //   if (this.tput.strings.parm_right_cursor) {\n        //     out += this.tput.cuf(xx - x);\n        //   } else {\n        //     out += this.tput.cup(y, xx);\n        //   }\n        //   this.fillRegion(data, ' ',\n        //     x, this.tput.strings.erase_chars ? xx : line.length,\n        //     y, y + 1);\n        //   x = xx - 1;\n        //   continue;\n        // }\n\n        // Skip to the next line if the\n        // rest of the line is already drawn.\n        // if (!neq) {\n        //   for (; xx < line.length; xx++) {\n        //     if (line[xx][0] !== o[xx][0] || line[xx][1] !== o[xx][1]) {\n        //       neq = true;\n        //       break;\n        //     }\n        //   }\n        //   if (!neq) {\n        //     attr = data;\n        //     break;\n        //   }\n        // }\n      }\n\n      // Optimize by comparing the real output\n      // buffer to the pending output buffer.\n      if (data === o[x][0] && ch === o[x][1]) {\n        if (lx === -1) {\n          lx = x;\n          ly = y;\n        }\n        continue;\n      } else if (lx !== -1) {\n        if (this.tput.strings.parm_right_cursor) {\n          out += y === ly\n            ? this.tput.cuf(x - lx)\n            : this.tput.cup(y, x);\n        } else {\n          out += this.tput.cup(y, x);\n        }\n        lx = -1, ly = -1;\n      }\n      o[x][0] = data;\n      o[x][1] = ch;\n\n      if (data !== attr) {\n        if (attr !== this.dattr) {\n          out += '\\x1b[m';\n        }\n        if (data !== this.dattr) {\n          out += '\\x1b[';\n\n          bg = data & 0x1ff;\n          fg = (data >> 9) & 0x1ff;\n          flags = data >> 18;\n\n          // bold\n          if (flags & 1) {\n            out += '1;';\n          }\n\n          // underline\n          if (flags & 2) {\n            out += '4;';\n          }\n\n          // blink\n          if (flags & 4) {\n            out += '5;';\n          }\n\n          // inverse\n          if (flags & 8) {\n            out += '7;';\n          }\n\n          // invisible\n          if (flags & 16) {\n            out += '8;';\n          }\n\n          if (bg !== 0x1ff) {\n            bg = this._reduceColor(bg);\n            if (bg < 16) {\n              if (bg < 8) {\n                bg += 40;\n              } else if (bg < 16) {\n                bg -= 8;\n                bg += 100;\n              }\n              out += bg + ';';\n            } else {\n              out += '48;5;' + bg + ';';\n            }\n          }\n\n          if (fg !== 0x1ff) {\n            fg = this._reduceColor(fg);\n            if (fg < 16) {\n              if (fg < 8) {\n                fg += 30;\n              } else if (fg < 16) {\n                fg -= 8;\n                fg += 90;\n              }\n              out += fg + ';';\n            } else {\n              out += '38;5;' + fg + ';';\n            }\n          }\n\n          if (out[out.length - 1] === ';') out = out.slice(0, -1);\n\n          out += 'm';\n        }\n      }\n\n      // If we find a double-width char, eat the next character which should be\n      // a space due to parseContent's behavior.\n      if (this.fullUnicode) {\n        // If this is a surrogate pair double-width char, we can ignore it\n        // because parseContent already counted it as length=2.\n        if (unicode.charWidth(line[x][1]) === 2) {\n          // NOTE: At cols=44, the bug that is avoided\n          // by the angles check occurs in widget-unicode:\n          // Might also need: `line[x + 1][0] !== line[x][0]`\n          // for borderless boxes?\n          if (x === line.length - 1 || angles[line[x + 1][1]]) {\n            // If we're at the end, we don't have enough space for a\n            // double-width. Overwrite it with a space and ignore.\n            ch = ' ';\n            o[x][1] = '\\0';\n          } else {\n            // ALWAYS refresh double-width chars because this special cursor\n            // behavior is needed. There may be a more efficient way of doing\n            // this. See above.\n            o[x][1] = '\\0';\n            // Eat the next character by moving forward and marking as a\n            // space (which it is).\n            o[++x][1] = '\\0';\n          }\n        }\n      }\n\n      // Attempt to use ACS for supported characters.\n      // This is not ideal, but it's how ncurses works.\n      // There are a lot of terminals that support ACS\n      // *and UTF8, but do not declare U8. So ACS ends\n      // up being used (slower than utf8). Terminals\n      // that do not support ACS and do not explicitly\n      // support UTF8 get their unicode characters\n      // replaced with really ugly ascii characters.\n      // It is possible there is a terminal out there\n      // somewhere that does not support ACS, but\n      // supports UTF8, but I imagine it's unlikely.\n      // Maybe remove !this.tput.unicode check, however,\n      // this seems to be the way ncurses does it.\n      if (this.tput.strings.enter_alt_charset_mode\n          && !this.tput.brokenACS && (this.tput.acscr[ch] || acs)) {\n        // Fun fact: even if this.tput.brokenACS wasn't checked here,\n        // the linux console would still work fine because the acs\n        // table would fail the check of: this.tput.acscr[ch]\n        if (this.tput.acscr[ch]) {\n          if (acs) {\n            ch = this.tput.acscr[ch];\n          } else {\n            ch = this.tput.smacs()\n              + this.tput.acscr[ch];\n            acs = true;\n          }\n        } else if (acs) {\n          ch = this.tput.rmacs() + ch;\n          acs = false;\n        }\n      } else {\n        // U8 is not consistently correct. Some terminfo's\n        // terminals that do not declare it may actually\n        // support utf8 (e.g. urxvt), but if the terminal\n        // does not declare support for ACS (and U8), chances\n        // are it does not support UTF8. This is probably\n        // the \"safest\" way to do this. Should fix things\n        // like sun-color.\n        // NOTE: It could be the case that the $LANG\n        // is all that matters in some cases:\n        // if (!this.tput.unicode && ch > '~') {\n        if (!this.tput.unicode && this.tput.numbers.U8 !== 1 && ch > '~') {\n          ch = this.tput.utoa[ch] || '?';\n        }\n      }\n\n      out += ch;\n      attr = data;\n    }\n\n    if (attr !== this.dattr) {\n      out += '\\x1b[m';\n    }\n\n    if (out) {\n      main += this.tput.cup(y, 0) + out;\n    }\n  }\n\n  if (acs) {\n    main += this.tput.rmacs();\n    acs = false;\n  }\n\n  if (main) {\n    pre = '';\n    post = '';\n\n    pre += this.tput.sc();\n    post += this.tput.rc();\n\n    if (!this.program.cursorHidden) {\n      pre += this.tput.civis();\n      post += this.tput.cnorm();\n    }\n\n    // this.program.flush();\n    // this.program._owrite(pre + main + post);\n    this.program._write(pre + main + post);\n  }\n\n  // this.emit('draw');\n};\n\nScreen.prototype._reduceColor = function(color) {\n  return colors.reduce(color, this.tput.colors);\n};\n\n// Convert an SGR string to our own attribute format.\nScreen.prototype.attrCode = function(code, cur, def) {\n  var flags = (cur >> 18) & 0x1ff\n    , fg = (cur >> 9) & 0x1ff\n    , bg = cur & 0x1ff\n    , c\n    , i;\n\n  code = code.slice(2, -1).split(';');\n  if (!code[0]) code[0] = '0';\n\n  for (i = 0; i < code.length; i++) {\n    c = +code[i] || 0;\n    switch (c) {\n      case 0: // normal\n        bg = def & 0x1ff;\n        fg = (def >> 9) & 0x1ff;\n        flags = (def >> 18) & 0x1ff;\n        break;\n      case 1: // bold\n        flags |= 1;\n        break;\n      case 22:\n        flags = (def >> 18) & 0x1ff;\n        break;\n      case 4: // underline\n        flags |= 2;\n        break;\n      case 24:\n        flags = (def >> 18) & 0x1ff;\n        break;\n      case 5: // blink\n        flags |= 4;\n        break;\n      case 25:\n        flags = (def >> 18) & 0x1ff;\n        break;\n      case 7: // inverse\n        flags |= 8;\n        break;\n      case 27:\n        flags = (def >> 18) & 0x1ff;\n        break;\n      case 8: // invisible\n        flags |= 16;\n        break;\n      case 28:\n        flags = (def >> 18) & 0x1ff;\n        break;\n      case 39: // default fg\n        fg = (def >> 9) & 0x1ff;\n        break;\n      case 49: // default bg\n        bg = def & 0x1ff;\n        break;\n      case 100: // default fg/bg\n        fg = (def >> 9) & 0x1ff;\n        bg = def & 0x1ff;\n        break;\n      default: // color\n        if (c === 48 && +code[i+1] === 5) {\n          i += 2;\n          bg = +code[i];\n          break;\n        } else if (c === 48 && +code[i+1] === 2) {\n          i += 2;\n          bg = colors.match(+code[i], +code[i+1], +code[i+2]);\n          if (bg === -1) bg = def & 0x1ff;\n          i += 2;\n          break;\n        } else if (c === 38 && +code[i+1] === 5) {\n          i += 2;\n          fg = +code[i];\n          break;\n        } else if (c === 38 && +code[i+1] === 2) {\n          i += 2;\n          fg = colors.match(+code[i], +code[i+1], +code[i+2]);\n          if (fg === -1) fg = (def >> 9) & 0x1ff;\n          i += 2;\n          break;\n        }\n        if (c >= 40 && c <= 47) {\n          bg = c - 40;\n        } else if (c >= 100 && c <= 107) {\n          bg = c - 100;\n          bg += 8;\n        } else if (c === 49) {\n          bg = def & 0x1ff;\n        } else if (c >= 30 && c <= 37) {\n          fg = c - 30;\n        } else if (c >= 90 && c <= 97) {\n          fg = c - 90;\n          fg += 8;\n        } else if (c === 39) {\n          fg = (def >> 9) & 0x1ff;\n        } else if (c === 100) {\n          fg = (def >> 9) & 0x1ff;\n          bg = def & 0x1ff;\n        }\n        break;\n    }\n  }\n\n  return (flags << 18) | (fg << 9) | bg;\n};\n\n// Convert our own attribute format to an SGR string.\nScreen.prototype.codeAttr = function(code) {\n  var flags = (code >> 18) & 0x1ff\n    , fg = (code >> 9) & 0x1ff\n    , bg = code & 0x1ff\n    , out = '';\n\n  // bold\n  if (flags & 1) {\n    out += '1;';\n  }\n\n  // underline\n  if (flags & 2) {\n    out += '4;';\n  }\n\n  // blink\n  if (flags & 4) {\n    out += '5;';\n  }\n\n  // inverse\n  if (flags & 8) {\n    out += '7;';\n  }\n\n  // invisible\n  if (flags & 16) {\n    out += '8;';\n  }\n\n  if (bg !== 0x1ff) {\n    bg = this._reduceColor(bg);\n    if (bg < 16) {\n      if (bg < 8) {\n        bg += 40;\n      } else if (bg < 16) {\n        bg -= 8;\n        bg += 100;\n      }\n      out += bg + ';';\n    } else {\n      out += '48;5;' + bg + ';';\n    }\n  }\n\n  if (fg !== 0x1ff) {\n    fg = this._reduceColor(fg);\n    if (fg < 16) {\n      if (fg < 8) {\n        fg += 30;\n      } else if (fg < 16) {\n        fg -= 8;\n        fg += 90;\n      }\n      out += fg + ';';\n    } else {\n      out += '38;5;' + fg + ';';\n    }\n  }\n\n  if (out[out.length - 1] === ';') out = out.slice(0, -1);\n\n  return '\\x1b[' + out + 'm';\n};\n\nScreen.prototype.focusOffset = function(offset) {\n  var shown = this.keyable.filter(function(el) {\n    return !el.detached && el.visible;\n  }).length;\n\n  if (!shown || !offset) {\n    return;\n  }\n\n  var i = this.keyable.indexOf(this.focused);\n  if (!~i) return;\n\n  if (offset > 0) {\n    while (offset--) {\n      if (++i > this.keyable.length - 1) i = 0;\n      if (this.keyable[i].detached || !this.keyable[i].visible) offset++;\n    }\n  } else {\n    offset = -offset;\n    while (offset--) {\n      if (--i < 0) i = this.keyable.length - 1;\n      if (this.keyable[i].detached || !this.keyable[i].visible) offset++;\n    }\n  }\n\n  return this.keyable[i].focus();\n};\n\nScreen.prototype.focusPrev =\nScreen.prototype.focusPrevious = function() {\n  return this.focusOffset(-1);\n};\n\nScreen.prototype.focusNext = function() {\n  return this.focusOffset(1);\n};\n\nScreen.prototype.focusPush = function(el) {\n  if (!el) return;\n  var old = this.history[this.history.length - 1];\n  if (this.history.length === 10) {\n    this.history.shift();\n  }\n  this.history.push(el);\n  this._focus(el, old);\n};\n\nScreen.prototype.focusPop = function() {\n  var old = this.history.pop();\n  if (this.history.length) {\n    this._focus(this.history[this.history.length - 1], old);\n  }\n  return old;\n};\n\nScreen.prototype.saveFocus = function() {\n  return this._savedFocus = this.focused;\n};\n\nScreen.prototype.restoreFocus = function() {\n  if (!this._savedFocus) return;\n  this._savedFocus.focus();\n  delete this._savedFocus;\n  return this.focused;\n};\n\nScreen.prototype.rewindFocus = function() {\n  var old = this.history.pop()\n    , el;\n\n  while (this.history.length) {\n    el = this.history.pop();\n    if (!el.detached && el.visible) {\n      this.history.push(el);\n      this._focus(el, old);\n      return el;\n    }\n  }\n\n  if (old) {\n    old.emit('blur');\n  }\n};\n\nScreen.prototype._focus = function(self, old) {\n  // Find a scrollable ancestor if we have one.\n  var el = self;\n  while (el = el.parent) {\n    if (el.scrollable) break;\n  }\n\n  // If we're in a scrollable element,\n  // automatically scroll to the focused element.\n  if (el && !el.detached) {\n    // NOTE: This is different from the other \"visible\" values - it needs the\n    // visible height of the scrolling element itself, not the element within\n    // it.\n    var visible = self.screen.height - el.atop - el.itop - el.abottom - el.ibottom;\n    if (self.rtop < el.childBase) {\n      el.scrollTo(self.rtop);\n      self.screen.render();\n    } else if (self.rtop + self.height - self.ibottom > el.childBase + visible) {\n      // Explanation for el.itop here: takes into account scrollable elements\n      // with borders otherwise the element gets covered by the bottom border:\n      el.scrollTo(self.rtop - (el.height - self.height) + el.itop, true);\n      self.screen.render();\n    }\n  }\n\n  if (old) {\n    old.emit('blur', self);\n  }\n\n  self.emit('focus', old);\n};\n\nScreen.prototype.__defineGetter__('focused', function() {\n  return this.history[this.history.length - 1];\n});\n\nScreen.prototype.__defineSetter__('focused', function(el) {\n  return this.focusPush(el);\n});\n\nScreen.prototype.clearRegion = function(xi, xl, yi, yl, override) {\n  return this.fillRegion(this.dattr, ' ', xi, xl, yi, yl, override);\n};\n\nScreen.prototype.fillRegion = function(attr, ch, xi, xl, yi, yl, override) {\n  var lines = this.lines\n    , cell\n    , xx;\n\n  if (xi < 0) xi = 0;\n  if (yi < 0) yi = 0;\n\n  for (; yi < yl; yi++) {\n    if (!lines[yi]) break;\n    for (xx = xi; xx < xl; xx++) {\n      cell = lines[yi][xx];\n      if (!cell) break;\n      if (override || attr !== cell[0] || ch !== cell[1]) {\n        lines[yi][xx][0] = attr;\n        lines[yi][xx][1] = ch;\n        lines[yi].dirty = true;\n      }\n    }\n  }\n};\n\nScreen.prototype.key = function() {\n  return this.program.key.apply(this, arguments);\n};\n\nScreen.prototype.onceKey = function() {\n  return this.program.onceKey.apply(this, arguments);\n};\n\nScreen.prototype.unkey =\nScreen.prototype.removeKey = function() {\n  return this.program.unkey.apply(this, arguments);\n};\n\nScreen.prototype.spawn = function(file, args, options) {\n  if (!Array.isArray(args)) {\n    options = args;\n    args = [];\n  }\n\n  var screen = this\n    , program = screen.program\n    , spawn = require('child_process').spawn\n    , mouse = program.mouseEnabled\n    , ps;\n\n  options = options || {};\n\n  options.stdio = options.stdio || 'inherit';\n\n  program.lsaveCursor('spawn');\n  // program.csr(0, program.rows - 1);\n  program.normalBuffer();\n  program.showCursor();\n  if (mouse) program.disableMouse();\n\n  var write = program.output.write;\n  program.output.write = function() {};\n  program.input.pause();\n  if (program.input.setRawMode) {\n    program.input.setRawMode(false);\n  }\n\n  var resume = function() {\n    if (resume.done) return;\n    resume.done = true;\n\n    if (program.input.setRawMode) {\n      program.input.setRawMode(true);\n    }\n    program.input.resume();\n    program.output.write = write;\n\n    program.alternateBuffer();\n    // program.csr(0, program.rows - 1);\n    if (mouse) {\n      program.enableMouse();\n      if (screen.options.sendFocus) {\n        screen.program.setMouse({ sendFocus: true }, true);\n      }\n    }\n\n    screen.alloc();\n    screen.render();\n\n    screen.program.lrestoreCursor('spawn', true);\n  };\n\n  ps = spawn(file, args, options);\n\n  ps.on('error', resume);\n\n  ps.on('exit', resume);\n\n  return ps;\n};\n\nScreen.prototype.exec = function(file, args, options, callback) {\n  var ps = this.spawn(file, args, options);\n\n  ps.on('error', function(err) {\n    if (!callback) return;\n    return callback(err, false);\n  });\n\n  ps.on('exit', function(code) {\n    if (!callback) return;\n    return callback(null, code === 0);\n  });\n\n  return ps;\n};\n\nScreen.prototype.readEditor = function(options, callback) {\n  if (typeof options === 'string') {\n    options = { editor: options };\n  }\n\n  if (!callback) {\n    callback = options;\n    options = null;\n  }\n\n  if (!callback) {\n    callback = function() {};\n  }\n\n  options = options || {};\n\n  var self = this\n    , editor = options.editor || process.env.EDITOR || 'vi'\n    , name = options.name || process.title || 'blessed'\n    , rnd = Math.random().toString(36).split('.').pop()\n    , file = '/tmp/' + name + '.' + rnd\n    , args = [file]\n    , opt;\n\n  opt = {\n    stdio: 'inherit',\n    env: process.env,\n    cwd: process.env.HOME\n  };\n\n  function writeFile(callback) {\n    if (!options.value) return callback();\n    return fs.writeFile(file, options.value, callback);\n  }\n\n  return writeFile(function(err) {\n    if (err) return callback(err);\n    return self.exec(editor, args, opt, function(err, success) {\n      if (err) return callback(err);\n      return fs.readFile(file, 'utf8', function(err, data) {\n        return fs.unlink(file, function() {\n          if (!success) return callback(new Error('Unsuccessful.'));\n          if (err) return callback(err);\n          return callback(null, data);\n        });\n      });\n    });\n  });\n};\n\nScreen.prototype.displayImage = function(file, callback) {\n  if (!file) {\n    if (!callback) return;\n    return callback(new Error('No image.'));\n  }\n\n  file = path.resolve(process.cwd(), file);\n\n  if (!~file.indexOf('://')) {\n    file = 'file://' + file;\n  }\n\n  var args = ['w3m', '-T', 'text/html'];\n\n  var input = '<title>press q to exit</title>'\n    + '<img align=\"center\" src=\"' + file + '\">';\n\n  var opt = {\n    stdio: ['pipe', 1, 2],\n    env: process.env,\n    cwd: process.env.HOME\n  };\n\n  var ps = this.spawn(args[0], args.slice(1), opt);\n\n  ps.on('error', function(err) {\n    if (!callback) return;\n    return callback(err);\n  });\n\n  ps.on('exit', function(code) {\n    if (!callback) return;\n    if (code !== 0) return callback(new Error('Exit Code: ' + code));\n    return callback(null, code === 0);\n  });\n\n  ps.stdin.write(input + '\\n');\n  ps.stdin.end();\n};\n\nScreen.prototype.setEffects = function(el, fel, over, out, effects, temp) {\n  if (!effects) return;\n\n  var tmp = {};\n  if (temp) el[temp] = tmp;\n\n  if (typeof el !== 'function') {\n    var _el = el;\n    el = function() { return _el; };\n  }\n\n  fel.on(over, function() {\n    var element = el();\n    Object.keys(effects).forEach(function(key) {\n      var val = effects[key];\n      if (val !== null && typeof val === 'object') {\n        tmp[key] = tmp[key] || {};\n        // element.style[key] = element.style[key] || {};\n        Object.keys(val).forEach(function(k) {\n          var v = val[k];\n          tmp[key][k] = element.style[key][k];\n          element.style[key][k] = v;\n        });\n        return;\n      }\n      tmp[key] = element.style[key];\n      element.style[key] = val;\n    });\n    element.screen.render();\n  });\n\n  fel.on(out, function() {\n    var element = el();\n    Object.keys(effects).forEach(function(key) {\n      var val = effects[key];\n      if (val !== null && typeof val === 'object') {\n        tmp[key] = tmp[key] || {};\n        // element.style[key] = element.style[key] || {};\n        Object.keys(val).forEach(function(k) {\n          if (tmp[key].hasOwnProperty(k)) {\n            element.style[key][k] = tmp[key][k];\n          }\n        });\n        return;\n      }\n      if (tmp.hasOwnProperty(key)) {\n        element.style[key] = tmp[key];\n      }\n    });\n    element.screen.render();\n  });\n};\n\nScreen.prototype.sigtstp = function(callback) {\n  var self = this;\n  this.program.sigtstp(function() {\n    self.alloc();\n    self.render();\n    self.program.lrestoreCursor('pause', true);\n    if (callback) callback();\n  });\n};\n\nScreen.prototype.copyToClipboard = function(text) {\n  return this.program.copyToClipboard(text);\n};\n\nScreen.prototype.cursorShape = function(shape, blink) {\n  var self = this;\n\n  this.cursor.shape = shape || 'block';\n  this.cursor.blink = blink || false;\n  this.cursor._set = true;\n\n  if (this.cursor.artificial) {\n    if (!this.program.hideCursor_old) {\n      var hideCursor = this.program.hideCursor;\n      this.program.hideCursor_old = this.program.hideCursor;\n      this.program.hideCursor = function() {\n        hideCursor.call(self.program);\n        self.cursor._hidden = true;\n        if (self.renders) self.render();\n      };\n    }\n    if (!this.program.showCursor_old) {\n      var showCursor = this.program.showCursor;\n      this.program.showCursor_old = this.program.showCursor;\n      this.program.showCursor = function() {\n        self.cursor._hidden = false;\n        if (self.program._exiting) showCursor.call(self.program);\n        if (self.renders) self.render();\n      };\n    }\n    if (!this._cursorBlink) {\n      this._cursorBlink = setInterval(function() {\n        if (!self.cursor.blink) return;\n        self.cursor._state ^= 1;\n        if (self.renders) self.render();\n      }, 500);\n      if (this._cursorBlink.unref) {\n        this._cursorBlink.unref();\n      }\n    }\n    return true;\n  }\n\n  return this.program.cursorShape(this.cursor.shape, this.cursor.blink);\n};\n\nScreen.prototype.cursorColor = function(color) {\n  this.cursor.color = color != null\n    ? colors.convert(color)\n    : null;\n  this.cursor._set = true;\n\n  if (this.cursor.artificial) {\n    return true;\n  }\n\n  return this.program.cursorColor(colors.ncolors[this.cursor.color]);\n};\n\nScreen.prototype.cursorReset =\nScreen.prototype.resetCursor = function() {\n  this.cursor.shape = 'block';\n  this.cursor.blink = false;\n  this.cursor.color = null;\n  this.cursor._set = false;\n\n  if (this.cursor.artificial) {\n    this.cursor.artificial = false;\n    if (this.program.hideCursor_old) {\n      this.program.hideCursor = this.program.hideCursor_old;\n      delete this.program.hideCursor_old;\n    }\n    if (this.program.showCursor_old) {\n      this.program.showCursor = this.program.showCursor_old;\n      delete this.program.showCursor_old;\n    }\n    if (this._cursorBlink) {\n      clearInterval(this._cursorBlink);\n      delete this._cursorBlink;\n    }\n    return true;\n  }\n\n  return this.program.cursorReset();\n};\n\nScreen.prototype._cursorAttr = function(cursor, dattr) {\n  var attr = dattr || this.dattr\n    , cattr\n    , ch;\n\n  if (cursor.shape === 'line') {\n    attr &= ~(0x1ff << 9);\n    attr |= 7 << 9;\n    ch = '\\u2502';\n  } else if (cursor.shape === 'underline') {\n    attr &= ~(0x1ff << 9);\n    attr |= 7 << 9;\n    attr |= 2 << 18;\n  } else if (cursor.shape === 'block') {\n    attr &= ~(0x1ff << 9);\n    attr |= 7 << 9;\n    attr |= 8 << 18;\n  } else if (typeof cursor.shape === 'object' && cursor.shape) {\n    cattr = Element.prototype.sattr.call(cursor, cursor.shape);\n\n    if (cursor.shape.bold || cursor.shape.underline\n        || cursor.shape.blink || cursor.shape.inverse\n        || cursor.shape.invisible) {\n      attr &= ~(0x1ff << 18);\n      attr |= ((cattr >> 18) & 0x1ff) << 18;\n    }\n\n    if (cursor.shape.fg) {\n      attr &= ~(0x1ff << 9);\n      attr |= ((cattr >> 9) & 0x1ff) << 9;\n    }\n\n    if (cursor.shape.bg) {\n      attr &= ~(0x1ff << 0);\n      attr |= cattr & 0x1ff;\n    }\n\n    if (cursor.shape.ch) {\n      ch = cursor.shape.ch;\n    }\n  }\n\n  if (cursor.color != null) {\n    attr &= ~(0x1ff << 9);\n    attr |= cursor.color << 9;\n  }\n\n  return {\n    ch: ch,\n    attr: attr\n  };\n};\n\nScreen.prototype.screenshot = function(xi, xl, yi, yl, term) {\n  if (xi == null) xi = 0;\n  if (xl == null) xl = this.cols;\n  if (yi == null) yi = 0;\n  if (yl == null) yl = this.rows;\n\n  if (xi < 0) xi = 0;\n  if (yi < 0) yi = 0;\n\n  var x\n    , y\n    , line\n    , out\n    , ch\n    , data\n    , attr;\n\n  var sdattr = this.dattr;\n\n  if (term) {\n    this.dattr = term.defAttr;\n  }\n\n  var main = '';\n\n  for (y = yi; y < yl; y++) {\n    line = term\n      ? term.lines[y]\n      : this.lines[y];\n\n    if (!line) break;\n\n    out = '';\n    attr = this.dattr;\n\n    for (x = xi; x < xl; x++) {\n      if (!line[x]) break;\n\n      data = line[x][0];\n      ch = line[x][1];\n\n      if (data !== attr) {\n        if (attr !== this.dattr) {\n          out += '\\x1b[m';\n        }\n        if (data !== this.dattr) {\n          var _data = data;\n          if (term) {\n            if (((_data >> 9) & 0x1ff) === 257) _data |= 0x1ff << 9;\n            if ((_data & 0x1ff) === 256) _data |= 0x1ff;\n          }\n          out += this.codeAttr(_data);\n        }\n      }\n\n      if (this.fullUnicode) {\n        if (unicode.charWidth(line[x][1]) === 2) {\n          if (x === xl - 1) {\n            ch = ' ';\n          } else {\n            x++;\n          }\n        }\n      }\n\n      out += ch;\n      attr = data;\n    }\n\n    if (attr !== this.dattr) {\n      out += '\\x1b[m';\n    }\n\n    if (out) {\n      main += (y > 0 ? '\\n' : '') + out;\n    }\n  }\n\n  main = main.replace(/(?:\\s*\\x1b\\[40m\\s*\\x1b\\[m\\s*)*$/, '') + '\\n';\n\n  if (term) {\n    this.dattr = sdattr;\n  }\n\n  return main;\n};\n\n/**\n * Positioning\n */\n\nScreen.prototype._getPos = function() {\n  return this;\n};\n\n/**\n * Angle Table\n */\n\nvar angles = {\n  '\\u2518': true, // '\u2518'\n  '\\u2510': true, // '\u2510'\n  '\\u250c': true, // '\u250C'\n  '\\u2514': true, // '\u2514'\n  '\\u253c': true, // '\u253C'\n  '\\u251c': true, // '\u251C'\n  '\\u2524': true, // '\u2524'\n  '\\u2534': true, // '\u2534'\n  '\\u252c': true, // '\u252C'\n  '\\u2502': true, // '\u2502'\n  '\\u2500': true  // '\u2500'\n};\n\nvar langles = {\n  '\\u250c': true, // '\u250C'\n  '\\u2514': true, // '\u2514'\n  '\\u253c': true, // '\u253C'\n  '\\u251c': true, // '\u251C'\n  '\\u2534': true, // '\u2534'\n  '\\u252c': true, // '\u252C'\n  '\\u2500': true  // '\u2500'\n};\n\nvar uangles = {\n  '\\u2510': true, // '\u2510'\n  '\\u250c': true, // '\u250C'\n  '\\u253c': true, // '\u253C'\n  '\\u251c': true, // '\u251C'\n  '\\u2524': true, // '\u2524'\n  '\\u252c': true, // '\u252C'\n  '\\u2502': true  // '\u2502'\n};\n\nvar rangles = {\n  '\\u2518': true, // '\u2518'\n  '\\u2510': true, // '\u2510'\n  '\\u253c': true, // '\u253C'\n  '\\u2524': true, // '\u2524'\n  '\\u2534': true, // '\u2534'\n  '\\u252c': true, // '\u252C'\n  '\\u2500': true  // '\u2500'\n};\n\nvar dangles = {\n  '\\u2518': true, // '\u2518'\n  '\\u2514': true, // '\u2514'\n  '\\u253c': true, // '\u253C'\n  '\\u251c': true, // '\u251C'\n  '\\u2524': true, // '\u2524'\n  '\\u2534': true, // '\u2534'\n  '\\u2502': true  // '\u2502'\n};\n\n// var cdangles = {\n//   '\\u250c': true  // '\u250C'\n// };\n\n// Every ACS angle character can be\n// represented by 4 bits ordered like this:\n// [langle][uangle][rangle][dangle]\nvar angleTable = {\n  '0000': '', // ?\n  '0001': '\\u2502', // '\u2502' // ?\n  '0010': '\\u2500', // '\u2500' // ??\n  '0011': '\\u250c', // '\u250C'\n  '0100': '\\u2502', // '\u2502' // ?\n  '0101': '\\u2502', // '\u2502'\n  '0110': '\\u2514', // '\u2514'\n  '0111': '\\u251c', // '\u251C'\n  '1000': '\\u2500', // '\u2500' // ??\n  '1001': '\\u2510', // '\u2510'\n  '1010': '\\u2500', // '\u2500' // ??\n  '1011': '\\u252c', // '\u252C'\n  '1100': '\\u2518', // '\u2518'\n  '1101': '\\u2524', // '\u2524'\n  '1110': '\\u2534', // '\u2534'\n  '1111': '\\u253c'  // '\u253C'\n};\n\nObject.keys(angleTable).forEach(function(key) {\n  angleTable[parseInt(key, 2)] = angleTable[key];\n  delete angleTable[key];\n});\n\n/**\n * Expose\n */\n\nmodule.exports = Screen;\n", "/**\n * node.js - base abstract node for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar EventEmitter = require('../events').EventEmitter;\n\n/**\n * Node\n */\n\nfunction Node(options) {\n  var self = this;\n  var Screen = require('./screen');\n\n  if (!(this instanceof Node)) {\n    return new Node(options);\n  }\n\n  EventEmitter.call(this);\n\n  options = options || {};\n  this.options = options;\n\n  this.screen = this.screen || options.screen;\n\n  if (!this.screen) {\n    if (this.type === 'screen') {\n      this.screen = this;\n    } else if (Screen.total === 1) {\n      this.screen = Screen.global;\n    } else if (options.parent) {\n      this.screen = options.parent;\n      while (this.screen && this.screen.type !== 'screen') {\n        this.screen = this.screen.parent;\n      }\n    } else if (Screen.total) {\n      // This _should_ work in most cases as long as the element is appended\n      // synchronously after the screen's creation. Throw error if not.\n      this.screen = Screen.instances[Screen.instances.length - 1];\n      process.nextTick(function() {\n        if (!self.parent) {\n          throw new Error('Element (' + self.type + ')'\n            + ' was not appended synchronously after the'\n            + ' screen\\'s creation. Please set a `parent`'\n            + ' or `screen` option in the element\\'s constructor'\n            + ' if you are going to use multiple screens and'\n            + ' append the element later.');\n        }\n      });\n    } else {\n      throw new Error('No active screen.');\n    }\n  }\n\n  this.parent = options.parent || null;\n  this.children = [];\n  this.$ = this._ = this.data = {};\n  this.uid = Node.uid++;\n  this.index = this.index != null ? this.index : -1;\n\n  if (this.type !== 'screen') {\n    this.detached = true;\n  }\n\n  if (this.parent) {\n    this.parent.append(this);\n  }\n\n  (options.children || []).forEach(this.append.bind(this));\n}\n\nNode.uid = 0;\n\nNode.prototype.__proto__ = EventEmitter.prototype;\n\nNode.prototype.type = 'node';\n\nNode.prototype.insert = function(element, i) {\n  var self = this;\n\n  if (element.screen && element.screen !== this.screen) {\n    throw new Error('Cannot switch a node\\'s screen.');\n  }\n\n  element.detach();\n  element.parent = this;\n  element.screen = this.screen;\n\n  if (i === 0) {\n    this.children.unshift(element);\n  } else if (i === this.children.length) {\n    this.children.push(element);\n  } else {\n    this.children.splice(i, 0, element);\n  }\n\n  element.emit('reparent', this);\n  this.emit('adopt', element);\n\n  (function emit(el) {\n    var n = el.detached !== self.detached;\n    el.detached = self.detached;\n    if (n) el.emit('attach');\n    el.children.forEach(emit);\n  })(element);\n\n  if (!this.screen.focused) {\n    this.screen.focused = element;\n  }\n};\n\nNode.prototype.prepend = function(element) {\n  this.insert(element, 0);\n};\n\nNode.prototype.append = function(element) {\n  this.insert(element, this.children.length);\n};\n\nNode.prototype.insertBefore = function(element, other) {\n  var i = this.children.indexOf(other);\n  if (~i) this.insert(element, i);\n};\n\nNode.prototype.insertAfter = function(element, other) {\n  var i = this.children.indexOf(other);\n  if (~i) this.insert(element, i + 1);\n};\n\nNode.prototype.remove = function(element) {\n  if (element.parent !== this) return;\n\n  var i = this.children.indexOf(element);\n  if (!~i) return;\n\n  element.clearPos();\n\n  element.parent = null;\n\n  this.children.splice(i, 1);\n\n  i = this.screen.clickable.indexOf(element);\n  if (~i) this.screen.clickable.splice(i, 1);\n  i = this.screen.keyable.indexOf(element);\n  if (~i) this.screen.keyable.splice(i, 1);\n\n  element.emit('reparent', null);\n  this.emit('remove', element);\n\n  (function emit(el) {\n    var n = el.detached !== true;\n    el.detached = true;\n    if (n) el.emit('detach');\n    el.children.forEach(emit);\n  })(element);\n\n  if (this.screen.focused === element) {\n    this.screen.rewindFocus();\n  }\n};\n\nNode.prototype.detach = function() {\n  if (this.parent) this.parent.remove(this);\n};\n\nNode.prototype.free = function() {\n  return;\n};\n\nNode.prototype.destroy = function() {\n  this.detach();\n  this.forDescendants(function(el) {\n    el.free();\n    el.destroyed = true;\n    el.emit('destroy');\n  }, this);\n};\n\nNode.prototype.forDescendants = function(iter, s) {\n  if (s) iter(this);\n  this.children.forEach(function emit(el) {\n    iter(el);\n    el.children.forEach(emit);\n  });\n};\n\nNode.prototype.forAncestors = function(iter, s) {\n  var el = this;\n  if (s) iter(this);\n  while (el = el.parent) {\n    iter(el);\n  }\n};\n\nNode.prototype.collectDescendants = function(s) {\n  var out = [];\n  this.forDescendants(function(el) {\n    out.push(el);\n  }, s);\n  return out;\n};\n\nNode.prototype.collectAncestors = function(s) {\n  var out = [];\n  this.forAncestors(function(el) {\n    out.push(el);\n  }, s);\n  return out;\n};\n\nNode.prototype.emitDescendants = function() {\n  var args = Array.prototype.slice(arguments)\n    , iter;\n\n  if (typeof args[args.length - 1] === 'function') {\n    iter = args.pop();\n  }\n\n  return this.forDescendants(function(el) {\n    if (iter) iter(el);\n    el.emit.apply(el, args);\n  }, true);\n};\n\nNode.prototype.emitAncestors = function() {\n  var args = Array.prototype.slice(arguments)\n    , iter;\n\n  if (typeof args[args.length - 1] === 'function') {\n    iter = args.pop();\n  }\n\n  return this.forAncestors(function(el) {\n    if (iter) iter(el);\n    el.emit.apply(el, args);\n  }, true);\n};\n\nNode.prototype.hasDescendant = function(target) {\n  return (function find(el) {\n    for (var i = 0; i < el.children.length; i++) {\n      if (el.children[i] === target) {\n        return true;\n      }\n      if (find(el.children[i]) === true) {\n        return true;\n      }\n    }\n    return false;\n  })(this);\n};\n\nNode.prototype.hasAncestor = function(target) {\n  var el = this;\n  while (el = el.parent) {\n    if (el === target) return true;\n  }\n  return false;\n};\n\nNode.prototype.get = function(name, value) {\n  if (this.data.hasOwnProperty(name)) {\n    return this.data[name];\n  }\n  return value;\n};\n\nNode.prototype.set = function(name, value) {\n  return this.data[name] = value;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Node;\n", "/**\n * tng.js - png reader\n * Copyright (c) 2015, Christopher Jeffrey (MIT License).\n * https://github.com/chjj/tng\n */\n\nvar fs = require('fs')\n  , util = require('util')\n  , path = require('path')\n  , zlib = require('zlib')\n  , assert = require('assert')\n  , cp = require('child_process')\n  , exec = cp.execFileSync;\n\n/**\n * PNG\n */\n\nfunction PNG(file, options) {\n  var buf\n    , chunks\n    , idat\n    , pixels;\n\n  if (!(this instanceof PNG)) {\n    return new PNG(file, options);\n  }\n\n  if (!file) throw new Error('no file');\n\n  this.options = options || {};\n  this.colors = options.colors || require('blessed/lib/colors');\n  this.optimization = this.options.optimization || 'mem';\n  this.speed = this.options.speed || 1;\n\n  if (Buffer.isBuffer(file)) {\n    this.file = this.options.filename || null;\n    buf = file;\n  } else {\n    this.options.filename = file;\n    this.file = path.resolve(process.cwd(), file);\n    buf = fs.readFileSync(this.file);\n  }\n\n  this.format = buf.readUInt32BE(0) === 0x89504e47 ? 'png'\n    : buf.slice(0, 3).toString('ascii') === 'GIF' ? 'gif'\n    : buf.readUInt16BE(0) === 0xffd8 ? 'jpg'\n    : path.extname(this.file).slice(1).toLowerCase() || 'png';\n\n  if (this.format !== 'png') {\n    try {\n      return this.toPNG(buf);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  chunks = this.parseRaw(buf);\n  idat = this.parseChunks(chunks);\n  pixels = this.parseLines(idat);\n\n  this.bmp = this.createBitmap(pixels);\n  this.cellmap = this.createCellmap(this.bmp);\n  this.frames = this.compileFrames(this.frames);\n}\n\nPNG.prototype.parseRaw = function(buf) {\n  var chunks = []\n    , index = 0\n    , i = 0\n    , buf\n    , len\n    , type\n    , name\n    , data\n    , crc\n    , check\n    , critical\n    , public_\n    , conforming\n    , copysafe\n    , pos;\n\n  this._debug(this.file);\n\n  if (buf.readUInt32BE(0) !== 0x89504e47\n      || buf.readUInt32BE(4) !== 0x0d0a1a0a) {\n    throw new Error('bad header');\n  }\n\n  i += 8;\n\n  while (i < buf.length) {\n    try {\n      len = buf.readUInt32BE(i);\n      i += 4;\n      pos = i;\n      type = buf.slice(i, i + 4);\n      name = type.toString('ascii');\n      i += 4;\n      data = buf.slice(i, i + len);\n      i += len;\n      check = this.crc32(buf.slice(pos, i));\n      crc = buf.readInt32BE(i);\n      i += 4;\n      critical = !!(~type[0] & 32);\n      public_ = !!(~type[1] & 32);\n      conforming = !!(~type[2] & 32);\n      copysafe = !!(~type[3] & 32);\n      if (crc !== check) {\n        throw new Error(name + ': bad crc');\n      }\n    } catch (e) {\n      if (this.options.debug) throw e;\n      break;\n    }\n    chunks.push({\n      index: index++,\n      id: name.toLowerCase(),\n      len: len,\n      pos: pos,\n      end: i,\n      type: type,\n      name: name,\n      data: data,\n      crc: crc,\n      check: check,\n      raw: buf.slice(pos, i),\n      flags: {\n        critical: critical,\n        public_: public_,\n        conforming: conforming,\n        copysafe: copysafe\n      }\n    });\n  }\n\n  return chunks;\n};\n\nPNG.prototype.parseChunks = function(chunks) {\n  var i\n    , chunk\n    , name\n    , data\n    , p\n    , idat\n    , info;\n\n  for (i = 0; i < chunks.length; i++) {\n    chunk = chunks[i];\n    name = chunk.id;\n    data = chunk.data;\n    info = {};\n    switch (name) {\n      case 'ihdr': {\n        this.width = info.width = data.readUInt32BE(0);\n        this.height = info.height = data.readUInt32BE(4);\n        this.bitDepth = info.bitDepth = data.readUInt8(8);\n        this.colorType = info.colorType = data.readUInt8(9);\n        this.compression = info.compression = data.readUInt8(10);\n        this.filter = info.filter = data.readUInt8(11);\n        this.interlace = info.interlace = data.readUInt8(12);\n        switch (this.bitDepth) {\n          case 1: case 2: case 4: case 8: case 16: case 24: case 32: break;\n          default: throw new Error('bad bit depth: ' + this.bitDepth);\n        }\n        switch (this.colorType) {\n          case 0: case 2: case 3: case 4: case 6: break;\n          default: throw new Error('bad color: ' + this.colorType);\n        }\n        switch (this.compression) {\n          case 0: break;\n          default: throw new Error('bad compression: ' + this.compression);\n        }\n        switch (this.filter) {\n          case 0: case 1: case 2: case 3: case 4: break;\n          default: throw new Error('bad filter: ' + this.filter);\n        }\n        switch (this.interlace) {\n          case 0: case 1: break;\n          default: throw new Error('bad interlace: ' + this.interlace);\n        }\n        break;\n      }\n      case 'plte': {\n        this.palette = info.palette = [];\n        for (p = 0; p < data.length; p += 3) {\n          this.palette.push({\n            r: data[p + 0],\n            g: data[p + 1],\n            b: data[p + 2],\n            a: 255\n          });\n        }\n        break;\n      }\n      case 'idat': {\n        this.size = this.size || 0;\n        this.size += data.length;\n        this.idat = this.idat || [];\n        this.idat.push(data);\n        info.size = data.length;\n        break;\n      }\n      case 'iend': {\n        this.end = true;\n        break;\n      }\n      case 'trns': {\n        this.alpha = info.alpha = Array.prototype.slice.call(data);\n        if (this.palette) {\n          for (p = 0; p < data.length; p++) {\n            if (!this.palette[p]) break;\n            this.palette[p].a = data[p];\n          }\n        }\n        break;\n      }\n      // https://wiki.mozilla.org/APNG_Specification\n      case 'actl': {\n        this.actl = info = {};\n        this.frames = [];\n        this.actl.numFrames = data.readUInt32BE(0);\n        this.actl.numPlays = data.readUInt32BE(4);\n        break;\n      }\n      case 'fctl': {\n        // IDAT is the first frame depending on the order:\n        // IDAT is a frame: acTL->fcTL->IDAT->[fcTL]->fdAT\n        // IDAT is not a frame: acTL->IDAT->[fcTL]->fdAT\n        if (!this.idat) {\n          this.idat = [];\n          this.frames.push({\n            idat: true,\n            fctl: info,\n            fdat: this.idat\n          });\n        } else {\n          this.frames.push({\n            fctl: info,\n            fdat: []\n          });\n        }\n        info.sequenceNumber = data.readUInt32BE(0);\n        info.width = data.readUInt32BE(4);\n        info.height = data.readUInt32BE(8);\n        info.xOffset = data.readUInt32BE(12);\n        info.yOffset = data.readUInt32BE(16);\n        info.delayNum = data.readUInt16BE(20);\n        info.delayDen = data.readUInt16BE(22);\n        info.disposeOp = data.readUInt8(24);\n        info.blendOp = data.readUInt8(25);\n        break;\n      }\n      case 'fdat': {\n        info.sequenceNumber = data.readUInt32BE(0);\n        info.data = data.slice(4);\n        this.frames[this.frames.length - 1].fdat.push(info.data);\n        break;\n      }\n    }\n    chunk.info = info;\n  }\n\n  this._debug(chunks);\n\n  if (this.frames) {\n    this.frames = this.frames.map(function(frame, i) {\n      frame.fdat = this.decompress(frame.fdat);\n      if (!frame.fdat.length) throw new Error('no data');\n      return frame;\n    }, this);\n  }\n\n  idat = this.decompress(this.idat);\n  if (!idat.length) throw new Error('no data');\n\n  return idat;\n};\n\nPNG.prototype.parseLines = function(data) {\n  var pixels = []\n    , x\n    , p\n    , prior\n    , line\n    , filter\n    , samples\n    , pendingSamples\n    , ch\n    , shiftStart\n    , i\n    , toShift\n    , sample;\n\n  this.sampleDepth =\n    this.colorType === 0 ? 1\n    : this.colorType === 2 ? 3\n    : this.colorType === 3 ? 1\n    : this.colorType === 4 ? 2\n    : this.colorType === 6 ? 4\n    : 1;\n  this.bitsPerPixel = this.bitDepth * this.sampleDepth;\n  this.bytesPerPixel = Math.ceil(this.bitsPerPixel / 8);\n  this.wastedBits = ((this.width * this.bitsPerPixel) / 8) - ((this.width * this.bitsPerPixel / 8) | 0);\n  this.byteWidth = Math.ceil(this.width * (this.bitsPerPixel / 8));\n\n  this.shiftStart = ((this.bitDepth + (8 / this.bitDepth - this.bitDepth)) - 1) | 0;\n  this.shiftMult = this.bitDepth >= 8 ? 0 : this.bitDepth;\n  this.mask = this.bitDepth === 32 ? 0xffffffff : (1 << this.bitDepth) - 1;\n\n  if (this.interlace === 1) {\n    samples = this.sampleInterlacedLines(data);\n    for (i = 0; i < samples.length; i += this.sampleDepth) {\n      pixels.push(samples.slice(i, i + this.sampleDepth));\n    }\n    return pixels;\n  }\n\n  for (p = 0; p < data.length; p += this.byteWidth) {\n    prior = line || [];\n    filter = data[p++];\n    line = data.slice(p, p + this.byteWidth);\n    line = this.unfilterLine(filter, line, prior);\n    samples = this.sampleLine(line);\n    for (i = 0; i < samples.length; i += this.sampleDepth) {\n      pixels.push(samples.slice(i, i + this.sampleDepth));\n    }\n  }\n\n  return pixels;\n};\n\nPNG.prototype.unfilterLine = function(filter, line, prior) {\n  for (var x = 0; x < line.length; x++) {\n    if (filter === 0) {\n      break;\n    } else if (filter === 1) {\n      line[x] = this.filters.sub(x, line, prior, this.bytesPerPixel);\n    } else if (filter === 2) {\n      line[x] = this.filters.up(x, line, prior, this.bytesPerPixel);\n    } else if (filter === 3) {\n      line[x] = this.filters.average(x, line, prior, this.bytesPerPixel);\n    } else if (filter === 4) {\n      line[x] = this.filters.paeth(x, line, prior, this.bytesPerPixel);\n    }\n  }\n  return line;\n};\n\nPNG.prototype.sampleLine = function(line, width) {\n  var samples = []\n    , x = 0\n    , pendingSamples\n    , ch\n    , i\n    , sample\n    , shiftStart\n    , toShift;\n\n  while (x < line.length) {\n    pendingSamples = this.sampleDepth;\n    while (pendingSamples--) {\n      ch = line[x];\n      if (this.bitDepth === 16) {\n        ch = (ch << 8) | line[++x];\n      } else if (this.bitDepth === 24) {\n        ch = (ch << 16) | (line[++x] << 8) | line[++x];\n      } else if (this.bitDepth === 32) {\n        ch = (ch << 24) | (line[++x] << 16) | (line[++x] << 8) | line[++x];\n      } else if (this.bitDepth > 32) {\n        throw new Error('bitDepth ' + this.bitDepth + ' unsupported.');\n      }\n      shiftStart = this.shiftStart;\n      toShift = shiftStart - (x === line.length - 1 ? this.wastedBits : 0);\n      for (i = 0; i <= toShift; i++) {\n        sample = (ch >> (this.shiftMult * shiftStart)) & this.mask;\n        if (this.colorType !== 3) {\n          if (this.bitDepth < 8) { // <= 8 would work too, doesn't matter\n            // sample = sample * (0xff / this.mask) | 0; // would work too\n            sample *= 0xff / this.mask;\n            sample |= 0;\n          } else if (this.bitDepth > 8) {\n            sample = (sample / this.mask) * 255 | 0;\n          }\n        }\n        samples.push(sample);\n        shiftStart--;\n      }\n      x++;\n    }\n  }\n\n  // Needed for deinterlacing?\n  if (width != null) {\n    samples = samples.slice(0, width * this.sampleDepth);\n  }\n\n  return samples;\n};\n\n// http://www.w3.org/TR/PNG-Filters.html\nPNG.prototype.filters = {\n  sub: function Sub(x, line, prior, bpp) {\n    if (x < bpp) return line[x];\n    return (line[x] + line[x - bpp]) % 256;\n  },\n  up: function Up(x, line, prior, bpp) {\n    return (line[x] + (prior[x] || 0)) % 256;\n  },\n  average: function Average(x, line, prior, bpp) {\n    if (x < bpp) return Math.floor((prior[x] || 0) / 2);\n    // if (x < bpp) return (prior[x] || 0) >> 1;\n    return (line[x]\n      + Math.floor((line[x - bpp] + prior[x]) / 2)\n      // + ((line[x - bpp] + prior[x]) >> 1)\n    ) % 256;\n  },\n  paeth: function Paeth(x, line, prior, bpp) {\n    if (x < bpp) return prior[x] || 0;\n    return (line[x] + this._predictor(\n      line[x - bpp], prior[x] || 0, prior[x - bpp] || 0\n    )) % 256;\n  },\n  _predictor: function PaethPredictor(a, b, c) {\n    // a = left, b = above, c = upper left\n    var p = a + b - c\n      , pa = Math.abs(p - a)\n      , pb = Math.abs(p - b)\n      , pc = Math.abs(p - c);\n    if (pa <= pb && pa <= pc) return a;\n    if (pb <= pc) return b;\n    return c;\n  }\n};\n\n/**\n * Adam7 deinterlacing ported to javascript from PyPNG:\n * pypng - Pure Python library for PNG image encoding/decoding\n * Copyright (c) 2009-2015, David Jones (MIT License).\n * https://github.com/drj11/pypng\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation files\n * (the \"Software\"), to deal in the Software without restriction,\n * including without limitation the rights to use, copy, modify, merge,\n * publish, distribute, sublicense, and/or sell copies of the Software,\n * and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS\n * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nPNG.prototype.sampleInterlacedLines = function(raw) {\n  var psize\n    , vpr\n    , samples\n    , source_offset\n    , i\n    , pass\n    , xstart\n    , ystart\n    , xstep\n    , ystep\n    , recon\n    , ppr\n    , row_size\n    , y\n    , filter_type\n    , scanline\n    , flat\n    , offset\n    , k\n    , end_offset\n    , skip\n    , j\n    , k\n    , f;\n\n  var adam7 = [\n    [0, 0, 8, 8],\n    [4, 0, 8, 8],\n    [0, 4, 4, 8],\n    [2, 0, 4, 4],\n    [0, 2, 2, 4],\n    [1, 0, 2, 2],\n    [0, 1, 1, 2]\n  ];\n\n  // Fractional bytes per pixel\n  psize = (this.bitDepth / 8) * this.sampleDepth;\n\n  // Values per row (of the target image)\n  vpr = this.width * this.sampleDepth;\n\n  // Make a result array, and make it big enough. Interleaving\n  // writes to the output array randomly (well, not quite), so the\n  // entire output array must be in memory.\n  samples = new Buffer(vpr * this.height);\n  samples.fill(0);\n\n  source_offset = 0;\n\n  for (i = 0; i < adam7.length; i++) {\n    pass = adam7[i];\n    xstart = pass[0];\n    ystart = pass[1];\n    xstep = pass[2];\n    ystep = pass[3];\n    if (xstart >= this.width) continue;\n    // The previous (reconstructed) scanline. Empty array at the\n    // beginning of a pass to indicate that there is no previous\n    // line.\n    recon = [];\n    // Pixels per row (reduced pass image)\n    ppr = Math.ceil((this.width - xstart) / xstep);\n    // Row size in bytes for this pass.\n    row_size = Math.ceil(psize * ppr);\n    for (y = ystart; y < this.height; y += ystep) {\n      filter_type = raw[source_offset];\n      source_offset += 1;\n      scanline = raw.slice(source_offset, source_offset + row_size);\n      source_offset += row_size;\n      recon = this.unfilterLine(filter_type, scanline, recon);\n      // Convert so that there is one element per pixel value\n      flat = this.sampleLine(recon, ppr);\n      if (xstep === 1) {\n        assert.equal(xstart, 0);\n        offset = y * vpr;\n        for (k = offset, f = 0; k < offset + vpr; k++, f++) {\n          samples[k] = flat[f];\n        }\n      } else {\n        offset = y * vpr + xstart * this.sampleDepth;\n        end_offset = (y + 1) * vpr;\n        skip = this.sampleDepth * xstep;\n        for (j = 0; j < this.sampleDepth; j++) {\n          for (k = offset + j, f = j; k < end_offset; k += skip, f += this.sampleDepth) {\n            samples[k] = flat[f];\n          }\n        }\n      }\n    }\n  }\n\n  return samples;\n};\n\nPNG.prototype.createBitmap = function(pixels) {\n  var bmp = []\n    , i;\n\n  if (this.colorType === 0) {\n    pixels = pixels.map(function(sample) {\n      return { r: sample[0], g: sample[0], b: sample[0], a: 255 };\n    });\n  } else if (this.colorType === 2) {\n    pixels = pixels.map(function(sample) {\n      return { r: sample[0], g: sample[1], b: sample[2], a: 255 };\n    });\n  } else if (this.colorType === 3) {\n    pixels = pixels.map(function(sample) {\n      if (!this.palette[sample[0]]) throw new Error('bad palette index');\n      return this.palette[sample[0]];\n    }, this);\n  } else if (this.colorType === 4) {\n    pixels = pixels.map(function(sample) {\n      return { r: sample[0], g: sample[0], b: sample[0], a: sample[1] };\n    });\n  } else if (this.colorType === 6) {\n    pixels = pixels.map(function(sample) {\n      return { r: sample[0], g: sample[1], b: sample[2], a: sample[3] };\n    });\n  }\n\n  for (i = 0; i < pixels.length; i += this.width) {\n    bmp.push(pixels.slice(i, i + this.width));\n  }\n\n  return bmp;\n};\n\nPNG.prototype.createCellmap = function(bmp, options) {\n  var bmp = bmp || this.bmp\n    , options = options || this.options\n    , cellmap = []\n    , scale = options.scale || 0.20\n    , height = bmp.length\n    , width = bmp[0].length\n    , cmwidth = options.width\n    , cmheight = options.height\n    , line\n    , x\n    , y\n    , xx\n    , yy\n    , scale\n    , xs\n    , ys;\n\n  if (cmwidth) {\n    scale = cmwidth / width;\n  } else if (cmheight) {\n    scale = cmheight / height;\n  }\n\n  if (!cmheight) {\n    cmheight = Math.round(height * scale);\n  }\n\n  if (!cmwidth) {\n    cmwidth = Math.round(width * scale);\n  }\n\n  ys = height / cmheight;\n  xs = width / cmwidth;\n\n  for (y = 0; y < bmp.length; y += ys) {\n    line = [];\n    yy = Math.round(y);\n    if (!bmp[yy]) break;\n    for (x = 0; x < bmp[yy].length; x += xs) {\n      xx = Math.round(x);\n      if (!bmp[yy][xx]) break;\n      line.push(bmp[yy][xx]);\n    }\n    cellmap.push(line);\n  }\n\n  return cellmap;\n};\n\nPNG.prototype.renderANSI = function(bmp) {\n  var self = this\n    , out = '';\n\n  bmp.forEach(function(line, y) {\n    line.forEach(function(pixel, x) {\n      var outch = self.getOutch(x, y, line, pixel);\n      out += self.pixelToSGR(pixel, outch);\n    });\n    out += '\\n';\n  });\n\n  return out;\n};\n\nPNG.prototype.renderContent = function(bmp, el) {\n  var self = this\n    , out = '';\n\n  bmp.forEach(function(line, y) {\n    line.forEach(function(pixel, x) {\n      var outch = self.getOutch(x, y, line, pixel);\n      out += self.pixelToTags(pixel, outch);\n    });\n    out += '\\n';\n  });\n\n  el.setContent(out);\n\n  return out;\n};\n\nPNG.prototype.renderScreen = function(bmp, screen, xi, xl, yi, yl) {\n  var self = this\n    , lines = screen.lines\n    , cellLines\n    , y\n    , yy\n    , x\n    , xx\n    , alpha\n    , attr\n    , ch;\n\n  cellLines = bmp.reduce(function(cellLines, line, y) {\n    var cellLine = [];\n    line.forEach(function(pixel, x) {\n      var outch = self.getOutch(x, y, line, pixel)\n        , cell = self.pixelToCell(pixel, outch);\n      cellLine.push(cell);\n    });\n    cellLines.push(cellLine);\n    return cellLines;\n  }, []);\n\n  for (y = yi; y < yl; y++) {\n    yy = y - yi;\n    for (x = xi; x < xl; x++) {\n      xx = x - xi;\n      if (lines[y] && lines[y][x] && cellLines[yy] && cellLines[yy][xx]) {\n        alpha = cellLines[yy][xx].pop();\n        // completely transparent\n        if (alpha === 0.0) {\n          continue;\n        }\n        // translucency / blending\n        if (alpha < 1.0) {\n          attr = cellLines[yy][xx][0];\n          ch = cellLines[yy][xx][1];\n          lines[y][x][0] = this.colors.blend(lines[y][x][0], attr, alpha);\n          if (ch !== ' ') lines[y][x][1] = ch;\n          lines[y].dirty = true;\n          continue;\n        }\n        // completely opaque\n        lines[y][x] = cellLines[yy][xx];\n        lines[y].dirty = true;\n      }\n    }\n  }\n};\n\nPNG.prototype.renderElement = function(bmp, el) {\n  var xi = el.aleft + el.ileft\n    , xl = el.aleft + el.width - el.iright\n    , yi = el.atop + el.itop\n    , yl = el.atop + el.height - el.ibottom;\n\n  return this.renderScreen(bmp, el.screen, xi, xl, yi, yl);\n};\n\nPNG.prototype.pixelToSGR = function(pixel, ch) {\n  var bga = 1.0\n    , fga = 0.5\n    , a = pixel.a / 255\n    , bg\n    , fg;\n\n  bg = this.colors.match(\n    pixel.r * a * bga | 0,\n    pixel.g * a * bga | 0,\n    pixel.b * a * bga | 0);\n\n  if (ch && this.options.ascii) {\n    fg = this.colors.match(\n      pixel.r * a * fga | 0,\n      pixel.g * a * fga | 0,\n      pixel.b * a * fga | 0);\n    if (a === 0) {\n      return '\\x1b[38;5;' + fg + 'm' + ch + '\\x1b[m';\n    }\n    return '\\x1b[38;5;' + fg + 'm\\x1b[48;5;' + bg + 'm' + ch + '\\x1b[m';\n  }\n\n  if (a === 0) return ' ';\n\n  return '\\x1b[48;5;' + bg + 'm \\x1b[m';\n};\n\nPNG.prototype.pixelToTags = function(pixel, ch) {\n  var bga = 1.0\n    , fga = 0.5\n    , a = pixel.a / 255\n    , bg\n    , fg;\n\n  bg = this.colors.RGBtoHex(\n    pixel.r * a * bga | 0,\n    pixel.g * a * bga | 0,\n    pixel.b * a * bga | 0);\n\n  if (ch && this.options.ascii) {\n    fg = this.colors.RGBtoHex(\n      pixel.r * a * fga | 0,\n      pixel.g * a * fga | 0,\n      pixel.b * a * fga | 0);\n    if (a === 0) {\n      return '{' + fg + '-fg}' + ch + '{/}';\n    }\n    return '{' + fg + '-fg}{' + bg + '-bg}' + ch + '{/}';\n  }\n\n  if (a === 0) return ' ';\n\n  return '{' + bg + '-bg} {/' + bg + '-bg}';\n};\n\nPNG.prototype.pixelToCell = function(pixel, ch) {\n  var bga = 1.0\n    , fga = 0.5\n    , a = pixel.a / 255\n    , bg\n    , fg;\n\n  bg = this.colors.match(\n    pixel.r * bga | 0,\n    pixel.g * bga | 0,\n    pixel.b * bga | 0);\n\n  if (ch && this.options.ascii) {\n    fg = this.colors.match(\n      pixel.r * fga | 0,\n      pixel.g * fga | 0,\n      pixel.b * fga | 0);\n  } else {\n    fg = 0x1ff;\n    ch = null;\n  }\n\n  // if (a === 0) bg = 0x1ff;\n\n  return [(0 << 18) | (fg << 9) | (bg << 0), ch || ' ', a];\n};\n\n// Taken from libcaca:\nPNG.prototype.getOutch = (function() {\n  var dchars = '????8@8@#8@8##8#MKXWwz$&%x><\\\\/xo;+=|^-:i\\'.`,  `.        ';\n\n  var luminance = function(pixel) {\n    var a = pixel.a / 255\n      , r = pixel.r * a\n      , g = pixel.g * a\n      , b = pixel.b * a\n      , l = 0.2126 * r + 0.7152 * g + 0.0722 * b;\n\n    return l / 255;\n  };\n\n  return function(x, y, line, pixel) {\n    var lumi = luminance(pixel)\n      , outch = dchars[lumi * (dchars.length - 1) | 0];\n\n    return outch;\n  };\n})();\n\nPNG.prototype.compileFrames = function(frames) {\n  return this.optimization === 'mem'\n    ? this.compileFrames_lomem(frames)\n    : this.compileFrames_locpu(frames);\n};\n\nPNG.prototype.compileFrames_lomem = function(frames) {\n  if (!this.actl) return;\n  return frames.map(function(frame, i) {\n    this.width = frame.fctl.width;\n    this.height = frame.fctl.height;\n\n    var pixels = frame._pixels || this.parseLines(frame.fdat)\n      , bmp = frame._bmp || this.createBitmap(pixels)\n      , fc = frame.fctl;\n\n    return {\n      actl: this.actl,\n      fctl: frame.fctl,\n      delay: (fc.delayNum / (fc.delayDen || 100)) * 1000 | 0,\n      bmp: bmp\n    };\n  }, this);\n};\n\nPNG.prototype.compileFrames_locpu = function(frames) {\n  if (!this.actl) return;\n\n  this._curBmp = null;\n  this._lastBmp = null;\n\n  return frames.map(function(frame, i) {\n    this.width = frame.fctl.width;\n    this.height = frame.fctl.height;\n\n    var pixels = frame._pixels || this.parseLines(frame.fdat)\n      , bmp = frame._bmp || this.createBitmap(pixels)\n      , renderBmp = this.renderFrame(bmp, frame, i)\n      , cellmap = this.createCellmap(renderBmp)\n      , fc = frame.fctl;\n\n    return {\n      actl: this.actl,\n      fctl: frame.fctl,\n      delay: (fc.delayNum / (fc.delayDen || 100)) * 1000 | 0,\n      bmp: renderBmp,\n      cellmap: cellmap\n    };\n  }, this);\n};\n\nPNG.prototype.renderFrame = function(bmp, frame, i) {\n  var first = this.frames[0]\n    , last = this.frames[i - 1]\n    , fc = frame.fctl\n    , xo = fc.xOffset\n    , yo = fc.yOffset\n    , lxo\n    , lyo\n    , x\n    , y\n    , line\n    , p;\n\n  if (!this._curBmp) {\n    this._curBmp = [];\n    for (y = 0; y < first.fctl.height; y++) {\n      line = [];\n      for (x = 0; x < first.fctl.width; x++) {\n        p = bmp[y][x];\n        line.push({ r: p.r, g: p.g, b: p.b, a: p.a });\n      }\n      this._curBmp.push(line);\n    }\n  }\n\n  if (last && last.fctl.disposeOp !== 0) {\n    lxo = last.fctl.xOffset;\n    lyo = last.fctl.yOffset;\n    for (y = 0; y < last.fctl.height; y++) {\n      for (x = 0; x < last.fctl.width; x++) {\n        if (last.fctl.disposeOp === 0) {\n          // none / keep\n        } else if (last.fctl.disposeOp === 1) {\n          // background / clear\n          this._curBmp[lyo + y][lxo + x] = { r: 0, g: 0, b: 0, a: 0 };\n        } else if (last.fctl.disposeOp === 2) {\n          // previous / restore\n          p = this._lastBmp[y][x];\n          this._curBmp[lyo + y][lxo + x] = { r: p.r, g: p.g, b: p.b, a: p.a };\n        }\n      }\n    }\n  }\n\n  if (frame.fctl.disposeOp === 2) {\n    this._lastBmp = [];\n    for (y = 0; y < frame.fctl.height; y++) {\n      line = [];\n      for (x = 0; x < frame.fctl.width; x++) {\n        p = this._curBmp[yo + y][xo + x];\n        line.push({ r: p.r, g: p.g, b: p.b, a: p.a });\n      }\n      this._lastBmp.push(line);\n    }\n  } else {\n    this._lastBmp = null;\n  }\n\n  for (y = 0; y < frame.fctl.height; y++) {\n    for (x = 0; x < frame.fctl.width; x++) {\n      p = bmp[y][x];\n      if (fc.blendOp === 0) {\n        // source\n        this._curBmp[yo + y][xo + x] = { r: p.r, g: p.g, b: p.b, a: p.a };\n      } else if (fc.blendOp === 1) {\n        // over\n        if (p.a !== 0) {\n          this._curBmp[yo + y][xo + x] = { r: p.r, g: p.g, b: p.b, a: p.a };\n        }\n      }\n    }\n  }\n\n  return this._curBmp;\n};\n\nPNG.prototype._animate = function(callback) {\n  if (!this.frames) {\n    return callback(this.bmp, this.cellmap);\n  }\n\n  var self = this\n    , numPlays = this.actl.numPlays || Infinity\n    , running = 0\n    , i = -1;\n\n  this._curBmp = null;\n  this._lastBmp = null;\n\n  var next_lomem = function() {\n    if (!running) return;\n\n    var frame = self.frames[++i];\n    if (!frame) {\n      if (!--numPlays) return callback();\n      i = -1;\n      // XXX may be able to optimize by only setting the self._curBmp once???\n      self._curBmp = null;\n      self._lastBmp = null;\n      return setImmediate(next);\n    }\n\n    var bmp = frame.bmp\n      , renderBmp = self.renderFrame(bmp, frame, i)\n      , cellmap = self.createCellmap(renderBmp);\n\n    callback(renderBmp, cellmap);\n    return setTimeout(next, frame.delay / self.speed | 0);\n  };\n\n  var next_locpu = function() {\n    if (!running) return;\n    var frame = self.frames[++i];\n    if (!frame) {\n      if (!--numPlays) return callback();\n      i = -1;\n      return setImmediate(next);\n    }\n    callback(frame.bmp, frame.cellmap);\n    return setTimeout(next, frame.delay / self.speed | 0);\n  };\n\n  var next = this.optimization === 'mem'\n    ? next_lomem\n    : next_locpu;\n\n  this._control = function(state) {\n    if (state === -1) {\n      i = -1;\n      self._curBmp = null;\n      self._lastBmp = null;\n      running = 0;\n      callback(self.frames[0].bmp,\n        self.frames[0].cellmap || self.createCellmap(self.frames[0].bmp));\n      return;\n    }\n    if (state === running) return;\n    running = state;\n    return next();\n  };\n\n  this._control(1);\n};\n\nPNG.prototype.play = function(callback) {\n  if (!this._control || callback) {\n    this.stop();\n    return this._animate(callback);\n  }\n  this._control(1);\n};\n\nPNG.prototype.pause = function() {\n  if (!this._control) return;\n  this._control(0);\n};\n\nPNG.prototype.stop = function() {\n  if (!this._control) return;\n  this._control(-1);\n};\n\nPNG.prototype.toPNG = function(input) {\n  var options = this.options\n    , file = this.file\n    , format = this.format\n    , buf\n    , img\n    , gif\n    , i\n    , control\n    , disposeOp;\n\n  if (format !== 'gif') {\n    buf = exec('convert', [format + ':-', 'png:-'],\n      { stdio: ['pipe', 'pipe', 'ignore'], input: input });\n    img = PNG(buf, options);\n    img.file = file;\n    return img;\n  }\n\n  gif = GIF(input, options);\n\n  this.width = gif.width;\n  this.height = gif.height;\n  this.frames = [];\n\n  for (i = 0; i < gif.images.length; i++) {\n    img = gif.images[i];\n    // Convert from gif disposal to png disposal. See:\n    // http://www.w3.org/Graphics/GIF/spec-gif89a.txt\n    control = img.control || gif;\n    disposeOp = Math.max(0, (control.disposeMethod || 0) - 1);\n    if (disposeOp > 2) disposeOp = 0;\n    this.frames.push({\n      fctl: {\n        sequenceNumber: i,\n        width: img.width,\n        height: img.height,\n        xOffset: img.left,\n        yOffset: img.top,\n        delayNum: control.delay,\n        delayDen: 100,\n        disposeOp: disposeOp,\n        blendOp: 1\n      },\n      fdat: [],\n      _pixels: [],\n      _bmp: img.bmp\n    });\n  }\n\n  this.bmp = this.frames[0]._bmp;\n  this.cellmap = this.createCellmap(this.bmp);\n\n  if (this.frames.length > 1) {\n    this.actl = { numFrames: gif.images.length, numPlays: gif.numPlays || 0 };\n    this.frames = this.compileFrames(this.frames);\n  } else {\n    this.frames = undefined;\n  }\n\n  return this;\n};\n\n// Convert a gif to an apng using imagemagick. Unfortunately imagemagick\n// doesn't support apngs, so we coalesce the gif frames into one image and then\n// slice them into frames.\nPNG.prototype.gifMagick = function(input) {\n  var options = this.options\n    , file = this.file\n    , format = this.format\n    , buf\n    , fmt\n    , img\n    , frames\n    , frame\n    , width\n    , height\n    , iwidth\n    , twidth\n    , i\n    , lines\n    , line\n    , x\n    , y;\n\n  buf = exec('convert',\n    [format + ':-', '-coalesce', '+append', 'png:-'],\n    { stdio: ['pipe', 'pipe', 'ignore'], input: input });\n\n  fmt = '{\"W\":%W,\"H\":%H,\"w\":%w,\"h\":%h,\"d\":%T,\"x\":\"%X\",\"y\":\"%Y\"},'\n  frames = exec('identify', ['-format', fmt, format + ':-'],\n    { encoding: 'utf8', stdio: ['pipe', 'pipe', 'ignore'], input: input });\n  frames = JSON.parse('[' + frames.trim().slice(0, -1) + ']');\n\n  img = PNG(buf, options);\n  img.file = file;\n  Object.keys(img).forEach(function(key) {\n    this[key] = img[key];\n  }, this);\n\n  width = frames[0].W;\n  height = frames[0].H;\n  iwidth = 0;\n  twidth = 0;\n\n  this.width = width;\n  this.height = height;\n\n  this.frames = [];\n\n  for (i = 0; i < frames.length; i++) {\n    frame = frames[i];\n    frame.x = +frame.x;\n    frame.y = +frame.y;\n\n    iwidth = twidth;\n    twidth += width;\n\n    lines = [];\n    for (y = frame.y; y < height; y++) {\n      line = [];\n      for (x = iwidth + frame.x; x < twidth; x++) {\n        line.push(img.bmp[y][x]);\n      }\n      lines.push(line);\n    }\n\n    this.frames.push({\n      fctl: {\n        sequenceNumber: i,\n        width: frame.w,\n        height: frame.h,\n        xOffset: frame.x,\n        yOffset: frame.y,\n        delayNum: frame.d,\n        delayDen: 100,\n        disposeOp: 0,\n        blendOp: 0\n      },\n      fdat: [],\n      _pixels: [],\n      _bmp: lines\n    });\n  }\n\n  this.bmp = this.frames[0]._bmp;\n  this.cellmap = this.createCellmap(this.bmp);\n\n  if (this.frames.length > 1) {\n    this.actl = { numFrames: frames.length, numPlays: 0 };\n    this.frames = this.compileFrames(this.frames);\n  } else {\n    this.frames = undefined;\n  }\n\n  return this;\n};\n\nPNG.prototype.decompress = function(buffers) {\n  return zlib.inflateSync(new Buffer(buffers.reduce(function(out, data) {\n    return out.concat(Array.prototype.slice.call(data));\n  }, [])));\n};\n\n/**\n * node-crc\n * https://github.com/alexgorbatchev/node-crc\n * https://github.com/alexgorbatchev/node-crc/blob/master/LICENSE\n *\n * The MIT License (MIT)\n *\n * Copyright 2014 Alex Gorbatchev\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nPNG.prototype.crc32 = (function() {\n  var crcTable = [\n    0x00000000, 0x77073096, 0xee0e612c, 0x990951ba, 0x076dc419, 0x706af48f,\n    0xe963a535, 0x9e6495a3, 0x0edb8832, 0x79dcb8a4, 0xe0d5e91e, 0x97d2d988,\n    0x09b64c2b, 0x7eb17cbd, 0xe7b82d07, 0x90bf1d91, 0x1db71064, 0x6ab020f2,\n    0xf3b97148, 0x84be41de, 0x1adad47d, 0x6ddde4eb, 0xf4d4b551, 0x83d385c7,\n    0x136c9856, 0x646ba8c0, 0xfd62f97a, 0x8a65c9ec, 0x14015c4f, 0x63066cd9,\n    0xfa0f3d63, 0x8d080df5, 0x3b6e20c8, 0x4c69105e, 0xd56041e4, 0xa2677172,\n    0x3c03e4d1, 0x4b04d447, 0xd20d85fd, 0xa50ab56b, 0x35b5a8fa, 0x42b2986c,\n    0xdbbbc9d6, 0xacbcf940, 0x32d86ce3, 0x45df5c75, 0xdcd60dcf, 0xabd13d59,\n    0x26d930ac, 0x51de003a, 0xc8d75180, 0xbfd06116, 0x21b4f4b5, 0x56b3c423,\n    0xcfba9599, 0xb8bda50f, 0x2802b89e, 0x5f058808, 0xc60cd9b2, 0xb10be924,\n    0x2f6f7c87, 0x58684c11, 0xc1611dab, 0xb6662d3d, 0x76dc4190, 0x01db7106,\n    0x98d220bc, 0xefd5102a, 0x71b18589, 0x06b6b51f, 0x9fbfe4a5, 0xe8b8d433,\n    0x7807c9a2, 0x0f00f934, 0x9609a88e, 0xe10e9818, 0x7f6a0dbb, 0x086d3d2d,\n    0x91646c97, 0xe6635c01, 0x6b6b51f4, 0x1c6c6162, 0x856530d8, 0xf262004e,\n    0x6c0695ed, 0x1b01a57b, 0x8208f4c1, 0xf50fc457, 0x65b0d9c6, 0x12b7e950,\n    0x8bbeb8ea, 0xfcb9887c, 0x62dd1ddf, 0x15da2d49, 0x8cd37cf3, 0xfbd44c65,\n    0x4db26158, 0x3ab551ce, 0xa3bc0074, 0xd4bb30e2, 0x4adfa541, 0x3dd895d7,\n    0xa4d1c46d, 0xd3d6f4fb, 0x4369e96a, 0x346ed9fc, 0xad678846, 0xda60b8d0,\n    0x44042d73, 0x33031de5, 0xaa0a4c5f, 0xdd0d7cc9, 0x5005713c, 0x270241aa,\n    0xbe0b1010, 0xc90c2086, 0x5768b525, 0x206f85b3, 0xb966d409, 0xce61e49f,\n    0x5edef90e, 0x29d9c998, 0xb0d09822, 0xc7d7a8b4, 0x59b33d17, 0x2eb40d81,\n    0xb7bd5c3b, 0xc0ba6cad, 0xedb88320, 0x9abfb3b6, 0x03b6e20c, 0x74b1d29a,\n    0xead54739, 0x9dd277af, 0x04db2615, 0x73dc1683, 0xe3630b12, 0x94643b84,\n    0x0d6d6a3e, 0x7a6a5aa8, 0xe40ecf0b, 0x9309ff9d, 0x0a00ae27, 0x7d079eb1,\n    0xf00f9344, 0x8708a3d2, 0x1e01f268, 0x6906c2fe, 0xf762575d, 0x806567cb,\n    0x196c3671, 0x6e6b06e7, 0xfed41b76, 0x89d32be0, 0x10da7a5a, 0x67dd4acc,\n    0xf9b9df6f, 0x8ebeeff9, 0x17b7be43, 0x60b08ed5, 0xd6d6a3e8, 0xa1d1937e,\n    0x38d8c2c4, 0x4fdff252, 0xd1bb67f1, 0xa6bc5767, 0x3fb506dd, 0x48b2364b,\n    0xd80d2bda, 0xaf0a1b4c, 0x36034af6, 0x41047a60, 0xdf60efc3, 0xa867df55,\n    0x316e8eef, 0x4669be79, 0xcb61b38c, 0xbc66831a, 0x256fd2a0, 0x5268e236,\n    0xcc0c7795, 0xbb0b4703, 0x220216b9, 0x5505262f, 0xc5ba3bbe, 0xb2bd0b28,\n    0x2bb45a92, 0x5cb36a04, 0xc2d7ffa7, 0xb5d0cf31, 0x2cd99e8b, 0x5bdeae1d,\n    0x9b64c2b0, 0xec63f226, 0x756aa39c, 0x026d930a, 0x9c0906a9, 0xeb0e363f,\n    0x72076785, 0x05005713, 0x95bf4a82, 0xe2b87a14, 0x7bb12bae, 0x0cb61b38,\n    0x92d28e9b, 0xe5d5be0d, 0x7cdcefb7, 0x0bdbdf21, 0x86d3d2d4, 0xf1d4e242,\n    0x68ddb3f8, 0x1fda836e, 0x81be16cd, 0xf6b9265b, 0x6fb077e1, 0x18b74777,\n    0x88085ae6, 0xff0f6a70, 0x66063bca, 0x11010b5c, 0x8f659eff, 0xf862ae69,\n    0x616bffd3, 0x166ccf45, 0xa00ae278, 0xd70dd2ee, 0x4e048354, 0x3903b3c2,\n    0xa7672661, 0xd06016f7, 0x4969474d, 0x3e6e77db, 0xaed16a4a, 0xd9d65adc,\n    0x40df0b66, 0x37d83bf0, 0xa9bcae53, 0xdebb9ec5, 0x47b2cf7f, 0x30b5ffe9,\n    0xbdbdf21c, 0xcabac28a, 0x53b39330, 0x24b4a3a6, 0xbad03605, 0xcdd70693,\n    0x54de5729, 0x23d967bf, 0xb3667a2e, 0xc4614ab8, 0x5d681b02, 0x2a6f2b94,\n    0xb40bbe37, 0xc30c8ea1, 0x5a05df1b, 0x2d02ef8d\n  ];\n\n  return function crc32(buf) {\n    //var crc = previous === 0 ? 0 : ~~previous ^ -1;\n    var crc = -1;\n    for (var i = 0, len = buf.length; i < len; i++) {\n      crc = crcTable[(crc ^ buf[i]) & 0xff] ^ (crc >>> 8);\n    }\n    return crc ^ -1;\n  };\n})();\n\nPNG.prototype._debug = function() {\n  if (!this.options.log) return;\n  return this.options.log.apply(null, arguments);\n};\n\n/**\n * GIF\n */\n\nfunction GIF(file, options) {\n  var self = this;\n\n  if (!(this instanceof GIF)) {\n    return new GIF(file, options);\n  }\n\n  var info = {}\n    , p = 0\n    , buf\n    , i\n    , total\n    , sig\n    , desc\n    , img\n    , ext\n    , label\n    , size;\n\n  if (!file) throw new Error('no file');\n\n  options = options || {};\n\n  this.options = options;\n\n  // XXX If the gif is not optimized enough\n  // it may OOM the process with too many frames.\n  // TODO: Implement in PNG reader.\n  this.pixelLimit = this.options.pixelLimit || 7622550;\n  this.totalPixels = 0;\n\n  if (Buffer.isBuffer(file)) {\n    buf = file;\n    file = null;\n  } else {\n    file = path.resolve(process.cwd(), file);\n    buf = fs.readFileSync(file);\n  }\n\n  sig = buf.slice(0, 6).toString('ascii');\n  if (sig !== 'GIF87a' && sig !== 'GIF89a') {\n    throw new Error('bad header: ' + sig);\n  }\n\n  this.width = buf.readUInt16LE(6);\n  this.height = buf.readUInt16LE(8);\n\n  this.flags = buf.readUInt8(10);\n  this.gct = !!(this.flags & 0x80);\n  this.gctsize = (this.flags & 0x07) + 1;\n\n  this.bgIndex = buf.readUInt8(11);\n  this.aspect = buf.readUInt8(12);\n  p += 13;\n\n  if (this.gct) {\n    this.colors = [];\n    total = 1 << this.gctsize;\n    for (i = 0; i < total; i++, p += 3) {\n      this.colors.push([buf[p], buf[p + 1], buf[p + 2], 255]);\n    }\n  }\n\n  this.images = [];\n  this.extensions = [];\n\n  try {\n    while (p < buf.length) {\n      desc = buf.readUInt8(p);\n      p += 1;\n      if (desc === 0x2c) {\n        img = {};\n\n        img.left = buf.readUInt16LE(p);\n        p += 2;\n        img.top = buf.readUInt16LE(p);\n        p += 2;\n\n        img.width = buf.readUInt16LE(p);\n        p += 2;\n        img.height = buf.readUInt16LE(p);\n        p += 2;\n\n        img.flags = buf.readUInt8(p);\n        p += 1;\n\n        img.lct = !!(img.flags & 0x80);\n        img.ilace = !!(img.flags & 0x40);\n        img.lctsize = (img.flags & 0x07) + 1;\n\n        if (img.lct) {\n          img.lcolors = [];\n          total = 1 << img.lctsize;\n          for (i = 0; i < total; i++, p += 3) {\n            img.lcolors.push([buf[p], buf[p + 1], buf[p + 2], 255]);\n          }\n        }\n\n        img.codeSize = buf.readUInt8(p);\n        p += 1;\n\n        img.size = buf.readUInt8(p);\n        p += 1;\n\n        img.lzw = [buf.slice(p, p + img.size)];\n        p += img.size;\n\n        while (buf[p] !== 0x00) {\n          // Some gifs screw up their size.\n          // XXX Same for all subblocks?\n          if (buf[p] === 0x3b && p === buf.length - 1) {\n            p--;\n            break;\n          }\n          size = buf.readUInt8(p);\n          p += 1;\n          img.lzw.push(buf.slice(p, p + size));\n          p += size;\n        }\n\n        assert.equal(buf.readUInt8(p), 0x00);\n        p += 1;\n\n        if (ext && ext.label === 0xf9) {\n          img.control = ext;\n        }\n\n        this.totalPixels += img.width * img.height;\n\n        this.images.push(img);\n\n        if (this.totalPixels >= this.pixelLimit) {\n          break;\n        }\n      } else if (desc === 0x21) {\n        // Extensions:\n        // http://www.w3.org/Graphics/GIF/spec-gif89a.txt\n        ext = {};\n        label = buf.readUInt8(p);\n        p += 1;\n        ext.label = label;\n        if (label === 0xf9) {\n          size = buf.readUInt8(p);\n          assert.equal(size, 0x04);\n          p += 1;\n          ext.fields = buf.readUInt8(p);\n          ext.disposeMethod = (ext.fields >> 2) & 0x07;\n          ext.useTransparent = !!(ext.fields & 0x01);\n          p += 1;\n          ext.delay = buf.readUInt16LE(p);\n          p += 2;\n          ext.transparentColor = buf.readUInt8(p);\n          p += 1;\n          while (buf[p] !== 0x00) {\n            size = buf.readUInt8(p);\n            p += 1;\n            p += size;\n          }\n          assert.equal(buf.readUInt8(p), 0x00);\n          p += 1;\n          this.delay = ext.delay;\n          this.transparentColor = ext.transparentColor;\n          this.disposeMethod = ext.disposeMethod;\n          this.useTransparent = ext.useTransparent;\n        } else if (label === 0xff) {\n          // https://wiki.whatwg.org/wiki/GIF#Specifications\n          size = buf.readUInt8(p);\n          p += 1;\n          ext.id = buf.slice(p, p + 8).toString('ascii');\n          p += 8;\n          ext.auth = buf.slice(p, p + 3).toString('ascii');\n          p += 3;\n          ext.data = [];\n          while (buf[p] !== 0x00) {\n            size = buf.readUInt8(p);\n            p += 1;\n            ext.data.push(buf.slice(p, p + size));\n            p += size;\n          }\n          ext.data = new Buffer(ext.data.reduce(function(out, data) {\n            return out.concat(Array.prototype.slice.call(data));\n          }, []));\n          // AnimExts looping extension (identical to netscape)\n          if (ext.id === 'ANIMEXTS' && ext.auth === '1.0') {\n            ext.id = 'NETSCAPE';\n            ext.auth = '2.0';\n            ext.animexts = true;\n          }\n          // Netscape extensions\n          if (ext.id === 'NETSCAPE' && ext.auth === '2.0') {\n            if (ext.data.readUInt8(0) === 0x01) {\n              // Netscape looping extension\n              // http://graphcomp.com/info/specs/ani_gif.html\n              ext.numPlays = ext.data.readUInt16LE(1);\n              this.numPlays = ext.numPlays;\n            } else if (ext.data.readUInt8(0) === 0x02) {\n              // Netscape buffering extension\n              this.minBuffer = ext.data;\n            }\n          }\n          // Adobe XMP extension\n          if (ext.id === 'XMP Data' && ext.auth === 'XMP') {\n            ext.xmp = ext.data.toString('utf8');\n            this.xmp = ext.xmp;\n          }\n          // ICC extension\n          if (ext.id === 'ICCRGBG1' && ext.auth === '012') {\n            // NOTE: Says size is 4 bytes, not 1? Maybe just buffer size?\n            this.icc = ext.data;\n          }\n          // fractint extension\n          if (ext.id === 'fractint' && /^00[1-7]$/.test(ext.auth)) {\n            // NOTE: Says size is 4 bytes, not 1? Maybe just buffer size?\n            // Size: '!\\377\\013' == [0x00, 0x15, 0xff, 0x0b]\n            this.fractint = ext.data;\n          }\n          assert.equal(buf.readUInt8(p), 0x00);\n          p += 1;\n        } else {\n          ext.data = [];\n          while (buf[p] !== 0x00) {\n            size = buf.readUInt8(p);\n            p += 1;\n            ext.data.push(buf.slice(p, p + size));\n            p += size;\n          }\n          assert.equal(buf.readUInt8(p), 0x00);\n          p += 1;\n        }\n        this.extensions.push(ext);\n      } else if (desc === 0x3b) {\n        break;\n      } else if (p === buf.length - 1) {\n        // } else if (desc === 0x00 && p === buf.length - 1) {\n        break;\n      } else {\n        throw new Error('unknown block');\n      }\n    }\n  } catch (e) {\n    if (options.debug) {\n      throw e;\n    }\n  }\n\n  this.images = this.images.map(function(img, imageIndex) {\n    var control = img.control || this;\n\n    img.lzw = new Buffer(img.lzw.reduce(function(out, data) {\n      return out.concat(Array.prototype.slice.call(data));\n    }, []));\n\n    try {\n      img.data = this.decompress(img.lzw, img.codeSize);\n    } catch (e) {\n      if (options.debug) throw e;\n      return;\n    }\n\n    var interlacing = [\n      [ 0, 8 ],\n      [ 4, 8 ],\n      [ 2, 4 ],\n      [ 1, 2 ],\n      [ 0, 0 ]\n    ];\n\n    var table = img.lcolors || this.colors\n      , row = 0\n      , col = 0\n      , ilp = 0\n      , p = 0\n      , b\n      , idx\n      , i\n      , y\n      , x\n      , line\n      , pixel;\n\n    img.samples = [];\n    // Rewritten version of:\n    // https://github.com/lbv/ka-cs-programs/blob/master/lib/gif-reader.js\n    for (;;) {\n      b = img.data[p++];\n      if (b == null) break;\n      idx = (row * img.width + col) * 4;\n      if (!table[b]) {\n        if (options.debug) throw new Error('bad samples');\n        table[b] = [0, 0, 0, 0];\n      }\n      img.samples[idx] = table[b][0];\n      img.samples[idx + 1] = table[b][1];\n      img.samples[idx + 2] = table[b][2];\n      img.samples[idx + 3] = table[b][3];\n      if (control.useTransparent && b === control.transparentColor) {\n        img.samples[idx + 3] = 0;\n      }\n      if (++col >= img.width) {\n        col = 0;\n        if (img.ilace) {\n          row += interlacing[ilp][1];\n          if (row >= img.height) {\n            row = interlacing[++ilp][0];\n          }\n        } else {\n          row++;\n        }\n      }\n    }\n\n    img.pixels = [];\n    for (i = 0; i < img.samples.length; i += 4) {\n      img.pixels.push(img.samples.slice(i, i + 4));\n    }\n\n    img.bmp = [];\n    for (y = 0, p = 0; y < img.height; y++) {\n      line = [];\n      for (x = 0; x < img.width; x++) {\n        pixel = img.pixels[p++];\n        if (!pixel) {\n          if (options.debug) throw new Error('no pixel');\n          line.push({ r: 0, g: 0, b: 0, a: 0 });\n          continue;\n        }\n        line.push({ r: pixel[0], g: pixel[1], b: pixel[2], a: pixel[3] });\n      }\n      img.bmp.push(line);\n    }\n\n    return img;\n  }, this).filter(Boolean);\n\n  if (!this.images.length) {\n    throw new Error('no image data or bad decompress');\n  }\n}\n\n// Rewritten version of:\n// https://github.com/lbv/ka-cs-programs/blob/master/lib/gif-reader.js\nGIF.prototype.decompress = function(input, codeSize) {\n  var bitDepth = codeSize + 1\n    , CC = 1 << codeSize\n    , EOI = CC + 1\n    , stack = []\n    , table = []\n    , ntable = 0\n    , oldCode = null\n    , buffer = 0\n    , nbuffer = 0\n    , p = 0\n    , buf = []\n    , bits\n    , read\n    , ans\n    , n\n    , code\n    , i\n    , K\n    , b\n    , maxElem;\n\n  for (;;) {\n    if (stack.length === 0) {\n      bits = bitDepth;\n      read = 0;\n      ans = 0;\n      while (read < bits) {\n        if (nbuffer === 0) {\n          if (p >= input.length) return buf;\n          buffer = input[p++];\n          nbuffer = 8;\n        }\n        n = Math.min(bits - read, nbuffer);\n        ans |= (buffer & ((1 << n) - 1)) << read;\n        read += n;\n        nbuffer -= n;\n        buffer >>= n;\n      }\n      code = ans;\n\n      if (code === EOI) {\n        break;\n      }\n\n      if (code === CC) {\n        table = [];\n        for (i = 0; i < CC; ++i) {\n          table[i] = [i, -1, i];\n        }\n        bitDepth = codeSize + 1;\n        maxElem = 1 << bitDepth;\n        ntable = CC + 2;\n        oldCode = null;\n        continue;\n      }\n\n      if (oldCode === null) {\n        oldCode = code;\n        buf.push(table[code][0]);\n        continue;\n      }\n\n      if (code < ntable) {\n        for (i = code; i >= 0; i = table[i][1]) {\n          stack.push(table[i][0]);\n        }\n        table[ntable++] = [\n          table[code][2],\n          oldCode,\n          table[oldCode][2]\n        ];\n      } else {\n        K = table[oldCode][2];\n        table[ntable++] = [K, oldCode, K];\n        for (i = code; i >= 0; i = table[i][1]) {\n          stack.push(table[i][0]);\n        }\n      }\n\n      oldCode = code;\n      if (ntable === maxElem) {\n        maxElem = 1 << (++bitDepth);\n        if (bitDepth > 12) bitDepth = 12;\n      }\n    }\n    b = stack.pop();\n    if (b == null) break;\n    buf.push(b);\n  }\n\n  return buf;\n};\n\n/**\n * Expose\n */\n\nexports = PNG;\nexports.png = PNG;\nexports.gif = GIF;\n\nmodule.exports = exports;\n", "/**\n * ansiimage.js - render PNGS/GIFS as ANSI\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar cp = require('child_process');\n\nvar colors = require('../colors');\n\nvar Node = require('./node');\nvar Box = require('./box');\n\nvar tng = require('../../vendor/tng');\n\n/**\n * ANSIImage\n */\n\nfunction ANSIImage(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new ANSIImage(options);\n  }\n\n  options = options || {};\n  options.shrink = true;\n\n  Box.call(this, options);\n\n  this.scale = this.options.scale || 1.0;\n  this.options.animate = this.options.animate !== false;\n  this._noFill = true;\n\n  if (this.options.file) {\n    this.setImage(this.options.file);\n  }\n\n  this.screen.on('prerender', function() {\n    var lpos = self.lpos;\n    if (!lpos) return;\n    // prevent image from blending with itself if there are alpha channels\n    self.screen.clearRegion(lpos.xi, lpos.xl, lpos.yi, lpos.yl);\n  });\n\n  this.on('destroy', function() {\n    self.stop();\n  });\n}\n\nANSIImage.prototype.__proto__ = Box.prototype;\n\nANSIImage.prototype.type = 'ansiimage';\n\nANSIImage.curl = function(url) {\n  try {\n    return cp.execFileSync('curl',\n      ['-s', '-A', '', url],\n      { stdio: ['ignore', 'pipe', 'ignore'] });\n  } catch (e) {\n    ;\n  }\n  try {\n    return cp.execFileSync('wget',\n      ['-U', '', '-O', '-', url],\n      { stdio: ['ignore', 'pipe', 'ignore'] });\n  } catch (e) {\n    ;\n  }\n  throw new Error('curl or wget failed.');\n};\n\nANSIImage.prototype.setImage = function(file) {\n  this.file = typeof file === 'string' ? file : null;\n\n  if (/^https?:/.test(file)) {\n    file = ANSIImage.curl(file);\n  }\n\n  var width = this.position.width;\n  var height = this.position.height;\n\n  if (width != null) {\n    width = this.width;\n  }\n\n  if (height != null) {\n    height = this.height;\n  }\n\n  try {\n    this.setContent('');\n\n    this.img = tng(file, {\n      colors: colors,\n      width: width,\n      height: height,\n      scale: this.scale,\n      ascii: this.options.ascii,\n      speed: this.options.speed,\n      filename: this.file\n    });\n\n    if (width == null || height == null) {\n      this.width = this.img.cellmap[0].length;\n      this.height = this.img.cellmap.length;\n    }\n\n    if (this.img.frames && this.options.animate) {\n      this.play();\n    } else {\n      this.cellmap = this.img.cellmap;\n    }\n  } catch (e) {\n    this.setContent('Image Error: ' + e.message);\n    this.img = null;\n    this.cellmap = null;\n  }\n};\n\nANSIImage.prototype.play = function() {\n  var self = this;\n  if (!this.img) return;\n  return this.img.play(function(bmp, cellmap) {\n    self.cellmap = cellmap;\n    self.screen.render();\n  });\n};\n\nANSIImage.prototype.pause = function() {\n  if (!this.img) return;\n  return this.img.pause();\n};\n\nANSIImage.prototype.stop = function() {\n  if (!this.img) return;\n  return this.img.stop();\n};\n\nANSIImage.prototype.clearImage = function() {\n  this.stop();\n  this.setContent('');\n  this.img = null;\n  this.cellmap = null;\n};\n\nANSIImage.prototype.render = function() {\n  var coords = this._render();\n  if (!coords) return;\n\n  if (this.img && this.cellmap) {\n    this.img.renderElement(this.cellmap, this);\n  }\n\n  return coords;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = ANSIImage;\n", "/**\n * bigtext.js - bigtext element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar fs = require('fs');\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * BigText\n */\n\nfunction BigText(options) {\n  if (!(this instanceof Node)) {\n    return new BigText(options);\n  }\n  options = options || {};\n  options.font = options.font\n    || __dirname + '/../../usr/fonts/ter-u14n.json';\n  options.fontBold = options.font\n    || __dirname + '/../../usr/fonts/ter-u14b.json';\n  this.fch = options.fch;\n  this.ratio = {};\n  this.font = this.loadFont(options.font);\n  this.fontBold = this.loadFont(options.font);\n  Box.call(this, options);\n  if (this.style.bold) {\n    this.font = this.fontBold;\n  }\n}\n\nBigText.prototype.__proto__ = Box.prototype;\n\nBigText.prototype.type = 'bigtext';\n\nBigText.prototype.loadFont = function(filename) {\n  var self = this\n    , data\n    , font;\n\n  data = JSON.parse(fs.readFileSync(filename, 'utf8'));\n\n  this.ratio.width = data.width;\n  this.ratio.height = data.height;\n\n  function convertLetter(ch, lines) {\n    var line, i;\n\n    while (lines.length > self.ratio.height) {\n      lines.shift();\n      lines.pop();\n    }\n\n    lines = lines.map(function(line) {\n      var chs = line.split('');\n      chs = chs.map(function(ch) {\n        return ch === ' ' ? 0 : 1;\n      });\n      while (chs.length < self.ratio.width) {\n        chs.push(0);\n      }\n      return chs;\n    });\n\n    while (lines.length < self.ratio.height) {\n      line = [];\n      for (i = 0; i < self.ratio.width; i++) {\n        line.push(0);\n      }\n      lines.push(line);\n    }\n\n    return lines;\n  }\n\n  font = Object.keys(data.glyphs).reduce(function(out, ch) {\n    var lines = data.glyphs[ch].map;\n    out[ch] = convertLetter(ch, lines);\n    return out;\n  }, {});\n\n  delete font[' '];\n\n  return font;\n};\n\nBigText.prototype.setContent = function(content) {\n  this.content = '';\n  this.text = content || '';\n};\n\nBigText.prototype.render = function() {\n  if (this.position.width == null || this._shrinkWidth) {\n    // if (this.width - this.iwidth < this.ratio.width * this.text.length + 1) {\n      this.position.width = this.ratio.width * this.text.length + 1;\n      this._shrinkWidth = true;\n    // }\n  }\n  if (this.position.height == null || this._shrinkHeight) {\n    // if (this.height - this.iheight < this.ratio.height + 0) {\n      this.position.height = this.ratio.height + 0;\n      this._shrinkHeight = true;\n    // }\n  }\n\n  var coords = this._render();\n  if (!coords) return;\n\n  var lines = this.screen.lines\n    , left = coords.xi + this.ileft\n    , top = coords.yi + this.itop\n    , right = coords.xl - this.iright\n    , bottom = coords.yl - this.ibottom;\n\n  var dattr = this.sattr(this.style)\n    , bg = dattr & 0x1ff\n    , fg = (dattr >> 9) & 0x1ff\n    , flags = (dattr >> 18) & 0x1ff\n    , attr = (flags << 18) | (bg << 9) | fg;\n\n  for (var x = left, i = 0; x < right; x += this.ratio.width, i++) {\n    var ch = this.text[i];\n    if (!ch) break;\n    var map = this.font[ch];\n    if (!map) continue;\n    for (var y = top; y < Math.min(bottom, top + this.ratio.height); y++) {\n      if (!lines[y]) continue;\n      var mline = map[y - top];\n      if (!mline) continue;\n      for (var mx = 0; mx < this.ratio.width; mx++) {\n        var mcell = mline[mx];\n        if (mcell == null) break;\n        if (this.fch && this.fch !== ' ') {\n          lines[y][x + mx][0] = dattr;\n          lines[y][x + mx][1] = mcell === 1 ? this.fch : this.ch;\n        } else {\n          lines[y][x + mx][0] = mcell === 1 ? attr : dattr;\n          lines[y][x + mx][1] = mcell === 1 ? ' ' : this.ch;\n        }\n      }\n      lines[y].dirty = true;\n    }\n  }\n\n  return coords;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = BigText;\n", "/**\n * input.js - abstract input element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Input\n */\n\nfunction Input(options) {\n  if (!(this instanceof Node)) {\n    return new Input(options);\n  }\n  options = options || {};\n  Box.call(this, options);\n}\n\nInput.prototype.__proto__ = Box.prototype;\n\nInput.prototype.type = 'input';\n\n/**\n * Expose\n */\n\nmodule.exports = Input;\n", "/**\n * button.js - button element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Input = require('./input');\n\n/**\n * Button\n */\n\nfunction Button(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Button(options);\n  }\n\n  options = options || {};\n\n  if (options.autoFocus == null) {\n    options.autoFocus = false;\n  }\n\n  Input.call(this, options);\n\n  this.on('keypress', function(ch, key) {\n    if (key.name === 'enter' || key.name === 'space') {\n      return self.press();\n    }\n  });\n\n  if (this.options.mouse) {\n    this.on('click', function() {\n      return self.press();\n    });\n  }\n}\n\nButton.prototype.__proto__ = Input.prototype;\n\nButton.prototype.type = 'button';\n\nButton.prototype.press = function() {\n  this.focus();\n  this.value = true;\n  var result = this.emit('press');\n  delete this.value;\n  return result;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Button;\n", "/**\n * checkbox.js - checkbox element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Input = require('./input');\n\n/**\n * Checkbox\n */\n\nfunction Checkbox(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Checkbox(options);\n  }\n\n  options = options || {};\n\n  Input.call(this, options);\n\n  this.text = options.content || options.text || '';\n  this.checked = this.value = options.checked || false;\n\n  this.on('keypress', function(ch, key) {\n    if (key.name === 'enter' || key.name === 'space') {\n      self.toggle();\n      self.screen.render();\n    }\n  });\n\n  if (options.mouse) {\n    this.on('click', function() {\n      self.toggle();\n      self.screen.render();\n    });\n  }\n\n  this.on('focus', function() {\n    var lpos = self.lpos;\n    if (!lpos) return;\n    self.screen.program.lsaveCursor('checkbox');\n    self.screen.program.cup(lpos.yi, lpos.xi + 1);\n    self.screen.program.showCursor();\n  });\n\n  this.on('blur', function() {\n    self.screen.program.lrestoreCursor('checkbox', true);\n  });\n}\n\nCheckbox.prototype.__proto__ = Input.prototype;\n\nCheckbox.prototype.type = 'checkbox';\n\nCheckbox.prototype.render = function() {\n  this.clearPos(true);\n  this.setContent('[' + (this.checked ? 'x' : ' ') + '] ' + this.text, true);\n  return this._render();\n};\n\nCheckbox.prototype.check = function() {\n  if (this.checked) return;\n  this.checked = this.value = true;\n  this.emit('check');\n};\n\nCheckbox.prototype.uncheck = function() {\n  if (!this.checked) return;\n  this.checked = this.value = false;\n  this.emit('uncheck');\n};\n\nCheckbox.prototype.toggle = function() {\n  return this.checked\n    ? this.uncheck()\n    : this.check();\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Checkbox;\n", "/**\n * list.js - list element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * List\n */\n\nfunction List(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new List(options);\n  }\n\n  options = options || {};\n\n  options.ignoreKeys = true;\n  // Possibly put this here: this.items = [];\n  options.scrollable = true;\n  Box.call(this, options);\n\n  this.value = '';\n  this.items = [];\n  this.ritems = [];\n  this.selected = 0;\n  this._isList = true;\n\n  if (!this.style.selected) {\n    this.style.selected = {};\n    this.style.selected.bg = options.selectedBg;\n    this.style.selected.fg = options.selectedFg;\n    this.style.selected.bold = options.selectedBold;\n    this.style.selected.underline = options.selectedUnderline;\n    this.style.selected.blink = options.selectedBlink;\n    this.style.selected.inverse = options.selectedInverse;\n    this.style.selected.invisible = options.selectedInvisible;\n  }\n\n  if (!this.style.item) {\n    this.style.item = {};\n    this.style.item.bg = options.itemBg;\n    this.style.item.fg = options.itemFg;\n    this.style.item.bold = options.itemBold;\n    this.style.item.underline = options.itemUnderline;\n    this.style.item.blink = options.itemBlink;\n    this.style.item.inverse = options.itemInverse;\n    this.style.item.invisible = options.itemInvisible;\n  }\n\n  // Legacy: for apps written before the addition of item attributes.\n  ['bg', 'fg', 'bold', 'underline',\n   'blink', 'inverse', 'invisible'].forEach(function(name) {\n    if (self.style[name] != null && self.style.item[name] == null) {\n      self.style.item[name] = self.style[name];\n    }\n  });\n\n  if (this.options.itemHoverBg) {\n    this.options.itemHoverEffects = { bg: this.options.itemHoverBg };\n  }\n\n  if (this.options.itemHoverEffects) {\n    this.style.item.hover = this.options.itemHoverEffects;\n  }\n\n  if (this.options.itemFocusEffects) {\n    this.style.item.focus = this.options.itemFocusEffects;\n  }\n\n  this.interactive = options.interactive !== false;\n\n  this.mouse = options.mouse || false;\n\n  if (options.items) {\n    this.ritems = options.items;\n    options.items.forEach(this.add.bind(this));\n  }\n\n  this.select(0);\n\n  if (options.mouse) {\n    this.screen._listenMouse(this);\n    this.on('element wheeldown', function() {\n      self.select(self.selected + 2);\n      self.screen.render();\n    });\n    this.on('element wheelup', function() {\n      self.select(self.selected - 2);\n      self.screen.render();\n    });\n  }\n\n  if (options.keys) {\n    this.on('keypress', function(ch, key) {\n      if (key.name === 'up' || (options.vi && key.name === 'k')) {\n        self.up();\n        self.screen.render();\n        return;\n      }\n      if (key.name === 'down' || (options.vi && key.name === 'j')) {\n        self.down();\n        self.screen.render();\n        return;\n      }\n      if (key.name === 'enter'\n          || (options.vi && key.name === 'l' && !key.shift)) {\n        self.enterSelected();\n        return;\n      }\n      if (key.name === 'escape' || (options.vi && key.name === 'q')) {\n        self.cancelSelected();\n        return;\n      }\n      if (options.vi && key.name === 'u' && key.ctrl) {\n        self.move(-((self.height - self.iheight) / 2) | 0);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'd' && key.ctrl) {\n        self.move((self.height - self.iheight) / 2 | 0);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'b' && key.ctrl) {\n        self.move(-(self.height - self.iheight));\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'f' && key.ctrl) {\n        self.move(self.height - self.iheight);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'h' && key.shift) {\n        self.move(self.childBase - self.selected);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'm' && key.shift) {\n        // TODO: Maybe use Math.min(this.items.length,\n        // ... for calculating visible items elsewhere.\n        var visible = Math.min(\n          self.height - self.iheight,\n          self.items.length) / 2 | 0;\n        self.move(self.childBase + visible - self.selected);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'l' && key.shift) {\n        // XXX This goes one too far on lists with an odd number of items.\n        self.down(self.childBase\n          + Math.min(self.height - self.iheight, self.items.length)\n          - self.selected);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'g' && !key.shift) {\n        self.select(0);\n        self.screen.render();\n        return;\n      }\n      if (options.vi && key.name === 'g' && key.shift) {\n        self.select(self.items.length - 1);\n        self.screen.render();\n        return;\n      }\n\n      if (options.vi && (key.ch === '/' || key.ch === '?')) {\n        if (typeof self.options.search !== 'function') {\n          return;\n        }\n        return self.options.search(function(err, value) {\n          if (typeof err === 'string' || typeof err === 'function'\n              || typeof err === 'number' || (err && err.test)) {\n            value = err;\n            err = null;\n          }\n          if (err || !value) return self.screen.render();\n          self.select(self.fuzzyFind(value, key.ch === '?'));\n          self.screen.render();\n        });\n      }\n    });\n  }\n\n  this.on('resize', function() {\n    var visible = self.height - self.iheight;\n    // if (self.selected < visible - 1) {\n    if (visible >= self.selected + 1) {\n      self.childBase = 0;\n      self.childOffset = self.selected;\n    } else {\n      // Is this supposed to be: self.childBase = visible - self.selected + 1; ?\n      self.childBase = self.selected - visible + 1;\n      self.childOffset = visible - 1;\n    }\n  });\n\n  this.on('adopt', function(el) {\n    if (!~self.items.indexOf(el)) {\n      el.fixed = true;\n    }\n  });\n\n  // Ensure children are removed from the\n  // item list if they are items.\n  this.on('remove', function(el) {\n    self.removeItem(el);\n  });\n}\n\nList.prototype.__proto__ = Box.prototype;\n\nList.prototype.type = 'list';\n\nList.prototype.createItem = function(content) {\n  var self = this;\n\n  // Note: Could potentially use Button here.\n  var options = {\n    screen: this.screen,\n    content: content,\n    align: this.align || 'left',\n    top: 0,\n    left: 0,\n    right: (this.scrollbar ? 1 : 0),\n    tags: this.parseTags,\n    height: 1,\n    hoverEffects: this.mouse ? this.style.item.hover : null,\n    focusEffects: this.mouse ? this.style.item.focus : null,\n    autoFocus: false\n  };\n\n  if (!this.screen.autoPadding) {\n    options.top = 1;\n    options.left = this.ileft;\n    options.right = this.iright + (this.scrollbar ? 1 : 0);\n  }\n\n  // if (this.shrink) {\n  // XXX NOTE: Maybe just do this on all shrinkage once autoPadding is default?\n  if (this.shrink && this.options.normalShrink) {\n    delete options.right;\n    options.width = 'shrink';\n  }\n\n  ['bg', 'fg', 'bold', 'underline',\n   'blink', 'inverse', 'invisible'].forEach(function(name) {\n    options[name] = function() {\n      var attr = self.items[self.selected] === item && self.interactive\n        ? self.style.selected[name]\n        : self.style.item[name];\n      if (typeof attr === 'function') attr = attr(item);\n      return attr;\n    };\n  });\n\n  if (this.style.transparent) {\n    options.transparent = true;\n  }\n\n  var item = new Box(options);\n\n  if (this.mouse) {\n    item.on('click', function() {\n      self.focus();\n      if (self.items[self.selected] === item) {\n        self.emit('action', item, self.selected);\n        self.emit('select', item, self.selected);\n        return;\n      }\n      self.select(item);\n      self.screen.render();\n    });\n  }\n\n  this.emit('create item');\n\n  return item;\n};\n\nList.prototype.add =\nList.prototype.addItem =\nList.prototype.appendItem = function(content) {\n  content = typeof content === 'string' ? content : content.getContent();\n\n  var item = this.createItem(content);\n  item.position.top = this.items.length;\n  if (!this.screen.autoPadding) {\n    item.position.top = this.itop + this.items.length;\n  }\n\n  this.ritems.push(content);\n  this.items.push(item);\n  this.append(item);\n\n  if (this.items.length === 1) {\n    this.select(0);\n  }\n\n  this.emit('add item');\n\n  return item;\n};\n\nList.prototype.removeItem = function(child) {\n  var i = this.getItemIndex(child);\n  if (~i && this.items[i]) {\n    child = this.items.splice(i, 1)[0];\n    this.ritems.splice(i, 1);\n    this.remove(child);\n    for (var j = i; j < this.items.length; j++) {\n      this.items[j].position.top--;\n    }\n    if (i === this.selected) {\n      this.select(i - 1);\n    }\n  }\n  this.emit('remove item');\n  return child;\n};\n\nList.prototype.insertItem = function(child, content) {\n  content = typeof content === 'string' ? content : content.getContent();\n  var i = this.getItemIndex(child);\n  if (!~i) return;\n  if (i >= this.items.length) return this.appendItem(content);\n  var item = this.createItem(content);\n  for (var j = i; j < this.items.length; j++) {\n    this.items[j].position.top++;\n  }\n  item.position.top = i + (!this.screen.autoPadding ? 1 : 0);\n  this.ritems.splice(i, 0, content);\n  this.items.splice(i, 0, item);\n  this.append(item);\n  if (i === this.selected) {\n    this.select(i + 1);\n  }\n  this.emit('insert item');\n};\n\nList.prototype.getItem = function(child) {\n  return this.items[this.getItemIndex(child)];\n};\n\nList.prototype.setItem = function(child, content) {\n  content = typeof content === 'string' ? content : content.getContent();\n  var i = this.getItemIndex(child);\n  if (!~i) return;\n  this.items[i].setContent(content);\n  this.ritems[i] = content;\n};\n\nList.prototype.clearItems = function() {\n  return this.setItems([]);\n};\n\nList.prototype.setItems = function(items) {\n  var original = this.items.slice()\n    , selected = this.selected\n    , sel = this.ritems[this.selected]\n    , i = 0;\n\n  items = items.slice();\n\n  this.select(0);\n\n  for (; i < items.length; i++) {\n    if (this.items[i]) {\n      this.items[i].setContent(items[i]);\n    } else {\n      this.add(items[i]);\n    }\n  }\n\n  for (; i < original.length; i++) {\n    this.remove(original[i]);\n  }\n\n  this.ritems = items;\n\n  // Try to find our old item if it still exists.\n  sel = items.indexOf(sel);\n  if (~sel) {\n    this.select(sel);\n  } else if (items.length === original.length) {\n    this.select(selected);\n  } else {\n    this.select(Math.min(selected, items.length - 1));\n  }\n\n  this.emit('set items');\n};\n\nList.prototype.pushItem = function(content) {\n  this.appendItem(content);\n  return this.items.length;\n};\n\nList.prototype.popItem = function() {\n  return this.removeItem(this.items.length - 1);\n};\n\nList.prototype.unshiftItem = function(content) {\n  this.insertItem(0, content);\n  return this.items.length;\n};\n\nList.prototype.shiftItem = function() {\n  return this.removeItem(0);\n};\n\nList.prototype.spliceItem = function(child, n) {\n  var self = this;\n  var i = this.getItemIndex(child);\n  if (!~i) return;\n  var items = Array.prototype.slice.call(arguments, 2);\n  var removed = [];\n  while (n--) {\n    removed.push(this.removeItem(i));\n  }\n  items.forEach(function(item) {\n    self.insertItem(i++, item);\n  });\n  return removed;\n};\n\nList.prototype.find =\nList.prototype.fuzzyFind = function(search, back) {\n  var start = this.selected + (back ? -1 : 1)\n    , i;\n\n  if (typeof search === 'number') search += '';\n\n  if (search && search[0] === '/' && search[search.length - 1] === '/') {\n    try {\n      search = new RegExp(search.slice(1, -1));\n    } catch (e) {\n      ;\n    }\n  }\n\n  var test = typeof search === 'string'\n    ? function(item) { return !!~item.indexOf(search); }\n    : (search.test ? search.test.bind(search) : search);\n\n  if (typeof test !== 'function') {\n    if (this.screen.options.debug) {\n      throw new Error('fuzzyFind(): `test` is not a function.');\n    }\n    return this.selected;\n  }\n\n  if (!back) {\n    for (i = start; i < this.ritems.length; i++) {\n      if (test(helpers.cleanTags(this.ritems[i]))) return i;\n    }\n    for (i = 0; i < start; i++) {\n      if (test(helpers.cleanTags(this.ritems[i]))) return i;\n    }\n  } else {\n    for (i = start; i >= 0; i--) {\n      if (test(helpers.cleanTags(this.ritems[i]))) return i;\n    }\n    for (i = this.ritems.length - 1; i > start; i--) {\n      if (test(helpers.cleanTags(this.ritems[i]))) return i;\n    }\n  }\n\n  return this.selected;\n};\n\nList.prototype.getItemIndex = function(child) {\n  if (typeof child === 'number') {\n    return child;\n  } else if (typeof child === 'string') {\n    var i = this.ritems.indexOf(child);\n    if (~i) return i;\n    for (i = 0; i < this.ritems.length; i++) {\n      if (helpers.cleanTags(this.ritems[i]) === child) {\n        return i;\n      }\n    }\n    return -1;\n  } else {\n    return this.items.indexOf(child);\n  }\n};\n\nList.prototype.select = function(index) {\n  if (!this.interactive) {\n    return;\n  }\n\n  if (!this.items.length) {\n    this.selected = 0;\n    this.value = '';\n    this.scrollTo(0);\n    return;\n  }\n\n  if (typeof index === 'object') {\n    index = this.items.indexOf(index);\n  }\n\n  if (index < 0) {\n    index = 0;\n  } else if (index >= this.items.length) {\n    index = this.items.length - 1;\n  }\n\n  if (this.selected === index && this._listInitialized) return;\n  this._listInitialized = true;\n\n  this.selected = index;\n  this.value = helpers.cleanTags(this.ritems[this.selected]);\n  if (!this.parent) return;\n  this.scrollTo(this.selected);\n\n  // XXX Move `action` and `select` events here.\n  this.emit('select item', this.items[this.selected], this.selected);\n};\n\nList.prototype.move = function(offset) {\n  this.select(this.selected + offset);\n};\n\nList.prototype.up = function(offset) {\n  this.move(-(offset || 1));\n};\n\nList.prototype.down = function(offset) {\n  this.move(offset || 1);\n};\n\nList.prototype.pick = function(label, callback) {\n  if (!callback) {\n    callback = label;\n    label = null;\n  }\n\n  if (!this.interactive) {\n    return callback();\n  }\n\n  var self = this;\n  var focused = this.screen.focused;\n  if (focused && focused._done) focused._done('stop');\n  this.screen.saveFocus();\n\n  // XXX Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  this.focus();\n  this.show();\n  this.select(0);\n  if (label) this.setLabel(label);\n  this.screen.render();\n  this.once('action', function(el, selected) {\n    if (label) self.removeLabel();\n    self.screen.restoreFocus();\n    self.hide();\n    self.screen.render();\n    if (!el) return callback();\n    return callback(null, helpers.cleanTags(self.ritems[selected]));\n  });\n};\n\nList.prototype.enterSelected = function(i) {\n  if (i != null) this.select(i);\n  this.emit('action', this.items[this.selected], this.selected);\n  this.emit('select', this.items[this.selected], this.selected);\n};\n\nList.prototype.cancelSelected = function(i) {\n  if (i != null) this.select(i);\n  this.emit('action');\n  this.emit('cancel');\n};\n\n/**\n * Expose\n */\n\nmodule.exports = List;\n", "/**\n * filemanager.js - file manager element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar path = require('path')\n  , fs = require('fs');\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\nvar List = require('./list');\n\n/**\n * FileManager\n */\n\nfunction FileManager(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new FileManager(options);\n  }\n\n  options = options || {};\n  options.parseTags = true;\n  // options.label = ' {blue-fg}%path{/blue-fg} ';\n\n  List.call(this, options);\n\n  this.cwd = options.cwd || process.cwd();\n  this.file = this.cwd;\n  this.value = this.cwd;\n\n  if (options.label && ~options.label.indexOf('%path')) {\n    this._label.setContent(options.label.replace('%path', this.cwd));\n  }\n\n  this.on('select', function(item) {\n    var value = item.content.replace(/\\{[^{}]+\\}/g, '').replace(/@$/, '')\n      , file = path.resolve(self.cwd, value);\n\n    return fs.stat(file, function(err, stat) {\n      if (err) {\n        return self.emit('error', err, file);\n      }\n      self.file = file;\n      self.value = file;\n      if (stat.isDirectory()) {\n        self.emit('cd', file, self.cwd);\n        self.cwd = file;\n        if (options.label && ~options.label.indexOf('%path')) {\n          self._label.setContent(options.label.replace('%path', file));\n        }\n        self.refresh();\n      } else {\n        self.emit('file', file);\n      }\n    });\n  });\n}\n\nFileManager.prototype.__proto__ = List.prototype;\n\nFileManager.prototype.type = 'file-manager';\n\nFileManager.prototype.refresh = function(cwd, callback) {\n  if (!callback) {\n    callback = cwd;\n    cwd = null;\n  }\n\n  var self = this;\n\n  if (cwd) this.cwd = cwd;\n  else cwd = this.cwd;\n\n  return fs.readdir(cwd, function(err, list) {\n    if (err && err.code === 'ENOENT') {\n      self.cwd = cwd !== process.env.HOME\n        ? process.env.HOME\n        : '/';\n      return self.refresh(callback);\n    }\n\n    if (err) {\n      if (callback) return callback(err);\n      return self.emit('error', err, cwd);\n    }\n\n    var dirs = []\n      , files = [];\n\n    list.unshift('..');\n\n    list.forEach(function(name) {\n      var f = path.resolve(cwd, name)\n        , stat;\n\n      try {\n        stat = fs.lstatSync(f);\n      } catch (e) {\n        ;\n      }\n\n      if ((stat && stat.isDirectory()) || name === '..') {\n        dirs.push({\n          name: name,\n          text: '{light-blue-fg}' + name + '{/light-blue-fg}/',\n          dir: true\n        });\n      } else if (stat && stat.isSymbolicLink()) {\n        files.push({\n          name: name,\n          text: '{light-cyan-fg}' + name + '{/light-cyan-fg}@',\n          dir: false\n        });\n      } else {\n        files.push({\n          name: name,\n          text: name,\n          dir: false\n        });\n      }\n    });\n\n    dirs = helpers.asort(dirs);\n    files = helpers.asort(files);\n\n    list = dirs.concat(files).map(function(data) {\n      return data.text;\n    });\n\n    self.setItems(list);\n    self.select(0);\n    self.screen.render();\n\n    self.emit('refresh');\n\n    if (callback) callback();\n  });\n};\n\nFileManager.prototype.pick = function(cwd, callback) {\n  if (!callback) {\n    callback = cwd;\n    cwd = null;\n  }\n\n  var self = this\n    , focused = this.screen.focused === this\n    , hidden = this.hidden\n    , onfile\n    , oncancel;\n\n  function resume() {\n    self.removeListener('file', onfile);\n    self.removeListener('cancel', oncancel);\n    if (hidden) {\n      self.hide();\n    }\n    if (!focused) {\n      self.screen.restoreFocus();\n    }\n    self.screen.render();\n  }\n\n  this.on('file', onfile = function(file) {\n    resume();\n    return callback(null, file);\n  });\n\n  this.on('cancel', oncancel = function() {\n    resume();\n    return callback();\n  });\n\n  this.refresh(cwd, function(err) {\n    if (err) return callback(err);\n\n    if (hidden) {\n      self.show();\n    }\n\n    if (!focused) {\n      self.screen.saveFocus();\n      self.focus();\n    }\n\n    self.screen.render();\n  });\n};\n\nFileManager.prototype.reset = function(cwd, callback) {\n  if (!callback) {\n    callback = cwd;\n    cwd = null;\n  }\n  this.cwd = cwd || this.options.cwd;\n  this.refresh(callback);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = FileManager;\n", "/**\n * form.js - form element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Form\n */\n\nfunction Form(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Form(options);\n  }\n\n  options = options || {};\n\n  options.ignoreKeys = true;\n  Box.call(this, options);\n\n  if (options.keys) {\n    this.screen._listenKeys(this);\n    this.on('element keypress', function(el, ch, key) {\n      if ((key.name === 'tab' && !key.shift)\n          || (el.type === 'textbox' && options.autoNext && key.name === 'enter')\n          || key.name === 'down'\n          || (options.vi && key.name === 'j')) {\n        if (el.type === 'textbox' || el.type === 'textarea') {\n          if (key.name === 'j') return;\n          if (key.name === 'tab') {\n            // Workaround, since we can't stop the tab from being added.\n            el.emit('keypress', null, { name: 'backspace' });\n          }\n          el.emit('keypress', '\\x1b', { name: 'escape' });\n        }\n        self.focusNext();\n        return;\n      }\n\n      if ((key.name === 'tab' && key.shift)\n          || key.name === 'up'\n          || (options.vi && key.name === 'k')) {\n        if (el.type === 'textbox' || el.type === 'textarea') {\n          if (key.name === 'k') return;\n          el.emit('keypress', '\\x1b', { name: 'escape' });\n        }\n        self.focusPrevious();\n        return;\n      }\n\n      if (key.name === 'escape') {\n        self.focus();\n        return;\n      }\n    });\n  }\n}\n\nForm.prototype.__proto__ = Box.prototype;\n\nForm.prototype.type = 'form';\n\nForm.prototype._refresh = function() {\n  // XXX Possibly remove this if statement and refresh on every focus.\n  // Also potentially only include *visible* focusable elements.\n  // This would remove the need to check for _selected.visible in previous()\n  // and next().\n  if (!this._children) {\n    var out = [];\n\n    this.children.forEach(function fn(el) {\n      if (el.keyable) out.push(el);\n      el.children.forEach(fn);\n    });\n\n    this._children = out;\n  }\n};\n\nForm.prototype._visible = function() {\n  return !!this._children.filter(function(el) {\n    return el.visible;\n  }).length;\n};\n\nForm.prototype.next = function() {\n  this._refresh();\n\n  if (!this._visible()) return;\n\n  if (!this._selected) {\n    this._selected = this._children[0];\n    if (!this._selected.visible) return this.next();\n    if (this.screen.focused !== this._selected) return this._selected;\n  }\n\n  var i = this._children.indexOf(this._selected);\n  if (!~i || !this._children[i + 1]) {\n    this._selected = this._children[0];\n    if (!this._selected.visible) return this.next();\n    return this._selected;\n  }\n\n  this._selected = this._children[i + 1];\n  if (!this._selected.visible) return this.next();\n  return this._selected;\n};\n\nForm.prototype.previous = function() {\n  this._refresh();\n\n  if (!this._visible()) return;\n\n  if (!this._selected) {\n    this._selected = this._children[this._children.length - 1];\n    if (!this._selected.visible) return this.previous();\n    if (this.screen.focused !== this._selected) return this._selected;\n  }\n\n  var i = this._children.indexOf(this._selected);\n  if (!~i || !this._children[i - 1]) {\n    this._selected = this._children[this._children.length - 1];\n    if (!this._selected.visible) return this.previous();\n    return this._selected;\n  }\n\n  this._selected = this._children[i - 1];\n  if (!this._selected.visible) return this.previous();\n  return this._selected;\n};\n\nForm.prototype.focusNext = function() {\n  var next = this.next();\n  if (next) next.focus();\n};\n\nForm.prototype.focusPrevious = function() {\n  var previous = this.previous();\n  if (previous) previous.focus();\n};\n\nForm.prototype.resetSelected = function() {\n  this._selected = null;\n};\n\nForm.prototype.focusFirst = function() {\n  this.resetSelected();\n  this.focusNext();\n};\n\nForm.prototype.focusLast = function() {\n  this.resetSelected();\n  this.focusPrevious();\n};\n\nForm.prototype.submit = function() {\n  var out = {};\n\n  this.children.forEach(function fn(el) {\n    if (el.value != null) {\n      var name = el.name || el.type;\n      if (Array.isArray(out[name])) {\n        out[name].push(el.value);\n      } else if (out[name]) {\n        out[name] = [out[name], el.value];\n      } else {\n        out[name] = el.value;\n      }\n    }\n    el.children.forEach(fn);\n  });\n\n  this.emit('submit', out);\n\n  return this.submission = out;\n};\n\nForm.prototype.cancel = function() {\n  this.emit('cancel');\n};\n\nForm.prototype.reset = function() {\n  this.children.forEach(function fn(el) {\n    switch (el.type) {\n      case 'screen':\n        break;\n      case 'box':\n        break;\n      case 'text':\n        break;\n      case 'line':\n        break;\n      case 'scrollable-box':\n        break;\n      case 'list':\n        el.select(0);\n        return;\n      case 'form':\n        break;\n      case 'input':\n        break;\n      case 'textbox':\n        el.clearInput();\n        return;\n      case 'textarea':\n        el.clearInput();\n        return;\n      case 'button':\n        delete el.value;\n        break;\n      case 'progress-bar':\n        el.setProgress(0);\n        break;\n      case 'file-manager':\n        el.refresh(el.options.cwd);\n        return;\n      case 'checkbox':\n        el.uncheck();\n        return;\n      case 'radio-set':\n        break;\n      case 'radio-button':\n        el.uncheck();\n        return;\n      case 'prompt':\n        break;\n      case 'question':\n        break;\n      case 'message':\n        break;\n      case 'info':\n        break;\n      case 'loading':\n        break;\n      case 'list-bar':\n        //el.select(0);\n        break;\n      case 'dir-manager':\n        el.refresh(el.options.cwd);\n        return;\n      case 'terminal':\n        el.write('');\n        return;\n      case 'image':\n        //el.clearImage();\n        return;\n    }\n    el.children.forEach(fn);\n  });\n\n  this.emit('reset');\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Form;\n", "/**\n * overlayimage.js - w3m image element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar fs = require('fs')\n  , cp = require('child_process');\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * OverlayImage\n * Good example of w3mimgdisplay commands:\n * https://github.com/hut/ranger/blob/master/ranger/ext/img_display.py\n */\n\nfunction OverlayImage(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new OverlayImage(options);\n  }\n\n  options = options || {};\n\n  Box.call(this, options);\n\n  if (options.w3m) {\n    OverlayImage.w3mdisplay = options.w3m;\n  }\n\n  if (OverlayImage.hasW3MDisplay == null) {\n    if (fs.existsSync(OverlayImage.w3mdisplay)) {\n      OverlayImage.hasW3MDisplay = true;\n    } else if (options.search !== false) {\n      var file = helpers.findFile('/usr', 'w3mimgdisplay')\n              || helpers.findFile('/lib', 'w3mimgdisplay')\n              || helpers.findFile('/bin', 'w3mimgdisplay');\n      if (file) {\n        OverlayImage.hasW3MDisplay = true;\n        OverlayImage.w3mdisplay = file;\n      } else {\n        OverlayImage.hasW3MDisplay = false;\n      }\n    }\n  }\n\n  this.on('hide', function() {\n    self._lastFile = self.file;\n    self.clearImage();\n  });\n\n  this.on('show', function() {\n    if (!self._lastFile) return;\n    self.setImage(self._lastFile);\n  });\n\n  this.on('detach', function() {\n    self._lastFile = self.file;\n    self.clearImage();\n  });\n\n  this.on('attach', function() {\n    if (!self._lastFile) return;\n    self.setImage(self._lastFile);\n  });\n\n  this.onScreenEvent('resize', function() {\n    self._needsRatio = true;\n  });\n\n  // Get images to overlap properly. Maybe not worth it:\n  // this.onScreenEvent('render', function() {\n  //   self.screen.program.flush();\n  //   if (!self._noImage) return;\n  //   function display(el, next) {\n  //     if (el.type === 'w3mimage' && el.file) {\n  //       el.setImage(el.file, next);\n  //     } else {\n  //       next();\n  //     }\n  //   }\n  //   function done(el) {\n  //     el.children.forEach(recurse);\n  //   }\n  //   function recurse(el) {\n  //     display(el, function() {\n  //       var pending = el.children.length;\n  //       el.children.forEach(function(el) {\n  //         display(el, function() {\n  //           if (!--pending) done(el);\n  //         });\n  //       });\n  //     });\n  //   }\n  //   recurse(self.screen);\n  // });\n\n  this.onScreenEvent('render', function() {\n    self.screen.program.flush();\n    if (!self._noImage) {\n      self.setImage(self.file);\n    }\n  });\n\n  if (this.options.file || this.options.img) {\n    this.setImage(this.options.file || this.options.img);\n  }\n}\n\nOverlayImage.prototype.__proto__ = Box.prototype;\n\nOverlayImage.prototype.type = 'overlayimage';\n\nOverlayImage.w3mdisplay = '/usr/lib/w3m/w3mimgdisplay';\n\nOverlayImage.prototype.spawn = function(file, args, opt, callback) {\n  var spawn = require('child_process').spawn\n    , ps;\n\n  opt = opt || {};\n  ps = spawn(file, args, opt);\n\n  ps.on('error', function(err) {\n    if (!callback) return;\n    return callback(err);\n  });\n\n  ps.on('exit', function(code) {\n    if (!callback) return;\n    if (code !== 0) return callback(new Error('Exit Code: ' + code));\n    return callback(null, code === 0);\n  });\n\n  return ps;\n};\n\nOverlayImage.prototype.setImage = function(img, callback) {\n  var self = this;\n\n  if (this._settingImage) {\n    this._queue = this._queue || [];\n    this._queue.push([img, callback]);\n    return;\n  }\n  this._settingImage = true;\n\n  var reset = function() {\n    self._settingImage = false;\n    self._queue = self._queue || [];\n    var item = self._queue.shift();\n    if (item) {\n      self.setImage(item[0], item[1]);\n    }\n  };\n\n  if (OverlayImage.hasW3MDisplay === false) {\n    reset();\n    if (!callback) return;\n    return callback(new Error('W3M Image Display not available.'));\n  }\n\n  if (!img) {\n    reset();\n    if (!callback) return;\n    return callback(new Error('No image.'));\n  }\n\n  this.file = img;\n\n  return this.getPixelRatio(function(err, ratio) {\n    if (err) {\n      reset();\n      if (!callback) return;\n      return callback(err);\n    }\n\n    return self.renderImage(img, ratio, function(err, success) {\n      if (err) {\n        reset();\n        if (!callback) return;\n        return callback(err);\n      }\n\n      if (self.shrink || self.options.autofit) {\n        delete self.shrink;\n        delete self.options.shrink;\n        self.options.autofit = true;\n        return self.imageSize(function(err, size) {\n          if (err) {\n            reset();\n            if (!callback) return;\n            return callback(err);\n          }\n\n          if (self._lastSize\n              && ratio.tw === self._lastSize.tw\n              && ratio.th === self._lastSize.th\n              && size.width === self._lastSize.width\n              && size.height === self._lastSize.height\n              && self.aleft === self._lastSize.aleft\n              && self.atop === self._lastSize.atop) {\n            reset();\n            if (!callback) return;\n            return callback(null, success);\n          }\n\n          self._lastSize = {\n            tw: ratio.tw,\n            th: ratio.th,\n            width: size.width,\n            height: size.height,\n            aleft: self.aleft,\n            atop: self.atop\n          };\n\n          self.position.width = size.width / ratio.tw | 0;\n          self.position.height = size.height / ratio.th | 0;\n\n          self._noImage = true;\n          self.screen.render();\n          self._noImage = false;\n\n          reset();\n          return self.renderImage(img, ratio, callback);\n        });\n      }\n\n      reset();\n      if (!callback) return;\n      return callback(null, success);\n    });\n  });\n};\n\nOverlayImage.prototype.renderImage = function(img, ratio, callback) {\n  var self = this;\n\n  if (cp.execSync) {\n    callback = callback || function(err, result) { return result; };\n    try {\n      return callback(null, this.renderImageSync(img, ratio));\n    } catch (e) {\n      return callback(e);\n    }\n  }\n\n  if (OverlayImage.hasW3MDisplay === false) {\n    if (!callback) return;\n    return callback(new Error('W3M Image Display not available.'));\n  }\n\n  if (!ratio) {\n    if (!callback) return;\n    return callback(new Error('No ratio.'));\n  }\n\n  // clearImage unsets these:\n  var _file = self.file;\n  var _lastSize = self._lastSize;\n  return self.clearImage(function(err) {\n    if (err) return callback(err);\n\n    self.file = _file;\n    self._lastSize = _lastSize;\n\n    var opt = {\n      stdio: 'pipe',\n      env: process.env,\n      cwd: process.env.HOME\n    };\n\n    var ps = self.spawn(OverlayImage.w3mdisplay, [], opt, function(err, success) {\n      if (!callback) return;\n      return err\n        ? callback(err)\n        : callback(null, success);\n    });\n\n    var width = self.width * ratio.tw | 0\n      , height = self.height * ratio.th | 0\n      , aleft = self.aleft * ratio.tw | 0\n      , atop = self.atop * ratio.th | 0;\n\n    var input = '0;1;'\n      + aleft + ';'\n      + atop + ';'\n      + width + ';'\n      + height + ';;;;;'\n      + img\n      + '\\n4;\\n3;\\n';\n\n    self._props = {\n      aleft: aleft,\n      atop: atop,\n      width: width,\n      height: height\n    };\n\n    ps.stdin.write(input);\n    ps.stdin.end();\n  });\n};\n\nOverlayImage.prototype.clearImage = function(callback) {\n  if (cp.execSync) {\n    callback = callback || function(err, result) { return result; };\n    try {\n      return callback(null, this.clearImageSync());\n    } catch (e) {\n      return callback(e);\n    }\n  }\n\n  if (OverlayImage.hasW3MDisplay === false) {\n    if (!callback) return;\n    return callback(new Error('W3M Image Display not available.'));\n  }\n\n  if (!this._props) {\n    if (!callback) return;\n    return callback(null);\n  }\n\n  var opt = {\n    stdio: 'pipe',\n    env: process.env,\n    cwd: process.env.HOME\n  };\n\n  var ps = this.spawn(OverlayImage.w3mdisplay, [], opt, function(err, success) {\n    if (!callback) return;\n    return err\n      ? callback(err)\n      : callback(null, success);\n  });\n\n  var width = this._props.width + 2\n    , height = this._props.height + 2\n    , aleft = this._props.aleft\n    , atop = this._props.atop;\n\n  if (this._drag) {\n    aleft -= 10;\n    atop -= 10;\n    width += 10;\n    height += 10;\n  }\n\n  var input = '6;'\n   + aleft + ';'\n   + atop + ';'\n   + width + ';'\n   + height\n   + '\\n4;\\n3;\\n';\n\n  delete this.file;\n  delete this._props;\n  delete this._lastSize;\n\n  ps.stdin.write(input);\n  ps.stdin.end();\n};\n\nOverlayImage.prototype.imageSize = function(callback) {\n  var img = this.file;\n\n  if (cp.execSync) {\n    callback = callback || function(err, result) { return result; };\n    try {\n      return callback(null, this.imageSizeSync());\n    } catch (e) {\n      return callback(e);\n    }\n  }\n\n  if (OverlayImage.hasW3MDisplay === false) {\n    if (!callback) return;\n    return callback(new Error('W3M Image Display not available.'));\n  }\n\n  if (!img) {\n    if (!callback) return;\n    return callback(new Error('No image.'));\n  }\n\n  var opt = {\n    stdio: 'pipe',\n    env: process.env,\n    cwd: process.env.HOME\n  };\n\n  var ps = this.spawn(OverlayImage.w3mdisplay, [], opt);\n\n  var buf = '';\n\n  ps.stdout.setEncoding('utf8');\n\n  ps.stdout.on('data', function(data) {\n    buf += data;\n  });\n\n  ps.on('error', function(err) {\n    if (!callback) return;\n    return callback(err);\n  });\n\n  ps.on('exit', function() {\n    if (!callback) return;\n    var size = buf.trim().split(/\\s+/);\n    return callback(null, {\n      raw: buf.trim(),\n      width: +size[0],\n      height: +size[1]\n    });\n  });\n\n  var input = '5;' + img + '\\n';\n\n  ps.stdin.write(input);\n  ps.stdin.end();\n};\n\nOverlayImage.prototype.termSize = function(callback) {\n  var self = this;\n\n  if (cp.execSync) {\n    callback = callback || function(err, result) { return result; };\n    try {\n      return callback(null, this.termSizeSync());\n    } catch (e) {\n      return callback(e);\n    }\n  }\n\n  if (OverlayImage.hasW3MDisplay === false) {\n    if (!callback) return;\n    return callback(new Error('W3M Image Display not available.'));\n  }\n\n  var opt = {\n    stdio: 'pipe',\n    env: process.env,\n    cwd: process.env.HOME\n  };\n\n  var ps = this.spawn(OverlayImage.w3mdisplay, ['-test'], opt);\n\n  var buf = '';\n\n  ps.stdout.setEncoding('utf8');\n\n  ps.stdout.on('data', function(data) {\n    buf += data;\n  });\n\n  ps.on('error', function(err) {\n    if (!callback) return;\n    return callback(err);\n  });\n\n  ps.on('exit', function() {\n    if (!callback) return;\n\n    if (!buf.trim()) {\n      // Bug: w3mimgdisplay will sometimes\n      // output nothing. Try again:\n      return self.termSize(callback);\n    }\n\n    var size = buf.trim().split(/\\s+/);\n\n    return callback(null, {\n      raw: buf.trim(),\n      width: +size[0],\n      height: +size[1]\n    });\n  });\n\n  ps.stdin.end();\n};\n\nOverlayImage.prototype.getPixelRatio = function(callback) {\n  var self = this;\n\n  if (cp.execSync) {\n    callback = callback || function(err, result) { return result; };\n    try {\n      return callback(null, this.getPixelRatioSync());\n    } catch (e) {\n      return callback(e);\n    }\n  }\n\n  // XXX We could cache this, but sometimes it's better\n  // to recalculate to be pixel perfect.\n  if (this._ratio && !this._needsRatio) {\n    return callback(null, this._ratio);\n  }\n\n  return this.termSize(function(err, dimensions) {\n    if (err) return callback(err);\n\n    self._ratio = {\n      tw: dimensions.width / self.screen.width,\n      th: dimensions.height / self.screen.height\n    };\n\n    self._needsRatio = false;\n\n    return callback(null, self._ratio);\n  });\n};\n\nOverlayImage.prototype.renderImageSync = function(img, ratio) {\n  if (OverlayImage.hasW3MDisplay === false) {\n    throw new Error('W3M Image Display not available.');\n  }\n\n  if (!ratio) {\n    throw new Error('No ratio.');\n  }\n\n  // clearImage unsets these:\n  var _file = this.file;\n  var _lastSize = this._lastSize;\n\n  this.clearImageSync();\n\n  this.file = _file;\n  this._lastSize = _lastSize;\n\n  var width = this.width * ratio.tw | 0\n    , height = this.height * ratio.th | 0\n    , aleft = this.aleft * ratio.tw | 0\n    , atop = this.atop * ratio.th | 0;\n\n  var input = '0;1;'\n    + aleft + ';'\n    + atop + ';'\n    + width + ';'\n    + height + ';;;;;'\n    + img\n    + '\\n4;\\n3;\\n';\n\n  this._props = {\n    aleft: aleft,\n    atop: atop,\n    width: width,\n    height: height\n  };\n\n  try {\n    cp.execFileSync(OverlayImage.w3mdisplay, [], {\n      env: process.env,\n      encoding: 'utf8',\n      input: input,\n      timeout: 1000\n    });\n  } catch (e) {\n    ;\n  }\n\n  return true;\n};\n\nOverlayImage.prototype.clearImageSync = function() {\n  if (OverlayImage.hasW3MDisplay === false) {\n    throw new Error('W3M Image Display not available.');\n  }\n\n  if (!this._props) {\n    return false;\n  }\n\n  var width = this._props.width + 2\n    , height = this._props.height + 2\n    , aleft = this._props.aleft\n    , atop = this._props.atop;\n\n  if (this._drag) {\n    aleft -= 10;\n    atop -= 10;\n    width += 10;\n    height += 10;\n  }\n\n  var input = '6;'\n   + aleft + ';'\n   + atop + ';'\n   + width + ';'\n   + height\n   + '\\n4;\\n3;\\n';\n\n  delete this.file;\n  delete this._props;\n  delete this._lastSize;\n\n  try {\n    cp.execFileSync(OverlayImage.w3mdisplay, [], {\n      env: process.env,\n      encoding: 'utf8',\n      input: input,\n      timeout: 1000\n    });\n  } catch (e) {\n    ;\n  }\n\n  return true;\n};\n\nOverlayImage.prototype.imageSizeSync = function() {\n  var img = this.file;\n\n  if (OverlayImage.hasW3MDisplay === false) {\n    throw new Error('W3M Image Display not available.');\n  }\n\n  if (!img) {\n    throw new Error('No image.');\n  }\n\n  var buf = '';\n  var input = '5;' + img + '\\n';\n\n  try {\n    buf = cp.execFileSync(OverlayImage.w3mdisplay, [], {\n      env: process.env,\n      encoding: 'utf8',\n      input: input,\n      timeout: 1000\n    });\n  } catch (e) {\n    ;\n  }\n\n  var size = buf.trim().split(/\\s+/);\n\n  return {\n    raw: buf.trim(),\n    width: +size[0],\n    height: +size[1]\n  };\n};\n\nOverlayImage.prototype.termSizeSync = function(_, recurse) {\n  if (OverlayImage.hasW3MDisplay === false) {\n    throw new Error('W3M Image Display not available.');\n  }\n\n  var buf = '';\n\n  try {\n    buf = cp.execFileSync(OverlayImage.w3mdisplay, ['-test'], {\n      env: process.env,\n      encoding: 'utf8',\n      timeout: 1000\n    });\n  } catch (e) {\n    ;\n  }\n\n  if (!buf.trim()) {\n    // Bug: w3mimgdisplay will sometimes\n    // output nothing. Try again:\n    recurse = recurse || 0;\n    if (++recurse === 5) {\n      throw new Error('Term size not determined.');\n    }\n    return this.termSizeSync(_, recurse);\n  }\n\n  var size = buf.trim().split(/\\s+/);\n\n  return {\n    raw: buf.trim(),\n    width: +size[0],\n    height: +size[1]\n  };\n};\n\nOverlayImage.prototype.getPixelRatioSync = function() {\n  // XXX We could cache this, but sometimes it's better\n  // to recalculate to be pixel perfect.\n  if (this._ratio && !this._needsRatio) {\n    return this._ratio;\n  }\n  this._needsRatio = false;\n\n  var dimensions = this.termSizeSync();\n\n  this._ratio = {\n    tw: dimensions.width / this.screen.width,\n    th: dimensions.height / this.screen.height\n  };\n\n  return this._ratio;\n};\n\nOverlayImage.prototype.displayImage = function(callback) {\n  return this.screen.displayImage(this.file, callback);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = OverlayImage;\n", "/**\n * image.js - image element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Image\n */\n\nfunction Image(options) {\n  if (!(this instanceof Node)) {\n    return new Image(options);\n  }\n\n  options = options || {};\n  options.type = options.itype || options.type || 'ansi';\n\n  Box.call(this, options);\n\n  if (options.type === 'ansi' && this.type !== 'ansiimage') {\n    var ANSIImage = require('./ansiimage');\n    Object.getOwnPropertyNames(ANSIImage.prototype).forEach(function(key) {\n      if (key === 'type') return;\n      Object.defineProperty(this, key,\n        Object.getOwnPropertyDescriptor(ANSIImage.prototype, key));\n    }, this);\n    ANSIImage.call(this, options);\n    return this;\n  }\n\n  if (options.type === 'overlay' && this.type !== 'overlayimage') {\n    var OverlayImage = require('./overlayimage');\n    Object.getOwnPropertyNames(OverlayImage.prototype).forEach(function(key) {\n      if (key === 'type') return;\n      Object.defineProperty(this, key,\n        Object.getOwnPropertyDescriptor(OverlayImage.prototype, key));\n    }, this);\n    OverlayImage.call(this, options);\n    return this;\n  }\n\n  throw new Error('`type` must either be `ansi` or `overlay`.');\n}\n\nImage.prototype.__proto__ = Box.prototype;\n\nImage.prototype.type = 'image';\n\n/**\n * Expose\n */\n\nmodule.exports = Image;\n", "/**\n * layout.js - layout element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Element = require('./element');\n\n/**\n * Layout\n */\n\nfunction Layout(options) {\n  if (!(this instanceof Node)) {\n    return new Layout(options);\n  }\n\n  options = options || {};\n\n  if ((options.width == null\n      && (options.left == null && options.right == null))\n      || (options.height == null\n      && (options.top == null && options.bottom == null))) {\n    throw new Error('`Layout` must have a width and height!');\n  }\n\n  options.layout = options.layout || 'inline';\n\n  Element.call(this, options);\n\n  if (options.renderer) {\n    this.renderer = options.renderer;\n  }\n}\n\nLayout.prototype.__proto__ = Element.prototype;\n\nLayout.prototype.type = 'layout';\n\nLayout.prototype.isRendered = function(el) {\n  if (!el.lpos) return false;\n  return (el.lpos.xl - el.lpos.xi) > 0\n      && (el.lpos.yl - el.lpos.yi) > 0;\n};\n\nLayout.prototype.getLast = function(i) {\n  while (this.children[--i]) {\n    var el = this.children[i];\n    if (this.isRendered(el)) return el;\n  }\n};\n\nLayout.prototype.getLastCoords = function(i) {\n  var last = this.getLast(i);\n  if (last) return last.lpos;\n};\n\nLayout.prototype._renderCoords = function() {\n  var coords = this._getCoords(true);\n  var children = this.children;\n  this.children = [];\n  this._render();\n  this.children = children;\n  return coords;\n};\n\nLayout.prototype.renderer = function(coords) {\n  var self = this;\n\n  // The coordinates of the layout element\n  var width = coords.xl - coords.xi\n    , height = coords.yl - coords.yi\n    , xi = coords.xi\n    , yi = coords.yi;\n\n  // The current row offset in cells (which row are we on?)\n  var rowOffset = 0;\n\n  // The index of the first child in the row\n  var rowIndex = 0;\n  var lastRowIndex = 0;\n\n  // Figure out the highest width child\n  if (this.options.layout === 'grid') {\n    var highWidth = this.children.reduce(function(out, el) {\n      out = Math.max(out, el.width);\n      return out;\n    }, 0);\n  }\n\n  return function iterator(el, i) {\n    // Make our children shrinkable. If they don't have a height, for\n    // example, calculate it for them.\n    el.shrink = true;\n\n    // Find the previous rendered child's coordinates\n    var last = self.getLast(i);\n\n    // If there is no previously rendered element, we are on the first child.\n    if (!last) {\n      el.position.left = 0;\n      el.position.top = 0;\n    } else {\n      // Otherwise, figure out where to place this child. We'll start by\n      // setting it's `left`/`x` coordinate to right after the previous\n      // rendered element. This child will end up directly to the right of it.\n      el.position.left = last.lpos.xl - xi;\n\n      // Make sure the position matches the highest width element\n      if (self.options.layout === 'grid') {\n        // Compensate with width:\n        // el.position.width = el.width + (highWidth - el.width);\n        // Compensate with position:\n        el.position.left += highWidth - (last.lpos.xl - last.lpos.xi);\n      }\n\n      // If our child does not overlap the right side of the Layout, set it's\n      // `top`/`y` to the current `rowOffset` (the coordinate for the current\n      // row).\n      if (el.position.left + el.width <= width) {\n        el.position.top = rowOffset;\n      } else {\n        // Otherwise we need to start a new row and calculate a new\n        // `rowOffset` and `rowIndex` (the index of the child on the current\n        // row).\n        rowOffset += self.children.slice(rowIndex, i).reduce(function(out, el) {\n          if (!self.isRendered(el)) return out;\n          out = Math.max(out, el.lpos.yl - el.lpos.yi);\n          return out;\n        }, 0);\n        lastRowIndex = rowIndex;\n        rowIndex = i;\n        el.position.left = 0;\n        el.position.top = rowOffset;\n      }\n    }\n\n    // Make sure the elements on lower rows graviatate up as much as possible\n    if (self.options.layout === 'inline') {\n      var above = null;\n      var abovea = Infinity;\n      for (var j = lastRowIndex; j < rowIndex; j++) {\n        var l = self.children[j];\n        if (!self.isRendered(l)) continue;\n        var abs = Math.abs(el.position.left - (l.lpos.xi - xi));\n        // if (abs < abovea && (l.lpos.xl - l.lpos.xi) <= el.width) {\n        if (abs < abovea) {\n          above = l;\n          abovea = abs;\n        }\n      }\n      if (above) {\n        el.position.top = above.lpos.yl - yi;\n      }\n    }\n\n    // If our child overflows the Layout, do not render it!\n    // Disable this feature for now.\n    if (el.position.top + el.height > height) {\n      // Returning false tells blessed to ignore this child.\n      // return false;\n    }\n  };\n};\n\nLayout.prototype.render = function() {\n  this._emit('prerender');\n\n  var coords = this._renderCoords();\n  if (!coords) {\n    delete this.lpos;\n    return;\n  }\n\n  if (coords.xl - coords.xi <= 0) {\n    coords.xl = Math.max(coords.xl, coords.xi);\n    return;\n  }\n\n  if (coords.yl - coords.yi <= 0) {\n    coords.yl = Math.max(coords.yl, coords.yi);\n    return;\n  }\n\n  this.lpos = coords;\n\n  if (this.border) coords.xi++, coords.xl--, coords.yi++, coords.yl--;\n  if (this.tpadding) {\n    coords.xi += this.padding.left, coords.xl -= this.padding.right;\n    coords.yi += this.padding.top, coords.yl -= this.padding.bottom;\n  }\n\n  var iterator = this.renderer(coords);\n\n  if (this.border) coords.xi--, coords.xl++, coords.yi--, coords.yl++;\n  if (this.tpadding) {\n    coords.xi -= this.padding.left, coords.xl += this.padding.right;\n    coords.yi -= this.padding.top, coords.yl += this.padding.bottom;\n  }\n\n  this.children.forEach(function(el, i) {\n    if (el.screen._ci !== -1) {\n      el.index = el.screen._ci++;\n    }\n    var rendered = iterator(el, i);\n    if (rendered === false) {\n      delete el.lpos;\n      return;\n    }\n    // if (el.screen._rendering) {\n    //   el._rendering = true;\n    // }\n    el.render();\n    // if (el.screen._rendering) {\n    //   el._rendering = false;\n    // }\n  });\n\n  this._emit('render', [coords]);\n\n  return coords;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Layout;\n", "/**\n * line.js - line element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Line\n */\n\nfunction Line(options) {\n  if (!(this instanceof Node)) {\n    return new Line(options);\n  }\n\n  options = options || {};\n\n  var orientation = options.orientation || 'vertical';\n  delete options.orientation;\n\n  if (orientation === 'vertical') {\n    options.width = 1;\n  } else {\n    options.height = 1;\n  }\n\n  Box.call(this, options);\n\n  this.ch = !options.type || options.type === 'line'\n    ? orientation === 'horizontal' ? '\u2500' : '\u2502'\n    : options.ch || ' ';\n\n  this.border = {\n    type: 'bg',\n    __proto__: this\n  };\n\n  this.style.border = this.style;\n}\n\nLine.prototype.__proto__ = Box.prototype;\n\nLine.prototype.type = 'line';\n\n/**\n * Expose\n */\n\nmodule.exports = Line;\n", "/**\n * listbar.js - listbar element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar helpers = require('../helpers');\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Listbar / HorizontalList\n */\n\nfunction Listbar(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Listbar(options);\n  }\n\n  options = options || {};\n\n  this.items = [];\n  this.ritems = [];\n  this.commands = [];\n\n  this.leftBase = 0;\n  this.leftOffset = 0;\n\n  this.mouse = options.mouse || false;\n\n  Box.call(this, options);\n\n  if (!this.style.selected) {\n    this.style.selected = {};\n  }\n\n  if (!this.style.item) {\n    this.style.item = {};\n  }\n\n  if (options.commands || options.items) {\n    this.setItems(options.commands || options.items);\n  }\n\n  if (options.keys) {\n    this.on('keypress', function(ch, key) {\n      if (key.name === 'left'\n          || (options.vi && key.name === 'h')\n          || (key.shift && key.name === 'tab')) {\n        self.moveLeft();\n        self.screen.render();\n        // Stop propagation if we're in a form.\n        if (key.name === 'tab') return false;\n        return;\n      }\n      if (key.name === 'right'\n          || (options.vi && key.name === 'l')\n          || key.name === 'tab') {\n        self.moveRight();\n        self.screen.render();\n        // Stop propagation if we're in a form.\n        if (key.name === 'tab') return false;\n        return;\n      }\n      if (key.name === 'enter'\n          || (options.vi && key.name === 'k' && !key.shift)) {\n        self.emit('action', self.items[self.selected], self.selected);\n        self.emit('select', self.items[self.selected], self.selected);\n        var item = self.items[self.selected];\n        if (item._.cmd.callback) {\n          item._.cmd.callback();\n        }\n        self.screen.render();\n        return;\n      }\n      if (key.name === 'escape' || (options.vi && key.name === 'q')) {\n        self.emit('action');\n        self.emit('cancel');\n        return;\n      }\n    });\n  }\n\n  if (options.autoCommandKeys) {\n    this.onScreenEvent('keypress', function(ch) {\n      if (/^[0-9]$/.test(ch)) {\n        var i = +ch - 1;\n        if (!~i) i = 9;\n        return self.selectTab(i);\n      }\n    });\n  }\n\n  this.on('focus', function() {\n    self.select(self.selected);\n  });\n}\n\nListbar.prototype.__proto__ = Box.prototype;\n\nListbar.prototype.type = 'listbar';\n\nListbar.prototype.__defineGetter__('selected', function() {\n  return this.leftBase + this.leftOffset;\n});\n\nListbar.prototype.setItems = function(commands) {\n  var self = this;\n\n  if (!Array.isArray(commands)) {\n    commands = Object.keys(commands).reduce(function(obj, key, i) {\n      var cmd = commands[key]\n        , cb;\n\n      if (typeof cmd === 'function') {\n        cb = cmd;\n        cmd = { callback: cb };\n      }\n\n      if (cmd.text == null) cmd.text = key;\n      if (cmd.prefix == null) cmd.prefix = ++i + '';\n\n      if (cmd.text == null && cmd.callback) {\n        cmd.text = cmd.callback.name;\n      }\n\n      obj.push(cmd);\n\n      return obj;\n    }, []);\n  }\n\n  this.items.forEach(function(el) {\n    el.detach();\n  });\n\n  this.items = [];\n  this.ritems = [];\n  this.commands = [];\n\n  commands.forEach(function(cmd) {\n    self.add(cmd);\n  });\n\n  this.emit('set items');\n};\n\nListbar.prototype.add =\nListbar.prototype.addItem =\nListbar.prototype.appendItem = function(item, callback) {\n  var self = this\n    , prev = this.items[this.items.length - 1]\n    , drawn\n    , cmd\n    , title\n    , len;\n\n  if (!this.parent) {\n    drawn = 0;\n  } else {\n    drawn = prev ? prev.aleft + prev.width : 0;\n    if (!this.screen.autoPadding) {\n      drawn += this.ileft;\n    }\n  }\n\n  if (typeof item === 'object') {\n    cmd = item;\n    if (cmd.prefix == null) cmd.prefix = (this.items.length + 1) + '';\n  }\n\n  if (typeof item === 'string') {\n    cmd = {\n      prefix: (this.items.length + 1) + '',\n      text: item,\n      callback: callback\n    };\n  }\n\n  if (typeof item === 'function') {\n    cmd = {\n      prefix: (this.items.length + 1) + '',\n      text: item.name,\n      callback: item\n    };\n  }\n\n  if (cmd.keys && cmd.keys[0]) {\n    cmd.prefix = cmd.keys[0];\n  }\n\n  var t = helpers.generateTags(this.style.prefix || { fg: 'lightblack' });\n\n  title = (cmd.prefix != null ? t.open + cmd.prefix + t.close + ':' : '') + cmd.text;\n\n  len = ((cmd.prefix != null ? cmd.prefix + ':' : '') + cmd.text).length;\n\n  var options = {\n    screen: this.screen,\n    top: 0,\n    left: drawn + 1,\n    height: 1,\n    content: title,\n    width: len + 2,\n    align: 'center',\n    autoFocus: false,\n    tags: true,\n    mouse: true,\n    style: helpers.merge({}, this.style.item),\n    noOverflow: true\n  };\n\n  if (!this.screen.autoPadding) {\n    options.top += this.itop;\n    options.left += this.ileft;\n  }\n\n  ['bg', 'fg', 'bold', 'underline',\n   'blink', 'inverse', 'invisible'].forEach(function(name) {\n    options.style[name] = function() {\n      var attr = self.items[self.selected] === el\n        ? self.style.selected[name]\n        : self.style.item[name];\n      if (typeof attr === 'function') attr = attr(el);\n      return attr;\n    };\n  });\n\n  var el = new Box(options);\n\n  this._[cmd.text] = el;\n  cmd.element = el;\n  el._.cmd = cmd;\n\n  this.ritems.push(cmd.text);\n  this.items.push(el);\n  this.commands.push(cmd);\n  this.append(el);\n\n  if (cmd.callback) {\n    if (cmd.keys) {\n      this.screen.key(cmd.keys, function() {\n        self.emit('action', el, self.selected);\n        self.emit('select', el, self.selected);\n        if (el._.cmd.callback) {\n          el._.cmd.callback();\n        }\n        self.select(el);\n        self.screen.render();\n      });\n    }\n  }\n\n  if (this.items.length === 1) {\n    this.select(0);\n  }\n\n  // XXX May be affected by new element.options.mouse option.\n  if (this.mouse) {\n    el.on('click', function() {\n      self.emit('action', el, self.selected);\n      self.emit('select', el, self.selected);\n      if (el._.cmd.callback) {\n        el._.cmd.callback();\n      }\n      self.select(el);\n      self.screen.render();\n    });\n  }\n\n  this.emit('add item');\n};\n\nListbar.prototype.render = function() {\n  var self = this\n    , drawn = 0;\n\n  if (!this.screen.autoPadding) {\n    drawn += this.ileft;\n  }\n\n  this.items.forEach(function(el, i) {\n    if (i < self.leftBase) {\n      el.hide();\n    } else {\n      el.rleft = drawn + 1;\n      drawn += el.width + 2;\n      el.show();\n    }\n  });\n\n  return this._render();\n};\n\nListbar.prototype.select = function(offset) {\n  if (typeof offset !== 'number') {\n    offset = this.items.indexOf(offset);\n  }\n\n  if (offset < 0) {\n    offset = 0;\n  } else if (offset >= this.items.length) {\n    offset = this.items.length - 1;\n  }\n\n  if (!this.parent) {\n    this.emit('select item', this.items[offset], offset);\n    return;\n  }\n\n  var lpos = this._getCoords();\n  if (!lpos) return;\n\n  var self = this\n    , width = (lpos.xl - lpos.xi) - this.iwidth\n    , drawn = 0\n    , visible = 0\n    , el;\n\n  el = this.items[offset];\n  if (!el) return;\n\n  this.items.forEach(function(el, i) {\n    if (i < self.leftBase) return;\n\n    var lpos = el._getCoords();\n    if (!lpos) return;\n\n    if (lpos.xl - lpos.xi <= 0) return;\n\n    drawn += (lpos.xl - lpos.xi) + 2;\n\n    if (drawn <= width) visible++;\n  });\n\n  var diff = offset - (this.leftBase + this.leftOffset);\n  if (offset > this.leftBase + this.leftOffset) {\n    if (offset > this.leftBase + visible - 1) {\n      this.leftOffset = 0;\n      this.leftBase = offset;\n    } else {\n      this.leftOffset += diff;\n    }\n  } else if (offset < this.leftBase + this.leftOffset) {\n    diff = -diff;\n    if (offset < this.leftBase) {\n      this.leftOffset = 0;\n      this.leftBase = offset;\n    } else {\n      this.leftOffset -= diff;\n    }\n  }\n\n  // XXX Move `action` and `select` events here.\n  this.emit('select item', el, offset);\n};\n\nListbar.prototype.removeItem = function(child) {\n  var i = typeof child !== 'number'\n    ? this.items.indexOf(child)\n    : child;\n\n  if (~i && this.items[i]) {\n    child = this.items.splice(i, 1)[0];\n    this.ritems.splice(i, 1);\n    this.commands.splice(i, 1);\n    this.remove(child);\n    if (i === this.selected) {\n      this.select(i - 1);\n    }\n  }\n\n  this.emit('remove item');\n};\n\nListbar.prototype.move = function(offset) {\n  this.select(this.selected + offset);\n};\n\nListbar.prototype.moveLeft = function(offset) {\n  this.move(-(offset || 1));\n};\n\nListbar.prototype.moveRight = function(offset) {\n  this.move(offset || 1);\n};\n\nListbar.prototype.selectTab = function(index) {\n  var item = this.items[index];\n  if (item) {\n    if (item._.cmd.callback) {\n      item._.cmd.callback();\n    }\n    this.select(index);\n    this.screen.render();\n  }\n  this.emit('select tab', item, index);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Listbar;\n", "/**\n * table.js - table element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Table\n */\n\nfunction Table(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Table(options);\n  }\n\n  options = options || {};\n  options.shrink = true;\n  options.style = options.style || {};\n  options.style.border = options.style.border || {};\n  options.style.header = options.style.header || {};\n  options.style.cell = options.style.cell || {};\n  options.align = options.align || 'center';\n\n  // Regular tables do not get custom height (this would\n  // require extra padding). Maybe add in the future.\n  delete options.height;\n\n  Box.call(this, options);\n\n  this.pad = options.pad != null\n    ? options.pad\n    : 2;\n\n  this.setData(options.rows || options.data);\n\n  this.on('attach', function() {\n    self.setContent('');\n    self.setData(self.rows);\n  });\n\n  this.on('resize', function() {\n    self.setContent('');\n    self.setData(self.rows);\n    self.screen.render();\n  });\n}\n\nTable.prototype.__proto__ = Box.prototype;\n\nTable.prototype.type = 'table';\n\nTable.prototype._calculateMaxes = function() {\n  var self = this;\n  var maxes = [];\n\n  if (this.detached) return;\n\n  this.rows = this.rows || [];\n\n  this.rows.forEach(function(row) {\n    row.forEach(function(cell, i) {\n      var clen = self.strWidth(cell);\n      if (!maxes[i] || maxes[i] < clen) {\n        maxes[i] = clen;\n      }\n    });\n  });\n\n  var total = maxes.reduce(function(total, max) {\n    return total + max;\n  }, 0);\n  total += maxes.length + 1;\n\n  // XXX There might be an issue with resizing where on the first resize event\n  // width appears to be less than total if it's a percentage or left/right\n  // combination.\n  if (this.width < total) {\n    delete this.position.width;\n  }\n\n  if (this.position.width != null) {\n    var missing = this.width - total;\n    var w = missing / maxes.length | 0;\n    var wr = missing % maxes.length;\n    maxes = maxes.map(function(max, i) {\n      if (i === maxes.length - 1) {\n        return max + w + wr;\n      }\n      return max + w;\n    });\n  } else {\n    maxes = maxes.map(function(max) {\n      return max + self.pad;\n    });\n  }\n\n  return this._maxes = maxes;\n};\n\nTable.prototype.setRows =\nTable.prototype.setData = function(rows) {\n  var self = this\n    , text = ''\n    , align = this.align;\n\n  this.rows = rows || [];\n\n  this._calculateMaxes();\n\n  if (!this._maxes) return;\n\n  this.rows.forEach(function(row, i) {\n    var isFooter = i === self.rows.length - 1;\n    row.forEach(function(cell, i) {\n      var width = self._maxes[i];\n      var clen = self.strWidth(cell);\n\n      if (i !== 0) {\n        text += ' ';\n      }\n\n      while (clen < width) {\n        if (align === 'center') {\n          cell = ' ' + cell + ' ';\n          clen += 2;\n        } else if (align === 'left') {\n          cell = cell + ' ';\n          clen += 1;\n        } else if (align === 'right') {\n          cell = ' ' + cell;\n          clen += 1;\n        }\n      }\n\n      if (clen > width) {\n        if (align === 'center') {\n          cell = cell.substring(1);\n          clen--;\n        } else if (align === 'left') {\n          cell = cell.slice(0, -1);\n          clen--;\n        } else if (align === 'right') {\n          cell = cell.substring(1);\n          clen--;\n        }\n      }\n\n      text += cell;\n    });\n    if (!isFooter) {\n      text += '\\n\\n';\n    }\n  });\n\n  delete this.align;\n  this.setContent(text);\n  this.align = align;\n};\n\nTable.prototype.render = function() {\n  var self = this;\n\n  var coords = this._render();\n  if (!coords) return;\n\n  this._calculateMaxes();\n\n  if (!this._maxes) return coords;\n\n  var lines = this.screen.lines\n    , xi = coords.xi\n    , yi = coords.yi\n    , rx\n    , ry\n    , i;\n\n  var dattr = this.sattr(this.style)\n    , hattr = this.sattr(this.style.header)\n    , cattr = this.sattr(this.style.cell)\n    , battr = this.sattr(this.style.border);\n\n  var width = coords.xl - coords.xi - this.iright\n    , height = coords.yl - coords.yi - this.ibottom;\n\n  // Apply attributes to header cells and cells.\n  for (var y = this.itop; y < height; y++) {\n    if (!lines[yi + y]) break;\n    for (var x = this.ileft; x < width; x++) {\n      if (!lines[yi + y][xi + x]) break;\n      // Check to see if it's not the default attr. Allows for tags:\n      if (lines[yi + y][xi + x][0] !== dattr) continue;\n      if (y === this.itop) {\n        lines[yi + y][xi + x][0] = hattr;\n      } else {\n        lines[yi + y][xi + x][0] = cattr;\n      }\n      lines[yi + y].dirty = true;\n    }\n  }\n\n  if (!this.border || this.options.noCellBorders) return coords;\n\n  // Draw border with correct angles.\n  ry = 0;\n  for (i = 0; i < self.rows.length + 1; i++) {\n    if (!lines[yi + ry]) break;\n    rx = 0;\n    self._maxes.forEach(function(max, i) {\n      rx += max;\n      if (i === 0) {\n        if (!lines[yi + ry][xi + 0]) return;\n        // left side\n        if (ry === 0) {\n          // top\n          lines[yi + ry][xi + 0][0] = battr;\n          // lines[yi + ry][xi + 0][1] = '\\u250c'; // '\u250C'\n        } else if (ry / 2 === self.rows.length) {\n          // bottom\n          lines[yi + ry][xi + 0][0] = battr;\n          // lines[yi + ry][xi + 0][1] = '\\u2514'; // '\u2514'\n        } else {\n          // middle\n          lines[yi + ry][xi + 0][0] = battr;\n          lines[yi + ry][xi + 0][1] = '\\u251c'; // '\u251C'\n          // XXX If we alter iwidth and ileft for no borders - nothing should be written here\n          if (!self.border.left) {\n            lines[yi + ry][xi + 0][1] = '\\u2500'; // '\u2500'\n          }\n        }\n        lines[yi + ry].dirty = true;\n      } else if (i === self._maxes.length - 1) {\n        if (!lines[yi + ry][xi + rx + 1]) return;\n        // right side\n        if (ry === 0) {\n          // top\n          rx++;\n          lines[yi + ry][xi + rx][0] = battr;\n          // lines[yi + ry][xi + rx][1] = '\\u2510'; // '\u2510'\n        } else if (ry / 2 === self.rows.length) {\n          // bottom\n          rx++;\n          lines[yi + ry][xi + rx][0] = battr;\n          // lines[yi + ry][xi + rx][1] = '\\u2518'; // '\u2518'\n        } else {\n          // middle\n          rx++;\n          lines[yi + ry][xi + rx][0] = battr;\n          lines[yi + ry][xi + rx][1] = '\\u2524'; // '\u2524'\n          // XXX If we alter iwidth and iright for no borders - nothing should be written here\n          if (!self.border.right) {\n            lines[yi + ry][xi + rx][1] = '\\u2500'; // '\u2500'\n          }\n        }\n        lines[yi + ry].dirty = true;\n        return;\n      }\n      if (!lines[yi + ry][xi + rx + 1]) return;\n      // center\n      if (ry === 0) {\n        // top\n        rx++;\n        lines[yi + ry][xi + rx][0] = battr;\n        lines[yi + ry][xi + rx][1] = '\\u252c'; // '\u252C'\n        // XXX If we alter iheight and itop for no borders - nothing should be written here\n        if (!self.border.top) {\n          lines[yi + ry][xi + rx][1] = '\\u2502'; // '\u2502'\n        }\n      } else if (ry / 2 === self.rows.length) {\n        // bottom\n        rx++;\n        lines[yi + ry][xi + rx][0] = battr;\n        lines[yi + ry][xi + rx][1] = '\\u2534'; // '\u2534'\n        // XXX If we alter iheight and ibottom for no borders - nothing should be written here\n        if (!self.border.bottom) {\n          lines[yi + ry][xi + rx][1] = '\\u2502'; // '\u2502'\n        }\n      } else {\n        // middle\n        if (self.options.fillCellBorders) {\n          var lbg = (ry <= 2 ? hattr : cattr) & 0x1ff;\n          rx++;\n          lines[yi + ry][xi + rx][0] = (battr & ~0x1ff) | lbg;\n        } else {\n          rx++;\n          lines[yi + ry][xi + rx][0] = battr;\n        }\n        lines[yi + ry][xi + rx][1] = '\\u253c'; // '\u253C'\n        // rx++;\n      }\n      lines[yi + ry].dirty = true;\n    });\n    ry += 2;\n  }\n\n  // Draw internal borders.\n  for (ry = 1; ry < self.rows.length * 2; ry++) {\n    if (!lines[yi + ry]) break;\n    rx = 0;\n    self._maxes.slice(0, -1).forEach(function(max) {\n      rx += max;\n      if (!lines[yi + ry][xi + rx + 1]) return;\n      if (ry % 2 !== 0) {\n        if (self.options.fillCellBorders) {\n          var lbg = (ry <= 2 ? hattr : cattr) & 0x1ff;\n          rx++;\n          lines[yi + ry][xi + rx][0] = (battr & ~0x1ff) | lbg;\n        } else {\n          rx++;\n          lines[yi + ry][xi + rx][0] = battr;\n        }\n        lines[yi + ry][xi + rx][1] = '\\u2502'; // '\u2502'\n        lines[yi + ry].dirty = true;\n      } else {\n        rx++;\n      }\n    });\n    rx = 1;\n    self._maxes.forEach(function(max) {\n      while (max--) {\n        if (ry % 2 === 0) {\n          if (!lines[yi + ry]) break;\n          if (!lines[yi + ry][xi + rx + 1]) break;\n          if (self.options.fillCellBorders) {\n            var lbg = (ry <= 2 ? hattr : cattr) & 0x1ff;\n            lines[yi + ry][xi + rx][0] = (battr & ~0x1ff) | lbg;\n          } else {\n            lines[yi + ry][xi + rx][0] = battr;\n          }\n          lines[yi + ry][xi + rx][1] = '\\u2500'; // '\u2500'\n          lines[yi + ry].dirty = true;\n        }\n        rx++;\n      }\n      rx++;\n    });\n  }\n\n  return coords;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Table;\n", "/**\n * listtable.js - list table element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\nvar List = require('./list');\nvar Table = require('./table');\n\n/**\n * ListTable\n */\n\nfunction ListTable(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new ListTable(options);\n  }\n\n  options = options || {};\n  options.shrink = true;\n  options.normalShrink = true;\n  options.style = options.style || {};\n  options.style.border = options.style.border || {};\n  options.style.header = options.style.header || {};\n  options.style.cell = options.style.cell || {};\n  this.__align = options.align || 'center';\n  delete options.align;\n\n  options.style.selected = options.style.cell.selected;\n  options.style.item = options.style.cell;\n\n  List.call(this, options);\n\n  this._header = new Box({\n    parent: this,\n    left: this.screen.autoPadding ? 0 : this.ileft,\n    top: 0,\n    width: 'shrink',\n    height: 1,\n    style: options.style.header,\n    tags: options.parseTags || options.tags\n  });\n\n  this.on('scroll', function() {\n    self._header.setFront();\n    self._header.rtop = self.childBase;\n    if (!self.screen.autoPadding) {\n      self._header.rtop = self.childBase + (self.border ? 1 : 0);\n    }\n  });\n\n  this.pad = options.pad != null\n    ? options.pad\n    : 2;\n\n  this.setData(options.rows || options.data);\n\n  this.on('attach', function() {\n    self.setData(self.rows);\n  });\n\n  this.on('resize', function() {\n    var selected = self.selected;\n    self.setData(self.rows);\n    self.select(selected);\n    self.screen.render();\n  });\n}\n\nListTable.prototype.__proto__ = List.prototype;\n\nListTable.prototype.type = 'list-table';\n\nListTable.prototype._calculateMaxes = Table.prototype._calculateMaxes;\n\nListTable.prototype.setRows =\nListTable.prototype.setData = function(rows) {\n  var self = this\n    , align = this.__align;\n\n  if (this.visible && this.lpos) {\n    this.clearPos();\n  }\n\n  this.clearItems();\n\n  this.rows = rows || [];\n\n  this._calculateMaxes();\n\n  if (!this._maxes) return;\n\n  this.addItem('');\n\n  this.rows.forEach(function(row, i) {\n    var isHeader = i === 0;\n    var text = '';\n    row.forEach(function(cell, i) {\n      var width = self._maxes[i];\n      var clen = self.strWidth(cell);\n\n      if (i !== 0) {\n        text += ' ';\n      }\n\n      while (clen < width) {\n        if (align === 'center') {\n          cell = ' ' + cell + ' ';\n          clen += 2;\n        } else if (align === 'left') {\n          cell = cell + ' ';\n          clen += 1;\n        } else if (align === 'right') {\n          cell = ' ' + cell;\n          clen += 1;\n        }\n      }\n\n      if (clen > width) {\n        if (align === 'center') {\n          cell = cell.substring(1);\n          clen--;\n        } else if (align === 'left') {\n          cell = cell.slice(0, -1);\n          clen--;\n        } else if (align === 'right') {\n          cell = cell.substring(1);\n          clen--;\n        }\n      }\n\n      text += cell;\n    });\n    if (isHeader) {\n      self._header.setContent(text);\n    } else {\n      self.addItem(text);\n    }\n  });\n\n  this._header.setFront();\n\n  this.select(0);\n};\n\nListTable.prototype._select = ListTable.prototype.select;\nListTable.prototype.select = function(i) {\n  if (i === 0) {\n    i = 1;\n  }\n  if (i <= this.childBase) {\n    this.setScroll(this.childBase - 1);\n  }\n  return this._select(i);\n};\n\nListTable.prototype.render = function() {\n  var self = this;\n\n  var coords = this._render();\n  if (!coords) return;\n\n  this._calculateMaxes();\n\n  if (!this._maxes) return coords;\n\n  var lines = this.screen.lines\n    , xi = coords.xi\n    , yi = coords.yi\n    , rx\n    , ry\n    , i;\n\n  var battr = this.sattr(this.style.border);\n\n  var height = coords.yl - coords.yi - this.ibottom;\n\n  if (!this.border || this.options.noCellBorders) return coords;\n\n  // Draw border with correct angles.\n  ry = 0;\n  for (i = 0; i < height + 1; i++) {\n    if (!lines[yi + ry]) break;\n    rx = 0;\n    self._maxes.slice(0, -1).forEach(function(max) {\n      rx += max;\n      if (!lines[yi + ry][xi + rx + 1]) return;\n      // center\n      if (ry === 0) {\n        // top\n        rx++;\n        lines[yi + ry][xi + rx][0] = battr;\n        lines[yi + ry][xi + rx][1] = '\\u252c'; // '\u252C'\n        // XXX If we alter iheight and itop for no borders - nothing should be written here\n        if (!self.border.top) {\n          lines[yi + ry][xi + rx][1] = '\\u2502'; // '\u2502'\n        }\n        lines[yi + ry].dirty = true;\n      } else if (ry === height) {\n        // bottom\n        rx++;\n        lines[yi + ry][xi + rx][0] = battr;\n        lines[yi + ry][xi + rx][1] = '\\u2534'; // '\u2534'\n        // XXX If we alter iheight and ibottom for no borders - nothing should be written here\n        if (!self.border.bottom) {\n          lines[yi + ry][xi + rx][1] = '\\u2502'; // '\u2502'\n        }\n        lines[yi + ry].dirty = true;\n      } else {\n        // middle\n        rx++;\n      }\n    });\n    ry += 1;\n  }\n\n  // Draw internal borders.\n  for (ry = 1; ry < height; ry++) {\n    if (!lines[yi + ry]) break;\n    rx = 0;\n    self._maxes.slice(0, -1).forEach(function(max) {\n      rx += max;\n      if (!lines[yi + ry][xi + rx + 1]) return;\n      if (self.options.fillCellBorders !== false) {\n        var lbg = lines[yi + ry][xi + rx][0] & 0x1ff;\n        rx++;\n        lines[yi + ry][xi + rx][0] = (battr & ~0x1ff) | lbg;\n      } else {\n        rx++;\n        lines[yi + ry][xi + rx][0] = battr;\n      }\n      lines[yi + ry][xi + rx][1] = '\\u2502'; // '\u2502'\n      lines[yi + ry].dirty = true;\n    });\n  }\n\n  return coords;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = ListTable;\n", "/**\n * text.js - text element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Element = require('./element');\n\n/**\n * Text\n */\n\nfunction Text(options) {\n  if (!(this instanceof Node)) {\n    return new Text(options);\n  }\n  options = options || {};\n  options.shrink = true;\n  Element.call(this, options);\n}\n\nText.prototype.__proto__ = Element.prototype;\n\nText.prototype.type = 'text';\n\n/**\n * Expose\n */\n\nmodule.exports = Text;\n", "/**\n * loading.js - loading element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\nvar Text = require('./text');\n\n/**\n * Loading\n */\n\nfunction Loading(options) {\n  if (!(this instanceof Node)) {\n    return new Loading(options);\n  }\n\n  options = options || {};\n\n  Box.call(this, options);\n\n  this._.icon = new Text({\n    parent: this,\n    align: 'center',\n    top: 2,\n    left: 1,\n    right: 1,\n    height: 1,\n    content: '|'\n  });\n}\n\nLoading.prototype.__proto__ = Box.prototype;\n\nLoading.prototype.type = 'loading';\n\nLoading.prototype.load = function(text) {\n  var self = this;\n\n  // XXX Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  this.show();\n  this.setContent(text);\n\n  if (this._.timer) {\n    this.stop();\n  }\n\n  this.screen.lockKeys = true;\n\n  this._.timer = setInterval(function() {\n    if (self._.icon.content === '|') {\n      self._.icon.setContent('/');\n    } else if (self._.icon.content === '/') {\n      self._.icon.setContent('-');\n    } else if (self._.icon.content === '-') {\n      self._.icon.setContent('\\\\');\n    } else if (self._.icon.content === '\\\\') {\n      self._.icon.setContent('|');\n    }\n    self.screen.render();\n  }, 200);\n};\n\nLoading.prototype.stop = function() {\n  this.screen.lockKeys = false;\n  this.hide();\n  if (this._.timer) {\n    clearInterval(this._.timer);\n    delete this._.timer;\n  }\n  this.screen.render();\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Loading;\n", "/**\n * message.js - message element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Message / Error\n */\n\nfunction Message(options) {\n  if (!(this instanceof Node)) {\n    return new Message(options);\n  }\n\n  options = options || {};\n  options.tags = true;\n\n  Box.call(this, options);\n}\n\nMessage.prototype.__proto__ = Box.prototype;\n\nMessage.prototype.type = 'message';\n\nMessage.prototype.log =\nMessage.prototype.display = function(text, time, callback) {\n  var self = this;\n\n  if (typeof time === 'function') {\n    callback = time;\n    time = null;\n  }\n\n  if (time == null) time = 3;\n\n  // Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  if (this.scrollable) {\n    this.screen.saveFocus();\n    this.focus();\n    this.scrollTo(0);\n  }\n\n  this.show();\n  this.setContent(text);\n  this.screen.render();\n\n  if (time === Infinity || time === -1 || time === 0) {\n    var end = function() {\n      if (end.done) return;\n      end.done = true;\n      if (self.scrollable) {\n        try {\n          self.screen.restoreFocus();\n        } catch (e) {\n          ;\n        }\n      }\n      self.hide();\n      self.screen.render();\n      if (callback) callback();\n    };\n\n    setTimeout(function() {\n      self.onScreenEvent('keypress', function fn(ch, key) {\n        if (key.name === 'mouse') return;\n        if (self.scrollable) {\n          if ((key.name === 'up' || (self.options.vi && key.name === 'k'))\n            || (key.name === 'down' || (self.options.vi && key.name === 'j'))\n            || (self.options.vi && key.name === 'u' && key.ctrl)\n            || (self.options.vi && key.name === 'd' && key.ctrl)\n            || (self.options.vi && key.name === 'b' && key.ctrl)\n            || (self.options.vi && key.name === 'f' && key.ctrl)\n            || (self.options.vi && key.name === 'g' && !key.shift)\n            || (self.options.vi && key.name === 'g' && key.shift)) {\n            return;\n          }\n        }\n        if (self.options.ignoreKeys && ~self.options.ignoreKeys.indexOf(key.name)) {\n          return;\n        }\n        self.removeScreenEvent('keypress', fn);\n        end();\n      });\n      // XXX May be affected by new element.options.mouse option.\n      if (!self.options.mouse) return;\n      self.onScreenEvent('mouse', function fn(data) {\n        if (data.action === 'mousemove') return;\n        self.removeScreenEvent('mouse', fn);\n        end();\n      });\n    }, 10);\n\n    return;\n  }\n\n  setTimeout(function() {\n    self.hide();\n    self.screen.render();\n    if (callback) callback();\n  }, time * 1000);\n};\n\nMessage.prototype.error = function(text, time, callback) {\n  return this.display('{red-fg}Error: ' + text + '{/red-fg}', time, callback);\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Message;\n", "/**\n * progressbar.js - progress bar element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Input = require('./input');\n\n/**\n * ProgressBar\n */\n\nfunction ProgressBar(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new ProgressBar(options);\n  }\n\n  options = options || {};\n\n  Input.call(this, options);\n\n  this.filled = options.filled || 0;\n  if (typeof this.filled === 'string') {\n    this.filled = +this.filled.slice(0, -1);\n  }\n  this.value = this.filled;\n\n  this.pch = options.pch || ' ';\n\n  // XXX Workaround that predates the usage of `el.ch`.\n  if (options.ch) {\n    this.pch = options.ch;\n    this.ch = ' ';\n  }\n  if (options.bch) {\n    this.ch = options.bch;\n  }\n\n  if (!this.style.bar) {\n    this.style.bar = {};\n    this.style.bar.fg = options.barFg;\n    this.style.bar.bg = options.barBg;\n  }\n\n  this.orientation = options.orientation || 'horizontal';\n\n  if (options.keys) {\n    this.on('keypress', function(ch, key) {\n      var back, forward;\n      if (self.orientation === 'horizontal') {\n        back = ['left', 'h'];\n        forward = ['right', 'l'];\n      } else if (self.orientation === 'vertical') {\n        back = ['down', 'j'];\n        forward = ['up', 'k'];\n      }\n      if (key.name === back[0] || (options.vi && key.name === back[1])) {\n        self.progress(-5);\n        self.screen.render();\n        return;\n      }\n      if (key.name === forward[0] || (options.vi && key.name === forward[1])) {\n        self.progress(5);\n        self.screen.render();\n        return;\n      }\n    });\n  }\n\n  if (options.mouse) {\n    this.on('click', function(data) {\n      var x, y, m, p;\n      if (!self.lpos) return;\n      if (self.orientation === 'horizontal') {\n        x = data.x - self.lpos.xi;\n        m = (self.lpos.xl - self.lpos.xi) - self.iwidth;\n        p = x / m * 100 | 0;\n      } else if (self.orientation === 'vertical') {\n        y = data.y - self.lpos.yi;\n        m = (self.lpos.yl - self.lpos.yi) - self.iheight;\n        p = y / m * 100 | 0;\n      }\n      self.setProgress(p);\n    });\n  }\n}\n\nProgressBar.prototype.__proto__ = Input.prototype;\n\nProgressBar.prototype.type = 'progress-bar';\n\nProgressBar.prototype.render = function() {\n  var ret = this._render();\n  if (!ret) return;\n\n  var xi = ret.xi\n    , xl = ret.xl\n    , yi = ret.yi\n    , yl = ret.yl\n    , dattr;\n\n  if (this.border) xi++, yi++, xl--, yl--;\n\n  if (this.orientation === 'horizontal') {\n    xl = xi + ((xl - xi) * (this.filled / 100)) | 0;\n  } else if (this.orientation === 'vertical') {\n    yi = yi + ((yl - yi) - (((yl - yi) * (this.filled / 100)) | 0));\n  }\n\n  dattr = this.sattr(this.style.bar);\n\n  this.screen.fillRegion(dattr, this.pch, xi, xl, yi, yl);\n\n  if (this.content) {\n    var line = this.screen.lines[yi];\n    for (var i = 0; i < this.content.length; i++) {\n      line[xi + i][1] = this.content[i];\n    }\n    line.dirty = true;\n  }\n\n  return ret;\n};\n\nProgressBar.prototype.progress = function(filled) {\n  this.filled += filled;\n  if (this.filled < 0) this.filled = 0;\n  else if (this.filled > 100) this.filled = 100;\n  if (this.filled === 100) {\n    this.emit('complete');\n  }\n  this.value = this.filled;\n};\n\nProgressBar.prototype.setProgress = function(filled) {\n  this.filled = 0;\n  this.progress(filled);\n};\n\nProgressBar.prototype.reset = function() {\n  this.emit('reset');\n  this.filled = 0;\n  this.value = this.filled;\n};\n\n/**\n * Expose\n */\n\nmodule.exports = ProgressBar;\n", "/**\n * textarea.js - textarea element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar unicode = require('../unicode');\n\nvar nextTick = global.setImmediate || process.nextTick.bind(process);\n\nvar Node = require('./node');\nvar Input = require('./input');\n\n/**\n * Textarea\n */\n\nfunction Textarea(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new Textarea(options);\n  }\n\n  options = options || {};\n\n  options.scrollable = options.scrollable !== false;\n\n  Input.call(this, options);\n\n  this.screen._listenKeys(this);\n\n  this.value = options.value || '';\n\n  this.__updateCursor = this._updateCursor.bind(this);\n  this.on('resize', this.__updateCursor);\n  this.on('move', this.__updateCursor);\n\n  if (options.inputOnFocus) {\n    this.on('focus', this.readInput.bind(this, null));\n  }\n\n  if (!options.inputOnFocus && options.keys) {\n    this.on('keypress', function(ch, key) {\n      if (self._reading) return;\n      if (key.name === 'enter' || (options.vi && key.name === 'i')) {\n        return self.readInput();\n      }\n      if (key.name === 'e') {\n        return self.readEditor();\n      }\n    });\n  }\n\n  if (options.mouse) {\n    this.on('click', function(data) {\n      if (self._reading) return;\n      if (data.button !== 'right') return;\n      self.readEditor();\n    });\n  }\n}\n\nTextarea.prototype.__proto__ = Input.prototype;\n\nTextarea.prototype.type = 'textarea';\n\nTextarea.prototype._updateCursor = function(get) {\n  if (this.screen.focused !== this) {\n    return;\n  }\n\n  var lpos = get ? this.lpos : this._getCoords();\n  if (!lpos) return;\n\n  var last = this._clines[this._clines.length - 1]\n    , program = this.screen.program\n    , line\n    , cx\n    , cy;\n\n  // Stop a situation where the textarea begins scrolling\n  // and the last cline appears to always be empty from the\n  // _typeScroll `+ '\\n'` thing.\n  // Maybe not necessary anymore?\n  if (last === '' && this.value[this.value.length - 1] !== '\\n') {\n    last = this._clines[this._clines.length - 2] || '';\n  }\n\n  line = Math.min(\n    this._clines.length - 1 - (this.childBase || 0),\n    (lpos.yl - lpos.yi) - this.iheight - 1);\n\n  // When calling clearValue() on a full textarea with a border, the first\n  // argument in the above Math.min call ends up being -2. Make sure we stay\n  // positive.\n  line = Math.max(0, line);\n\n  cy = lpos.yi + this.itop + line;\n  cx = lpos.xi + this.ileft + this.strWidth(last);\n\n  // XXX Not sure, but this may still sometimes\n  // cause problems when leaving editor.\n  if (cy === program.y && cx === program.x) {\n    return;\n  }\n\n  if (cy === program.y) {\n    if (cx > program.x) {\n      program.cuf(cx - program.x);\n    } else if (cx < program.x) {\n      program.cub(program.x - cx);\n    }\n  } else if (cx === program.x) {\n    if (cy > program.y) {\n      program.cud(cy - program.y);\n    } else if (cy < program.y) {\n      program.cuu(program.y - cy);\n    }\n  } else {\n    program.cup(cy, cx);\n  }\n};\n\nTextarea.prototype.input =\nTextarea.prototype.setInput =\nTextarea.prototype.readInput = function(callback) {\n  var self = this\n    , focused = this.screen.focused === this;\n\n  if (this._reading) return;\n  this._reading = true;\n\n  this._callback = callback;\n\n  if (!focused) {\n    this.screen.saveFocus();\n    this.focus();\n  }\n\n  this.screen.grabKeys = true;\n\n  this._updateCursor();\n  this.screen.program.showCursor();\n  //this.screen.program.sgr('normal');\n\n  this._done = function fn(err, value) {\n    if (!self._reading) return;\n\n    if (fn.done) return;\n    fn.done = true;\n\n    self._reading = false;\n\n    delete self._callback;\n    delete self._done;\n\n    self.removeListener('keypress', self.__listener);\n    delete self.__listener;\n\n    self.removeListener('blur', self.__done);\n    delete self.__done;\n\n    self.screen.program.hideCursor();\n    self.screen.grabKeys = false;\n\n    if (!focused) {\n      self.screen.restoreFocus();\n    }\n\n    if (self.options.inputOnFocus) {\n      self.screen.rewindFocus();\n    }\n\n    // Ugly\n    if (err === 'stop') return;\n\n    if (err) {\n      self.emit('error', err);\n    } else if (value != null) {\n      self.emit('submit', value);\n    } else {\n      self.emit('cancel', value);\n    }\n    self.emit('action', value);\n\n    if (!callback) return;\n\n    return err\n      ? callback(err)\n      : callback(null, value);\n  };\n\n  // Put this in a nextTick so the current\n  // key event doesn't trigger any keys input.\n  nextTick(function() {\n    self.__listener = self._listener.bind(self);\n    self.on('keypress', self.__listener);\n  });\n\n  this.__done = this._done.bind(this, null, null);\n  this.on('blur', this.__done);\n};\n\nTextarea.prototype._listener = function(ch, key) {\n  var done = this._done\n    , value = this.value;\n\n  if (key.name === 'return') return;\n  if (key.name === 'enter') {\n    ch = '\\n';\n  }\n\n  // TODO: Handle directional keys.\n  if (key.name === 'left' || key.name === 'right'\n      || key.name === 'up' || key.name === 'down') {\n    ;\n  }\n\n  if (this.options.keys && key.ctrl && key.name === 'e') {\n    return this.readEditor();\n  }\n\n  // TODO: Optimize typing by writing directly\n  // to the screen and screen buffer here.\n  if (key.name === 'escape') {\n    done(null, null);\n  } else if (key.name === 'backspace') {\n    if (this.value.length) {\n      if (this.screen.fullUnicode) {\n        if (unicode.isSurrogate(this.value, this.value.length - 2)) {\n        // || unicode.isCombining(this.value, this.value.length - 1)) {\n          this.value = this.value.slice(0, -2);\n        } else {\n          this.value = this.value.slice(0, -1);\n        }\n      } else {\n        this.value = this.value.slice(0, -1);\n      }\n    }\n  } else if (ch) {\n    if (!/^[\\x00-\\x08\\x0b-\\x0c\\x0e-\\x1f\\x7f]$/.test(ch)) {\n      this.value += ch;\n    }\n  }\n\n  if (this.value !== value) {\n    this.screen.render();\n  }\n};\n\nTextarea.prototype._typeScroll = function() {\n  // XXX Workaround\n  var height = this.height - this.iheight;\n  if (this._clines.length - this.childBase > height) {\n    this.scroll(this._clines.length);\n  }\n};\n\nTextarea.prototype.getValue = function() {\n  return this.value;\n};\n\nTextarea.prototype.setValue = function(value) {\n  if (value == null) {\n    value = this.value;\n  }\n  if (this._value !== value) {\n    this.value = value;\n    this._value = value;\n    this.setContent(this.value);\n    this._typeScroll();\n    this._updateCursor();\n  }\n};\n\nTextarea.prototype.clearInput =\nTextarea.prototype.clearValue = function() {\n  return this.setValue('');\n};\n\nTextarea.prototype.submit = function() {\n  if (!this.__listener) return;\n  return this.__listener('\\x1b', { name: 'escape' });\n};\n\nTextarea.prototype.cancel = function() {\n  if (!this.__listener) return;\n  return this.__listener('\\x1b', { name: 'escape' });\n};\n\nTextarea.prototype.render = function() {\n  this.setValue();\n  return this._render();\n};\n\nTextarea.prototype.editor =\nTextarea.prototype.setEditor =\nTextarea.prototype.readEditor = function(callback) {\n  var self = this;\n\n  if (this._reading) {\n    var _cb = this._callback\n      , cb = callback;\n\n    this._done('stop');\n\n    callback = function(err, value) {\n      if (_cb) _cb(err, value);\n      if (cb) cb(err, value);\n    };\n  }\n\n  if (!callback) {\n    callback = function() {};\n  }\n\n  return this.screen.readEditor({ value: this.value }, function(err, value) {\n    if (err) {\n      if (err.message === 'Unsuccessful.') {\n        self.screen.render();\n        return self.readInput(callback);\n      }\n      self.screen.render();\n      self.readInput(callback);\n      return callback(err);\n    }\n    self.setValue(value);\n    self.screen.render();\n    return self.readInput(callback);\n  });\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Textarea;\n", "/**\n * textbox.js - textbox element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Textarea = require('./textarea');\n\n/**\n * Textbox\n */\n\nfunction Textbox(options) {\n  if (!(this instanceof Node)) {\n    return new Textbox(options);\n  }\n\n  options = options || {};\n\n  options.scrollable = false;\n\n  Textarea.call(this, options);\n\n  this.secret = options.secret;\n  this.censor = options.censor;\n}\n\nTextbox.prototype.__proto__ = Textarea.prototype;\n\nTextbox.prototype.type = 'textbox';\n\nTextbox.prototype.__olistener = Textbox.prototype._listener;\nTextbox.prototype._listener = function(ch, key) {\n  if (key.name === 'enter') {\n    this._done(null, this.value);\n    return;\n  }\n  return this.__olistener(ch, key);\n};\n\nTextbox.prototype.setValue = function(value) {\n  var visible, val;\n  if (value == null) {\n    value = this.value;\n  }\n  if (this._value !== value) {\n    value = value.replace(/\\n/g, '');\n    this.value = value;\n    this._value = value;\n    if (this.secret) {\n      this.setContent('');\n    } else if (this.censor) {\n      this.setContent(Array(this.value.length + 1).join('*'));\n    } else {\n      visible = -(this.width - this.iwidth - 1);\n      val = this.value.replace(/\\t/g, this.screen.tabc);\n      this.setContent(val.slice(visible));\n    }\n    this._updateCursor();\n  }\n};\n\nTextbox.prototype.submit = function() {\n  if (!this.__listener) return;\n  return this.__listener('\\r', { name: 'enter' });\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Textbox;\n", "/**\n * prompt.js - prompt element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\nvar Button = require('./button');\nvar Textbox = require('./textbox');\n\n/**\n * Prompt\n */\n\nfunction Prompt(options) {\n  if (!(this instanceof Node)) {\n    return new Prompt(options);\n  }\n\n  options = options || {};\n\n  options.hidden = true;\n\n  Box.call(this, options);\n\n  this._.input = new Textbox({\n    parent: this,\n    top: 3,\n    height: 1,\n    left: 2,\n    right: 2,\n    bg: 'black'\n  });\n\n  this._.okay = new Button({\n    parent: this,\n    top: 5,\n    height: 1,\n    left: 2,\n    width: 6,\n    content: 'Okay',\n    align: 'center',\n    bg: 'black',\n    hoverBg: 'blue',\n    autoFocus: false,\n    mouse: true\n  });\n\n  this._.cancel = new Button({\n    parent: this,\n    top: 5,\n    height: 1,\n    shrink: true,\n    left: 10,\n    width: 8,\n    content: 'Cancel',\n    align: 'center',\n    bg: 'black',\n    hoverBg: 'blue',\n    autoFocus: false,\n    mouse: true\n  });\n}\n\nPrompt.prototype.__proto__ = Box.prototype;\n\nPrompt.prototype.type = 'prompt';\n\nPrompt.prototype.input =\nPrompt.prototype.setInput =\nPrompt.prototype.readInput = function(text, value, callback) {\n  var self = this;\n  var okay, cancel;\n\n  if (!callback) {\n    callback = value;\n    value = '';\n  }\n\n  // Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  this.show();\n  this.setContent(' ' + text);\n\n  this._.input.value = value;\n\n  this.screen.saveFocus();\n\n  this._.okay.on('press', okay = function() {\n    self._.input.submit();\n  });\n\n  this._.cancel.on('press', cancel = function() {\n    self._.input.cancel();\n  });\n\n  this._.input.readInput(function(err, data) {\n    self.hide();\n    self.screen.restoreFocus();\n    self._.okay.removeListener('press', okay);\n    self._.cancel.removeListener('press', cancel);\n    return callback(err, data);\n  });\n\n  this.screen.render();\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Prompt;\n", "/**\n * question.js - question element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\nvar Button = require('./button');\n\n/**\n * Question\n */\n\nfunction Question(options) {\n  if (!(this instanceof Node)) {\n    return new Question(options);\n  }\n\n  options = options || {};\n  options.hidden = true;\n\n  Box.call(this, options);\n\n  this._.okay = new Button({\n    screen: this.screen,\n    parent: this,\n    top: 2,\n    height: 1,\n    left: 2,\n    width: 6,\n    content: 'Okay',\n    align: 'center',\n    bg: 'black',\n    hoverBg: 'blue',\n    autoFocus: false,\n    mouse: true\n  });\n\n  this._.cancel = new Button({\n    screen: this.screen,\n    parent: this,\n    top: 2,\n    height: 1,\n    shrink: true,\n    left: 10,\n    width: 8,\n    content: 'Cancel',\n    align: 'center',\n    bg: 'black',\n    hoverBg: 'blue',\n    autoFocus: false,\n    mouse: true\n  });\n}\n\nQuestion.prototype.__proto__ = Box.prototype;\n\nQuestion.prototype.type = 'question';\n\nQuestion.prototype.ask = function(text, callback) {\n  var self = this;\n  var press, okay, cancel;\n\n  // Keep above:\n  // var parent = this.parent;\n  // this.detach();\n  // parent.append(this);\n\n  this.show();\n  this.setContent(' ' + text);\n\n  this.onScreenEvent('keypress', press = function(ch, key) {\n    if (key.name === 'mouse') return;\n    if (key.name !== 'enter'\n        && key.name !== 'escape'\n        && key.name !== 'q'\n        && key.name !== 'y'\n        && key.name !== 'n') {\n      return;\n    }\n    done(null, key.name === 'enter' || key.name === 'y');\n  });\n\n  this._.okay.on('press', okay = function() {\n    done(null, true);\n  });\n\n  this._.cancel.on('press', cancel = function() {\n    done(null, false);\n  });\n\n  this.screen.saveFocus();\n  this.focus();\n\n  function done(err, data) {\n    self.hide();\n    self.screen.restoreFocus();\n    self.removeScreenEvent('keypress', press);\n    self._.okay.removeListener('press', okay);\n    self._.cancel.removeListener('press', cancel);\n    return callback(err, data);\n  }\n\n  this.screen.render();\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Question;\n", "/**\n * radiobutton.js - radio button element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Checkbox = require('./checkbox');\n\n/**\n * RadioButton\n */\n\nfunction RadioButton(options) {\n  var self = this;\n\n  if (!(this instanceof Node)) {\n    return new RadioButton(options);\n  }\n\n  options = options || {};\n\n  Checkbox.call(this, options);\n\n  this.on('check', function() {\n    var el = self;\n    while (el = el.parent) {\n      if (el.type === 'radio-set'\n          || el.type === 'form') break;\n    }\n    el = el || self.parent;\n    el.forDescendants(function(el) {\n      if (el.type !== 'radio-button' || el === self) {\n        return;\n      }\n      el.uncheck();\n    });\n  });\n}\n\nRadioButton.prototype.__proto__ = Checkbox.prototype;\n\nRadioButton.prototype.type = 'radio-button';\n\nRadioButton.prototype.render = function() {\n  this.clearPos(true);\n  this.setContent('(' + (this.checked ? '*' : ' ') + ') ' + this.text, true);\n  return this._render();\n};\n\nRadioButton.prototype.toggle = RadioButton.prototype.check;\n\n/**\n * Expose\n */\n\nmodule.exports = RadioButton;\n", "/**\n * radioset.js - radio set element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * RadioSet\n */\n\nfunction RadioSet(options) {\n  if (!(this instanceof Node)) {\n    return new RadioSet(options);\n  }\n  options = options || {};\n  // Possibly inherit parent's style.\n  // options.style = this.parent.style;\n  Box.call(this, options);\n}\n\nRadioSet.prototype.__proto__ = Box.prototype;\n\nRadioSet.prototype.type = 'radio-set';\n\n/**\n * Expose\n */\n\nmodule.exports = RadioSet;\n", "/**\n * term.js - an xterm emulator\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author's permission):\n *   Fabrice Bellard's javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n;(function() {\n\n/**\n * Terminal Emulation References:\n *   http://vt100.net/\n *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.txt\n *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n *   http://invisible-island.net/vttest/\n *   http://www.inwap.com/pdp10/ansicode.txt\n *   http://linux.die.net/man/4/console_codes\n *   http://linux.die.net/man/7/urxvt\n */\n\n'use strict';\n\n/**\n * Shared\n */\n\nvar window = this\n  , document = this.document;\n\n/**\n * EventEmitter\n */\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n}\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  this._events[type] = this._events[type] || [];\n  this._events[type].push(listener);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.removeListener = function(type, listener) {\n  if (!this._events[type]) return;\n\n  var obj = this._events[type]\n    , i = obj.length;\n\n  while (i--) {\n    if (obj[i] === listener || obj[i].listener === listener) {\n      obj.splice(i, 1);\n      return;\n    }\n  }\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (this._events[type]) delete this._events[type];\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  function on() {\n    var args = Array.prototype.slice.call(arguments);\n    this.removeListener(type, on);\n    return listener.apply(this, args);\n  }\n  on.listener = listener;\n  return this.on(type, on);\n};\n\nEventEmitter.prototype.emit = function(type) {\n  if (!this._events[type]) return;\n\n  var args = Array.prototype.slice.call(arguments, 1)\n    , obj = this._events[type]\n    , l = obj.length\n    , i = 0;\n\n  for (; i < l; i++) {\n    obj[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  return this._events[type] = this._events[type] || [];\n};\n\n/**\n * Stream\n */\n\nfunction Stream() {\n  EventEmitter.call(this);\n}\n\ninherits(Stream, EventEmitter);\n\nStream.prototype.pipe = function(dest, options) {\n  var src = this\n    , ondata\n    , onerror\n    , onend;\n\n  function unbind() {\n    src.removeListener('data', ondata);\n    src.removeListener('error', onerror);\n    src.removeListener('end', onend);\n    dest.removeListener('error', onerror);\n    dest.removeListener('close', unbind);\n  }\n\n  src.on('data', ondata = function(data) {\n    dest.write(data);\n  });\n\n  src.on('error', onerror = function(err) {\n    unbind();\n    if (!this.listeners('error').length) {\n      throw err;\n    }\n  });\n\n  src.on('end', onend = function() {\n    dest.end();\n    unbind();\n  });\n\n  dest.on('error', onerror);\n  dest.on('close', unbind);\n\n  dest.emit('pipe', src);\n\n  return dest;\n};\n\n/**\n * States\n */\n\nvar normal = 0\n  , escaped = 1\n  , csi = 2\n  , osc = 3\n  , charset = 4\n  , dcs = 5\n  , ignore = 6\n  , UDK = { type: 'udk' };\n\n/**\n * Terminal\n */\n\nfunction Terminal(options) {\n  var self = this;\n\n  if (!(this instanceof Terminal)) {\n    return new Terminal(arguments[0], arguments[1], arguments[2]);\n  }\n\n  Stream.call(this);\n\n  if (typeof options === 'number') {\n    options = {\n      cols: arguments[0],\n      rows: arguments[1],\n      handler: arguments[2]\n    };\n  }\n\n  options = options || {};\n\n  each(keys(Terminal.defaults), function(key) {\n    if (options[key] == null) {\n      options[key] = Terminal.options[key];\n      // Legacy:\n      if (Terminal[key] !== Terminal.defaults[key]) {\n        options[key] = Terminal[key];\n      }\n    }\n    self[key] = options[key];\n  });\n\n  if (options.colors.length === 8) {\n    options.colors = options.colors.concat(Terminal._colors.slice(8));\n  } else if (options.colors.length === 16) {\n    options.colors = options.colors.concat(Terminal._colors.slice(16));\n  } else if (options.colors.length === 10) {\n    options.colors = options.colors.slice(0, -2).concat(\n      Terminal._colors.slice(8, -2), options.colors.slice(-2));\n  } else if (options.colors.length === 18) {\n    options.colors = options.colors.slice(0, -2).concat(\n      Terminal._colors.slice(16, -2), options.colors.slice(-2));\n  }\n  this.colors = options.colors;\n\n  this.options = options;\n\n  // this.context = options.context || window;\n  // this.document = options.document || document;\n  this.parent = options.body || options.parent\n    || (document ? document.getElementsByTagName('body')[0] : null);\n\n  this.cols = options.cols || options.geometry[0];\n  this.rows = options.rows || options.geometry[1];\n\n  // Act as though we are a node TTY stream:\n  this.setRawMode;\n  this.isTTY = true;\n  this.isRaw = true;\n  this.columns = this.cols;\n  this.rows = this.rows;\n\n  if (options.handler) {\n    this.on('data', options.handler);\n  }\n\n  this.ybase = 0;\n  this.ydisp = 0;\n  this.x = 0;\n  this.y = 0;\n  this.cursorState = 0;\n  this.cursorHidden = false;\n  this.convertEol;\n  this.state = 0;\n  this.queue = '';\n  this.scrollTop = 0;\n  this.scrollBottom = this.rows - 1;\n\n  // modes\n  this.applicationKeypad = false;\n  this.applicationCursor = false;\n  this.originMode = false;\n  this.insertMode = false;\n  this.wraparoundMode = false;\n  this.normal = null;\n\n  // select modes\n  this.prefixMode = false;\n  this.selectMode = false;\n  this.visualMode = false;\n  this.searchMode = false;\n  this.searchDown;\n  this.entry = '';\n  this.entryPrefix = 'Search: ';\n  this._real;\n  this._selected;\n  this._textarea;\n\n  // charset\n  this.charset = null;\n  this.gcharset = null;\n  this.glevel = 0;\n  this.charsets = [null];\n\n  // mouse properties\n  this.decLocator;\n  this.x10Mouse;\n  this.vt200Mouse;\n  this.vt300Mouse;\n  this.normalMouse;\n  this.mouseEvents;\n  this.sendFocus;\n  this.utfMouse;\n  this.sgrMouse;\n  this.urxvtMouse;\n\n  // misc\n  this.element;\n  this.children;\n  this.refreshStart;\n  this.refreshEnd;\n  this.savedX;\n  this.savedY;\n  this.savedCols;\n\n  // stream\n  this.readable = true;\n  this.writable = true;\n\n  this.defAttr = (0 << 18) | (257 << 9) | (256 << 0);\n  this.curAttr = this.defAttr;\n\n  this.params = [];\n  this.currentParam = 0;\n  this.prefix = '';\n  this.postfix = '';\n\n  this.lines = [];\n  var i = this.rows;\n  while (i--) {\n    this.lines.push(this.blankLine());\n  }\n\n  this.tabs;\n  this.setupStops();\n}\n\ninherits(Terminal, Stream);\n\n/**\n * Colors\n */\n\n// Colors 0-15\nTerminal.tangoColors = [\n  // dark:\n  '#2e3436',\n  '#cc0000',\n  '#4e9a06',\n  '#c4a000',\n  '#3465a4',\n  '#75507b',\n  '#06989a',\n  '#d3d7cf',\n  // bright:\n  '#555753',\n  '#ef2929',\n  '#8ae234',\n  '#fce94f',\n  '#729fcf',\n  '#ad7fa8',\n  '#34e2e2',\n  '#eeeeec'\n];\n\nTerminal.xtermColors = [\n  // dark:\n  '#000000', // black\n  '#cd0000', // red3\n  '#00cd00', // green3\n  '#cdcd00', // yellow3\n  '#0000ee', // blue2\n  '#cd00cd', // magenta3\n  '#00cdcd', // cyan3\n  '#e5e5e5', // gray90\n  // bright:\n  '#7f7f7f', // gray50\n  '#ff0000', // red\n  '#00ff00', // green\n  '#ffff00', // yellow\n  '#5c5cff', // rgb:5c/5c/ff\n  '#ff00ff', // magenta\n  '#00ffff', // cyan\n  '#ffffff'  // white\n];\n\n// Colors 0-15 + 16-255\n// Much thanks to TooTallNate for writing this.\nTerminal.colors = (function() {\n  var colors = Terminal.tangoColors.slice()\n    , r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff]\n    , i;\n\n  // 16-231\n  i = 0;\n  for (; i < 216; i++) {\n    out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);\n  }\n\n  // 232-255 (grey)\n  i = 0;\n  for (; i < 24; i++) {\n    r = 8 + i * 10;\n    out(r, r, r);\n  }\n\n  function out(r, g, b) {\n    colors.push('#' + hex(r) + hex(g) + hex(b));\n  }\n\n  function hex(c) {\n    c = c.toString(16);\n    return c.length < 2 ? '0' + c : c;\n  }\n\n  return colors;\n})();\n\n// Default BG/FG\nTerminal.colors[256] = '#000000';\nTerminal.colors[257] = '#f0f0f0';\n\nTerminal._colors = Terminal.colors.slice();\n\nTerminal.vcolors = (function() {\n  var out = []\n    , colors = Terminal.colors\n    , i = 0\n    , color;\n\n  for (; i < 256; i++) {\n    color = parseInt(colors[i].substring(1), 16);\n    out.push([\n      (color >> 16) & 0xff,\n      (color >> 8) & 0xff,\n      color & 0xff\n    ]);\n  }\n\n  return out;\n})();\n\n/**\n * Options\n */\n\nTerminal.defaults = {\n  colors: Terminal.colors,\n  convertEol: false,\n  termName: 'xterm',\n  geometry: [80, 24],\n  cursorBlink: true,\n  visualBell: false,\n  popOnBell: false,\n  scrollback: 1000,\n  screenKeys: false,\n  debug: false,\n  useStyle: false\n  // programFeatures: false,\n  // focusKeys: false,\n};\n\nTerminal.options = {};\n\neach(keys(Terminal.defaults), function(key) {\n  Terminal[key] = Terminal.defaults[key];\n  Terminal.options[key] = Terminal.defaults[key];\n});\n\n/**\n * Focused Terminal\n */\n\nTerminal.focus = null;\n\nTerminal.prototype.focus = function() {\n  if (Terminal.focus === this) return;\n\n  if (Terminal.focus) {\n    Terminal.focus.blur();\n  }\n\n  if (this.sendFocus) this.send('\\x1b[I');\n  this.showCursor();\n\n  // try {\n  //   this.element.focus();\n  // } catch (e) {\n  //   ;\n  // }\n\n  // this.emit('focus');\n\n  Terminal.focus = this;\n};\n\nTerminal.prototype.blur = function() {\n  if (Terminal.focus !== this) return;\n\n  this.cursorState = 0;\n  this.refresh(this.y, this.y);\n  if (this.sendFocus) this.send('\\x1b[O');\n\n  // try {\n  //   this.element.blur();\n  // } catch (e) {\n  //   ;\n  // }\n\n  // this.emit('blur');\n\n  Terminal.focus = null;\n};\n\n/**\n * Initialize global behavior\n */\n\nTerminal.prototype.initGlobal = function() {\n  var document = this.document;\n\n  Terminal._boundDocs = Terminal._boundDocs || [];\n  if (~indexOf(Terminal._boundDocs, document)) {\n    return;\n  }\n  Terminal._boundDocs.push(document);\n\n  Terminal.bindPaste(document);\n\n  Terminal.bindKeys(document);\n\n  Terminal.bindCopy(document);\n\n  if (this.isMobile) {\n    this.fixMobile(document);\n  }\n\n  if (this.useStyle) {\n    Terminal.insertStyle(document, this.colors[256], this.colors[257]);\n  }\n};\n\n/**\n * Bind to paste event\n */\n\nTerminal.bindPaste = function(document) {\n  // This seems to work well for ctrl-V and middle-click,\n  // even without the contentEditable workaround.\n  var window = document.defaultView;\n  on(window, 'paste', function(ev) {\n    var term = Terminal.focus;\n    if (!term) return;\n    if (ev.clipboardData) {\n      term.send(ev.clipboardData.getData('text/plain'));\n    } else if (term.context.clipboardData) {\n      term.send(term.context.clipboardData.getData('Text'));\n    }\n    // Not necessary. Do it anyway for good measure.\n    term.element.contentEditable = 'inherit';\n    return cancel(ev);\n  });\n};\n\n/**\n * Global Events for key handling\n */\n\nTerminal.bindKeys = function(document) {\n  // We should only need to check `target === body` below,\n  // but we can check everything for good measure.\n  on(document, 'keydown', function(ev) {\n    if (!Terminal.focus) return;\n    var target = ev.target || ev.srcElement;\n    if (!target) return;\n    if (target === Terminal.focus.element\n        || target === Terminal.focus.context\n        || target === Terminal.focus.document\n        || target === Terminal.focus.body\n        || target === Terminal._textarea\n        || target === Terminal.focus.parent) {\n      return Terminal.focus.keyDown(ev);\n    }\n  }, true);\n\n  on(document, 'keypress', function(ev) {\n    if (!Terminal.focus) return;\n    var target = ev.target || ev.srcElement;\n    if (!target) return;\n    if (target === Terminal.focus.element\n        || target === Terminal.focus.context\n        || target === Terminal.focus.document\n        || target === Terminal.focus.body\n        || target === Terminal._textarea\n        || target === Terminal.focus.parent) {\n      return Terminal.focus.keyPress(ev);\n    }\n  }, true);\n\n  // If we click somewhere other than a\n  // terminal, unfocus the terminal.\n  on(document, 'mousedown', function(ev) {\n    if (!Terminal.focus) return;\n\n    var el = ev.target || ev.srcElement;\n    if (!el) return;\n\n    do {\n      if (el === Terminal.focus.element) return;\n    } while (el = el.parentNode);\n\n    Terminal.focus.blur();\n  });\n};\n\n/**\n * Copy Selection w/ Ctrl-C (Select Mode)\n */\n\nTerminal.bindCopy = function(document) {\n  var window = document.defaultView;\n\n  // if (!('onbeforecopy' in document)) {\n  //   // Copies to *only* the clipboard.\n  //   on(window, 'copy', function fn(ev) {\n  //     var term = Terminal.focus;\n  //     if (!term) return;\n  //     if (!term._selected) return;\n  //     var text = term.grabText(\n  //       term._selected.x1, term._selected.x2,\n  //       term._selected.y1, term._selected.y2);\n  //     term.emit('copy', text);\n  //     ev.clipboardData.setData('text/plain', text);\n  //   });\n  //   return;\n  // }\n\n  // Copies to primary selection *and* clipboard.\n  // NOTE: This may work better on capture phase,\n  // or using the `beforecopy` event.\n  on(window, 'copy', function(ev) {\n    var term = Terminal.focus;\n    if (!term) return;\n    if (!term._selected) return;\n    var textarea = term.getCopyTextarea();\n    var text = term.grabText(\n      term._selected.x1, term._selected.x2,\n      term._selected.y1, term._selected.y2);\n    term.emit('copy', text);\n    textarea.focus();\n    textarea.textContent = text;\n    textarea.value = text;\n    textarea.setSelectionRange(0, text.length);\n    setTimeout(function() {\n      term.element.focus();\n      term.focus();\n    }, 1);\n  });\n};\n\n/**\n * Fix Mobile\n */\n\nTerminal.prototype.fixMobile = function(document) {\n  var self = this;\n\n  var textarea = document.createElement('textarea');\n  textarea.style.position = 'absolute';\n  textarea.style.left = '-32000px';\n  textarea.style.top = '-32000px';\n  textarea.style.width = '0px';\n  textarea.style.height = '0px';\n  textarea.style.opacity = '0';\n  textarea.style.backgroundColor = 'transparent';\n  textarea.style.borderStyle = 'none';\n  textarea.style.outlineStyle = 'none';\n  textarea.autocapitalize = 'none';\n  textarea.autocorrect = 'off';\n\n  document.getElementsByTagName('body')[0].appendChild(textarea);\n\n  Terminal._textarea = textarea;\n\n  setTimeout(function() {\n    textarea.focus();\n  }, 1000);\n\n  if (this.isAndroid) {\n    on(textarea, 'change', function() {\n      var value = textarea.textContent || textarea.value;\n      textarea.value = '';\n      textarea.textContent = '';\n      self.send(value + '\\r');\n    });\n  }\n};\n\n/**\n * Insert a default style\n */\n\nTerminal.insertStyle = function(document, bg, fg) {\n  var style = document.getElementById('term-style');\n  if (style) return;\n\n  var head = document.getElementsByTagName('head')[0];\n  if (!head) return;\n\n  var style = document.createElement('style');\n  style.id = 'term-style';\n\n  // textContent doesn't work well with IE for <style> elements.\n  style.innerHTML = ''\n    + '.terminal {\\n'\n    + '  float: left;\\n'\n    + '  border: ' + bg + ' solid 5px;\\n'\n    + '  font-family: \"DejaVu Sans Mono\", \"Liberation Mono\", monospace;\\n'\n    + '  font-size: 11px;\\n'\n    + '  color: ' + fg + ';\\n'\n    + '  background: ' + bg + ';\\n'\n    + '}\\n'\n    + '\\n'\n    + '.terminal-cursor {\\n'\n    + '  color: ' + bg + ';\\n'\n    + '  background: ' + fg + ';\\n'\n    + '}\\n';\n\n  // var out = '';\n  // each(Terminal.colors, function(color, i) {\n  //   if (i === 256) {\n  //     out += '\\n.term-bg-color-default { background-color: ' + color + '; }';\n  //   }\n  //   if (i === 257) {\n  //     out += '\\n.term-fg-color-default { color: ' + color + '; }';\n  //   }\n  //   out += '\\n.term-bg-color-' + i + ' { background-color: ' + color + '; }';\n  //   out += '\\n.term-fg-color-' + i + ' { color: ' + color + '; }';\n  // });\n  // style.innerHTML += out + '\\n';\n\n  head.insertBefore(style, head.firstChild);\n};\n\n/**\n * Open Terminal\n */\n\nTerminal.prototype.open = function(parent) {\n  var self = this\n    , i = 0\n    , div;\n\n  this.parent = parent || this.parent;\n\n  if (!this.parent) {\n    throw new Error('Terminal requires a parent element.');\n  }\n\n  // Grab global elements.\n  this.context = this.parent.ownerDocument.defaultView;\n  this.document = this.parent.ownerDocument;\n  this.body = this.document.getElementsByTagName('body')[0];\n\n  // Parse user-agent strings.\n  if (this.context.navigator && this.context.navigator.userAgent) {\n    this.isMac = !!~this.context.navigator.userAgent.indexOf('Mac');\n    this.isIpad = !!~this.context.navigator.userAgent.indexOf('iPad');\n    this.isIphone = !!~this.context.navigator.userAgent.indexOf('iPhone');\n    this.isAndroid = !!~this.context.navigator.userAgent.indexOf('Android');\n    this.isMobile = this.isIpad || this.isIphone || this.isAndroid;\n    this.isMSIE = !!~this.context.navigator.userAgent.indexOf('MSIE');\n  }\n\n  // Create our main terminal element.\n  this.element = this.document.createElement('div');\n  this.element.className = 'terminal';\n  this.element.style.outline = 'none';\n  this.element.setAttribute('tabindex', 0);\n  this.element.setAttribute('spellcheck', 'false');\n  this.element.style.backgroundColor = this.colors[256];\n  this.element.style.color = this.colors[257];\n\n  // Create the lines for our terminal.\n  this.children = [];\n  for (; i < this.rows; i++) {\n    div = this.document.createElement('div');\n    this.element.appendChild(div);\n    this.children.push(div);\n  }\n  this.parent.appendChild(this.element);\n\n  // Draw the screen.\n  this.refresh(0, this.rows - 1);\n\n  if (!('useEvents' in this.options) || this.options.useEvents) {\n    // Initialize global actions that\n    // need to be taken on the document.\n    this.initGlobal();\n  }\n\n  if (!('useFocus' in this.options) || this.options.useFocus) {\n    // Ensure there is a Terminal.focus.\n    this.focus();\n\n    // Start blinking the cursor.\n    this.startBlink();\n\n    // Bind to DOM events related\n    // to focus and paste behavior.\n    on(this.element, 'focus', function() {\n      self.focus();\n      if (self.isMobile) {\n        Terminal._textarea.focus();\n      }\n    });\n\n    // This causes slightly funky behavior.\n    // on(this.element, 'blur', function() {\n    //   self.blur();\n    // });\n\n    on(this.element, 'mousedown', function() {\n      self.focus();\n    });\n\n    // Clickable paste workaround, using contentEditable.\n    // This probably shouldn't work,\n    // ... but it does. Firefox's paste\n    // event seems to only work for textareas?\n    on(this.element, 'mousedown', function(ev) {\n      var button = ev.button != null\n        ? +ev.button\n        : ev.which != null\n          ? ev.which - 1\n          : null;\n\n      // Does IE9 do this?\n      if (self.isMSIE) {\n        button = button === 1 ? 0 : button === 4 ? 1 : button;\n      }\n\n      if (button !== 2) return;\n\n      self.element.contentEditable = 'true';\n      setTimeout(function() {\n        self.element.contentEditable = 'inherit'; // 'false';\n      }, 1);\n    }, true);\n  }\n\n  if (!('useMouse' in this.options) || this.options.useMouse) {\n    // Listen for mouse events and translate\n    // them into terminal mouse protocols.\n    this.bindMouse();\n  }\n\n  // this.emit('open');\n\n  if (!('useFocus' in this.options) || this.options.useFocus) {\n      // This can be useful for pasting,\n      // as well as the iPad fix.\n      setTimeout(function() {\n        self.element.focus();\n      }, 100);\n  }\n\n  // Figure out whether boldness affects\n  // the character width of monospace fonts.\n  if (Terminal.brokenBold == null) {\n    Terminal.brokenBold = isBoldBroken(this.document);\n  }\n\n  this.emit('open');\n};\n\nTerminal.prototype.setRawMode = function(value) {\n  this.isRaw = !!value;\n};\n\n// XTerm mouse events\n// http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n// To better understand these\n// the xterm code is very helpful:\n// Relevant files:\n//   button.c, charproc.c, misc.c\n// Relevant functions in xterm/button.c:\n//   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\nTerminal.prototype.bindMouse = function() {\n  var el = this.element\n    , self = this\n    , pressed = 32;\n\n  var wheelEvent = 'onmousewheel' in this.context\n    ? 'mousewheel'\n    : 'DOMMouseScroll';\n\n  // mouseup, mousedown, mousewheel\n  // left click: ^[[M 3<^[[M#3<\n  // mousewheel up: ^[[M`3>\n  function sendButton(ev) {\n    var button\n      , pos;\n\n    // get the xterm-style button\n    button = getButton(ev);\n\n    // get mouse coordinates\n    pos = getCoords(ev);\n    if (!pos) return;\n\n    sendEvent(button, pos);\n\n    switch (ev.type) {\n      case 'mousedown':\n        pressed = button;\n        break;\n      case 'mouseup':\n        // keep it at the left\n        // button, just in case.\n        pressed = 32;\n        break;\n      case wheelEvent:\n        // nothing. don't\n        // interfere with\n        // `pressed`.\n        break;\n    }\n  }\n\n  // motion example of a left click:\n  // ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n  function sendMove(ev) {\n    var button = pressed\n      , pos;\n\n    pos = getCoords(ev);\n    if (!pos) return;\n\n    // buttons marked as motions\n    // are incremented by 32\n    button += 32;\n\n    sendEvent(button, pos);\n  }\n\n  // encode button and\n  // position to characters\n  function encode(data, ch) {\n    if (!self.utfMouse) {\n      if (ch === 255) return data.push(0);\n      if (ch > 127) ch = 127;\n      data.push(ch);\n    } else {\n      if (ch === 2047) return data.push(0);\n      if (ch < 127) {\n        data.push(ch);\n      } else {\n        if (ch > 2047) ch = 2047;\n        data.push(0xC0 | (ch >> 6));\n        data.push(0x80 | (ch & 0x3F));\n      }\n    }\n  }\n\n  // send a mouse event:\n  // regular/utf8: ^[[M Cb Cx Cy\n  // urxvt: ^[[ Cb ; Cx ; Cy M\n  // sgr: ^[[ Cb ; Cx ; Cy M/m\n  // vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n  // locator: CSI P e ; P b ; P r ; P c ; P p & w\n  function sendEvent(button, pos) {\n    // self.emit('mouse', {\n    //   x: pos.x - 32,\n    //   y: pos.x - 32,\n    //   button: button\n    // });\n\n    if (self.vt300Mouse) {\n      // NOTE: Unstable.\n      // http://www.vt100.net/docs/vt3xx-gp/chapter15.html\n      button &= 3;\n      pos.x -= 32;\n      pos.y -= 32;\n      var data = '\\x1b[24';\n      if (button === 0) data += '1';\n      else if (button === 1) data += '3';\n      else if (button === 2) data += '5';\n      else if (button === 3) return;\n      else data += '0';\n      data += '~[' + pos.x + ',' + pos.y + ']\\r';\n      self.send(data);\n      return;\n    }\n\n    if (self.decLocator) {\n      // NOTE: Unstable.\n      button &= 3;\n      pos.x -= 32;\n      pos.y -= 32;\n      if (button === 0) button = 2;\n      else if (button === 1) button = 4;\n      else if (button === 2) button = 6;\n      else if (button === 3) button = 3;\n      self.send('\\x1b['\n        + button\n        + ';'\n        + (button === 3 ? 4 : 0)\n        + ';'\n        + pos.y\n        + ';'\n        + pos.x\n        + ';'\n        + (pos.page || 0)\n        + '&w');\n      return;\n    }\n\n    if (self.urxvtMouse) {\n      pos.x -= 32;\n      pos.y -= 32;\n      pos.x++;\n      pos.y++;\n      self.send('\\x1b[' + button + ';' + pos.x + ';' + pos.y + 'M');\n      return;\n    }\n\n    if (self.sgrMouse) {\n      pos.x -= 32;\n      pos.y -= 32;\n      self.send('\\x1b[<'\n        + ((button & 3) === 3 ? button & ~3 : button)\n        + ';'\n        + pos.x\n        + ';'\n        + pos.y\n        + ((button & 3) === 3 ? 'm' : 'M'));\n      return;\n    }\n\n    var data = [];\n\n    encode(data, button);\n    encode(data, pos.x);\n    encode(data, pos.y);\n\n    self.send('\\x1b[M' + String.fromCharCode.apply(String, data));\n  }\n\n  function getButton(ev) {\n    var button\n      , shift\n      , meta\n      , ctrl\n      , mod;\n\n    // two low bits:\n    // 0 = left\n    // 1 = middle\n    // 2 = right\n    // 3 = release\n    // wheel up/down:\n    // 1, and 2 - with 64 added\n    switch (ev.type) {\n      case 'mousedown':\n        button = ev.button != null\n          ? +ev.button\n          : ev.which != null\n            ? ev.which - 1\n            : null;\n\n        if (self.isMSIE) {\n          button = button === 1 ? 0 : button === 4 ? 1 : button;\n        }\n        break;\n      case 'mouseup':\n        button = 3;\n        break;\n      case 'DOMMouseScroll':\n        button = ev.detail < 0\n          ? 64\n          : 65;\n        break;\n      case 'mousewheel':\n        button = ev.wheelDeltaY > 0\n          ? 64\n          : 65;\n        break;\n    }\n\n    // next three bits are the modifiers:\n    // 4 = shift, 8 = meta, 16 = control\n    shift = ev.shiftKey ? 4 : 0;\n    meta = ev.metaKey ? 8 : 0;\n    ctrl = ev.ctrlKey ? 16 : 0;\n    mod = shift | meta | ctrl;\n\n    // no mods\n    if (self.vt200Mouse) {\n      // ctrl only\n      mod &= ctrl;\n    } else if (!self.normalMouse) {\n      mod = 0;\n    }\n\n    // increment to SP\n    button = (32 + (mod << 2)) + button;\n\n    return button;\n  }\n\n  // mouse coordinates measured in cols/rows\n  function getCoords(ev) {\n    var x, y, w, h, el;\n\n    // ignore browsers without pageX for now\n    if (ev.pageX == null) return;\n\n    x = ev.pageX;\n    y = ev.pageY;\n    el = self.element;\n\n    // should probably check offsetParent\n    // but this is more portable\n    while (el && el !== self.document.documentElement) {\n      x -= el.offsetLeft;\n      y -= el.offsetTop;\n      el = 'offsetParent' in el\n        ? el.offsetParent\n        : el.parentNode;\n    }\n\n    // convert to cols/rows\n    w = self.element.clientWidth;\n    h = self.element.clientHeight;\n    x = Math.round((x / w) * self.cols);\n    y = Math.round((y / h) * self.rows);\n\n    // be sure to avoid sending\n    // bad positions to the program\n    if (x < 0) x = 0;\n    if (x > self.cols) x = self.cols;\n    if (y < 0) y = 0;\n    if (y > self.rows) y = self.rows;\n\n    // xterm sends raw bytes and\n    // starts at 32 (SP) for each.\n    x += 32;\n    y += 32;\n\n    return {\n      x: x,\n      y: y,\n      type: ev.type === wheelEvent\n        ? 'mousewheel'\n        : ev.type\n    };\n  }\n\n  on(el, 'mousedown', function(ev) {\n    if (!self.mouseEvents) return;\n\n    // send the button\n    sendButton(ev);\n\n    // ensure focus\n    self.focus();\n\n    // fix for odd bug\n    //if (self.vt200Mouse && !self.normalMouse) {\n    // XXX This seems to break certain programs.\n    // if (self.vt200Mouse) {\n    //   sendButton({ __proto__: ev, type: 'mouseup' });\n    //   return cancel(ev);\n    // }\n\n    // bind events\n    if (self.normalMouse) on(self.document, 'mousemove', sendMove);\n\n    // x10 compatibility mode can't send button releases\n    if (!self.x10Mouse) {\n      on(self.document, 'mouseup', function up(ev) {\n        sendButton(ev);\n        if (self.normalMouse) off(self.document, 'mousemove', sendMove);\n        off(self.document, 'mouseup', up);\n        return cancel(ev);\n      });\n    }\n\n    return cancel(ev);\n  });\n\n  //if (self.normalMouse) {\n  //  on(self.document, 'mousemove', sendMove);\n  //}\n\n  on(el, wheelEvent, function(ev) {\n    if (!self.mouseEvents) return;\n    if (self.x10Mouse\n        || self.vt300Mouse\n        || self.decLocator) return;\n    sendButton(ev);\n    return cancel(ev);\n  });\n\n  // allow mousewheel scrolling in\n  // the shell for example\n  on(el, wheelEvent, function(ev) {\n    if (self.mouseEvents) return;\n    if (self.applicationKeypad) return;\n    if (ev.type === 'DOMMouseScroll') {\n      self.scrollDisp(ev.detail < 0 ? -5 : 5);\n    } else {\n      self.scrollDisp(ev.wheelDeltaY > 0 ? -5 : 5);\n    }\n    return cancel(ev);\n  });\n};\n\n/**\n * Destroy Terminal\n */\n\nTerminal.prototype.close =\nTerminal.prototype.destroySoon =\nTerminal.prototype.destroy = function() {\n  if (this.destroyed) {\n    return;\n  }\n\n  if (this._blink) {\n    clearInterval(this._blink);\n    delete this._blink;\n  }\n\n  this.readable = false;\n  this.writable = false;\n  this.destroyed = true;\n  this._events = {};\n\n  this.handler = function() {};\n  this.write = function() {};\n  this.end = function() {};\n\n  if (this.element.parentNode) {\n    this.element.parentNode.removeChild(this.element);\n  }\n\n  this.emit('end');\n  this.emit('close');\n  this.emit('finish');\n  this.emit('destroy');\n};\n\n/**\n * Rendering Engine\n */\n\n// In the screen buffer, each character\n// is stored as a an array with a character\n// and a 32-bit integer.\n// First value: a utf-16 character.\n// Second value:\n// Next 9 bits: background color (0-511).\n// Next 9 bits: foreground color (0-511).\n// Next 14 bits: a mask for misc. flags:\n//   1=bold, 2=underline, 4=blink, 8=inverse, 16=invisible\n\nTerminal.prototype.refresh = function(start, end) {\n  var x\n    , y\n    , i\n    , line\n    , out\n    , ch\n    , width\n    , data\n    , attr\n    , bg\n    , fg\n    , flags\n    , row\n    , parent;\n\n  if (end - start >= this.rows / 2) {\n    parent = this.element.parentNode;\n    if (parent) parent.removeChild(this.element);\n  }\n\n  width = this.cols;\n  y = start;\n\n  if (end >= this.lines.length) {\n    this.log('`end` is too large. Most likely a bad CSR.');\n    end = this.lines.length - 1;\n  }\n\n  for (; y <= end; y++) {\n    row = y + this.ydisp;\n\n    line = this.lines[row];\n    out = '';\n\n    if (y === this.y\n        && this.cursorState\n        && (this.ydisp === this.ybase || this.selectMode)\n        && !this.cursorHidden) {\n      x = this.x;\n    } else {\n      x = -1;\n    }\n\n    attr = this.defAttr;\n    i = 0;\n\n    for (; i < width; i++) {\n      data = line[i][0];\n      ch = line[i][1];\n\n      if (i === x) data = -1;\n\n      if (data !== attr) {\n        if (attr !== this.defAttr) {\n          out += '</span>';\n        }\n        if (data !== this.defAttr) {\n          if (data === -1) {\n            out += '<span class=\"reverse-video terminal-cursor\">';\n          } else {\n            out += '<span style=\"';\n\n            bg = data & 0x1ff;\n            fg = (data >> 9) & 0x1ff;\n            flags = data >> 18;\n\n            // bold\n            if (flags & 1) {\n              if (!Terminal.brokenBold) {\n                out += 'font-weight:bold;';\n              }\n              // See: XTerm*boldColors\n              if (fg < 8) fg += 8;\n            }\n\n            // underline\n            if (flags & 2) {\n              out += 'text-decoration:underline;';\n            }\n\n            // blink\n            if (flags & 4) {\n              if (flags & 2) {\n                out = out.slice(0, -1);\n                out += ' blink;';\n              } else {\n                out += 'text-decoration:blink;';\n              }\n            }\n\n            // inverse\n            if (flags & 8) {\n              bg = (data >> 9) & 0x1ff;\n              fg = data & 0x1ff;\n              // Should inverse just be before the\n              // above boldColors effect instead?\n              if ((flags & 1) && fg < 8) fg += 8;\n            }\n\n            // invisible\n            if (flags & 16) {\n              out += 'visibility:hidden;';\n            }\n\n            // out += '\" class=\"'\n            //   + 'term-bg-color-' + bg\n            //   + ' '\n            //   + 'term-fg-color-' + fg\n            //   + '\">';\n\n            if (bg !== 256) {\n              out += 'background-color:'\n                + this.colors[bg]\n                + ';';\n            }\n\n            if (fg !== 257) {\n              out += 'color:'\n                + this.colors[fg]\n                + ';';\n            }\n\n            out += '\">';\n          }\n        }\n      }\n\n      switch (ch) {\n        case '&':\n          out += '&amp;';\n          break;\n        case '<':\n          out += '&lt;';\n          break;\n        case '>':\n          out += '&gt;';\n          break;\n        default:\n          if (ch <= ' ') {\n            out += '&nbsp;';\n          } else {\n            if (isWide(ch)) i++;\n            out += ch;\n          }\n          break;\n      }\n\n      attr = data;\n    }\n\n    if (attr !== this.defAttr) {\n      out += '</span>';\n    }\n\n    this.children[y].innerHTML = out;\n  }\n\n  if (parent) parent.appendChild(this.element);\n};\n\nTerminal.prototype._cursorBlink = function() {\n  if (Terminal.focus !== this) return;\n  this.cursorState ^= 1;\n  this.refresh(this.y, this.y);\n};\n\nTerminal.prototype.showCursor = function() {\n  if (!this.cursorState) {\n    this.cursorState = 1;\n    this.refresh(this.y, this.y);\n  } else {\n    // Temporarily disabled:\n    // this.refreshBlink();\n  }\n};\n\nTerminal.prototype.startBlink = function() {\n  if (!this.cursorBlink) return;\n  var self = this;\n  this._blinker = function() {\n    self._cursorBlink();\n  };\n  this._blink = setInterval(this._blinker, 500);\n};\n\nTerminal.prototype.refreshBlink = function() {\n  if (!this.cursorBlink || !this._blink) return;\n  clearInterval(this._blink);\n  this._blink = setInterval(this._blinker, 500);\n};\n\nTerminal.prototype.scroll = function() {\n  var row;\n\n  if (++this.ybase === this.scrollback) {\n    this.ybase = this.ybase / 2 | 0;\n    this.lines = this.lines.slice(-(this.ybase + this.rows) + 1);\n  }\n\n  this.ydisp = this.ybase;\n\n  // last line\n  row = this.ybase + this.rows - 1;\n\n  // subtract the bottom scroll region\n  row -= this.rows - 1 - this.scrollBottom;\n\n  if (row === this.lines.length) {\n    // potential optimization:\n    // pushing is faster than splicing\n    // when they amount to the same\n    // behavior.\n    this.lines.push(this.blankLine());\n  } else {\n    // add our new line\n    this.lines.splice(row, 0, this.blankLine());\n  }\n\n  if (this.scrollTop !== 0) {\n    if (this.ybase !== 0) {\n      this.ybase--;\n      this.ydisp = this.ybase;\n    }\n    this.lines.splice(this.ybase + this.scrollTop, 1);\n  }\n\n  // this.maxRange();\n  this.updateRange(this.scrollTop);\n  this.updateRange(this.scrollBottom);\n};\n\nTerminal.prototype.scrollDisp = function(disp) {\n  this.ydisp += disp;\n\n  if (this.ydisp > this.ybase) {\n    this.ydisp = this.ybase;\n  } else if (this.ydisp < 0) {\n    this.ydisp = 0;\n  }\n\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.write = function(data) {\n  var l = data.length\n    , i = 0\n    , j\n    , cs\n    , ch;\n\n  this.refreshStart = this.y;\n  this.refreshEnd = this.y;\n\n  if (this.ybase !== this.ydisp) {\n    this.ydisp = this.ybase;\n    this.maxRange();\n  }\n\n  // this.log(JSON.stringify(data.replace(/\\x1b/g, '^[')));\n\n  for (; i < l; i++, this.lch = ch) {\n    ch = data[i];\n    switch (this.state) {\n      case normal:\n        switch (ch) {\n          // '\\0'\n          // case '\\0':\n          // case '\\200':\n          //   break;\n\n          // '\\a'\n          case '\\x07':\n            this.bell();\n            break;\n\n          // '\\n', '\\v', '\\f'\n          case '\\n':\n          case '\\x0b':\n          case '\\x0c':\n            if (this.convertEol) {\n              this.x = 0;\n            }\n            // TODO: Implement eat_newline_glitch.\n            // if (this.realX >= this.cols) break;\n            // this.realX = 0;\n            this.y++;\n            if (this.y > this.scrollBottom) {\n              this.y--;\n              this.scroll();\n            }\n            break;\n\n          // '\\r'\n          case '\\r':\n            this.x = 0;\n            break;\n\n          // '\\b'\n          case '\\x08':\n            if (this.x > 0) {\n              this.x--;\n            }\n            break;\n\n          // '\\t'\n          case '\\t':\n            this.x = this.nextStop();\n            break;\n\n          // shift out\n          case '\\x0e':\n            this.setgLevel(1);\n            break;\n\n          // shift in\n          case '\\x0f':\n            this.setgLevel(0);\n            break;\n\n          // '\\e'\n          case '\\x1b':\n            this.state = escaped;\n            break;\n\n          default:\n            // ' '\n            if (ch >= ' ') {\n              if (this.charset && this.charset[ch]) {\n                ch = this.charset[ch];\n              }\n\n              if (this.x >= this.cols) {\n                this.x = 0;\n                this.y++;\n                if (this.y > this.scrollBottom) {\n                  this.y--;\n                  this.scroll();\n                }\n              }\n\n              this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];\n              this.x++;\n              this.updateRange(this.y);\n\n              if (isWide(ch)) {\n                j = this.y + this.ybase;\n                if (this.cols < 2 || this.x >= this.cols) {\n                  this.lines[j][this.x - 1] = [this.curAttr, ' '];\n                  break;\n                }\n                this.lines[j][this.x] = [this.curAttr, ' '];\n                this.x++;\n              }\n            }\n            break;\n        }\n        break;\n      case escaped:\n        switch (ch) {\n          // ESC [ Control Sequence Introducer ( CSI is 0x9b).\n          case '[':\n            this.params = [];\n            this.currentParam = 0;\n            this.state = csi;\n            break;\n\n          // ESC ] Operating System Command ( OSC is 0x9d).\n          case ']':\n            this.params = [];\n            this.currentParam = 0;\n            this.state = osc;\n            break;\n\n          // ESC P Device Control String ( DCS is 0x90).\n          case 'P':\n            this.params = [];\n            this.prefix = '';\n            this.currentParam = '';\n            this.state = dcs;\n            break;\n\n          // ESC _ Application Program Command ( APC is 0x9f).\n          case '_':\n            this.state = ignore;\n            break;\n\n          // ESC ^ Privacy Message ( PM is 0x9e).\n          case '^':\n            this.state = ignore;\n            break;\n\n          // ESC c Full Reset (RIS).\n          case 'c':\n            this.reset();\n            break;\n\n          // ESC E Next Line ( NEL is 0x85).\n          // ESC D Index ( IND is 0x84).\n          case 'E':\n            this.x = 0;\n            ;\n          case 'D':\n            this.index();\n            break;\n\n          // ESC M Reverse Index ( RI is 0x8d).\n          case 'M':\n            this.reverseIndex();\n            break;\n\n          // ESC % Select default/utf-8 character set.\n          // @ = default, G = utf-8\n          case '%':\n            //this.charset = null;\n            this.setgLevel(0);\n            this.setgCharset(0, Terminal.charsets.US);\n            this.state = normal;\n            i++;\n            break;\n\n          // ESC (,),*,+,-,. Designate G0-G2 Character Set.\n          case '(': // <-- this seems to get all the attention\n          case ')':\n          case '*':\n          case '+':\n          case '-':\n          case '.':\n            switch (ch) {\n              case '(':\n                this.gcharset = 0;\n                break;\n              case ')':\n                this.gcharset = 1;\n                break;\n              case '*':\n                this.gcharset = 2;\n                break;\n              case '+':\n                this.gcharset = 3;\n                break;\n              case '-':\n                this.gcharset = 1;\n                break;\n              case '.':\n                this.gcharset = 2;\n                break;\n            }\n            this.state = charset;\n            break;\n\n          // Designate G3 Character Set (VT300).\n          // A = ISO Latin-1 Supplemental.\n          // Not implemented.\n          case '/':\n            this.gcharset = 3;\n            this.state = charset;\n            i--;\n            break;\n\n          // ESC N\n          // Single Shift Select of G2 Character Set\n          // ( SS2 is 0x8e). This affects next character only.\n          case 'N':\n            break;\n          // ESC O\n          // Single Shift Select of G3 Character Set\n          // ( SS3 is 0x8f). This affects next character only.\n          case 'O':\n            break;\n          // ESC n\n          // Invoke the G2 Character Set as GL (LS2).\n          case 'n':\n            this.setgLevel(2);\n            break;\n          // ESC o\n          // Invoke the G3 Character Set as GL (LS3).\n          case 'o':\n            this.setgLevel(3);\n            break;\n          // ESC |\n          // Invoke the G3 Character Set as GR (LS3R).\n          case '|':\n            this.setgLevel(3);\n            break;\n          // ESC }\n          // Invoke the G2 Character Set as GR (LS2R).\n          case '}':\n            this.setgLevel(2);\n            break;\n          // ESC ~\n          // Invoke the G1 Character Set as GR (LS1R).\n          case '~':\n            this.setgLevel(1);\n            break;\n\n          // ESC 7 Save Cursor (DECSC).\n          case '7':\n            this.saveCursor();\n            this.state = normal;\n            break;\n\n          // ESC 8 Restore Cursor (DECRC).\n          case '8':\n            this.restoreCursor();\n            this.state = normal;\n            break;\n\n          // ESC # 3 DEC line height/width\n          case '#':\n            this.state = normal;\n            i++;\n            break;\n\n          // ESC H Tab Set (HTS is 0x88).\n          case 'H':\n            this.tabSet();\n            break;\n\n          // ESC = Application Keypad (DECPAM).\n          case '=':\n            this.log('Serial port requested application keypad.');\n            this.applicationKeypad = true;\n            this.state = normal;\n            break;\n\n          // ESC > Normal Keypad (DECPNM).\n          case '>':\n            this.log('Switching back to normal keypad.');\n            this.applicationKeypad = false;\n            this.state = normal;\n            break;\n\n          default:\n            this.state = normal;\n            this.error('Unknown ESC control: %s.', ch);\n            break;\n        }\n        break;\n\n      case charset:\n        switch (ch) {\n          case '0': // DEC Special Character and Line Drawing Set.\n            cs = Terminal.charsets.SCLD;\n            break;\n          case 'A': // UK\n            cs = Terminal.charsets.UK;\n            break;\n          case 'B': // United States (USASCII).\n            cs = Terminal.charsets.US;\n            break;\n          case '4': // Dutch\n            cs = Terminal.charsets.Dutch;\n            break;\n          case 'C': // Finnish\n          case '5':\n            cs = Terminal.charsets.Finnish;\n            break;\n          case 'R': // French\n            cs = Terminal.charsets.French;\n            break;\n          case 'Q': // FrenchCanadian\n            cs = Terminal.charsets.FrenchCanadian;\n            break;\n          case 'K': // German\n            cs = Terminal.charsets.German;\n            break;\n          case 'Y': // Italian\n            cs = Terminal.charsets.Italian;\n            break;\n          case 'E': // NorwegianDanish\n          case '6':\n            cs = Terminal.charsets.NorwegianDanish;\n            break;\n          case 'Z': // Spanish\n            cs = Terminal.charsets.Spanish;\n            break;\n          case 'H': // Swedish\n          case '7':\n            cs = Terminal.charsets.Swedish;\n            break;\n          case '=': // Swiss\n            cs = Terminal.charsets.Swiss;\n            break;\n          case '/': // ISOLatin (actually /A)\n            cs = Terminal.charsets.ISOLatin;\n            i++;\n            break;\n          default: // Default\n            cs = Terminal.charsets.US;\n            break;\n        }\n        this.setgCharset(this.gcharset, cs);\n        this.gcharset = null;\n        this.state = normal;\n        break;\n\n      case osc:\n        // OSC Ps ; Pt ST\n        // OSC Ps ; Pt BEL\n        //   Set Text Parameters.\n        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n          if (this.lch === '\\x1b') {\n            if (typeof this.currentParam === 'string') {\n              this.currentParam = this.currentParam.slice(0, -1);\n            } else if (typeof this.currentParam == 'number') {\n              this.currentParam = (this.currentParam - ('\\x1b'.charCodeAt(0) - 48)) / 10;\n            }\n          }\n\n          this.params.push(this.currentParam);\n\n          switch (this.params[0]) {\n            case 0:\n            case 1:\n            case 2:\n              if (this.params[1]) {\n                this.title = this.params[1];\n                this.handleTitle(this.title);\n              }\n              break;\n            case 3:\n              // set X property\n              break;\n            case 4:\n            case 5:\n              // change dynamic colors\n              break;\n            case 10:\n            case 11:\n            case 12:\n            case 13:\n            case 14:\n            case 15:\n            case 16:\n            case 17:\n            case 18:\n            case 19:\n              // change dynamic ui colors\n              break;\n            case 46:\n              // change log file\n              break;\n            case 50:\n              // dynamic font\n              break;\n            case 51:\n              // emacs shell\n              break;\n            case 52:\n              // manipulate selection data\n              break;\n            case 104:\n            case 105:\n            case 110:\n            case 111:\n            case 112:\n            case 113:\n            case 114:\n            case 115:\n            case 116:\n            case 117:\n            case 118:\n              // reset colors\n              break;\n          }\n\n          this.params = [];\n          this.currentParam = 0;\n          this.state = normal;\n        } else {\n          if (!this.params.length) {\n            if (ch >= '0' && ch <= '9') {\n              this.currentParam =\n                this.currentParam * 10 + ch.charCodeAt(0) - 48;\n            } else if (ch === ';') {\n              this.params.push(this.currentParam);\n              this.currentParam = '';\n            }\n          } else {\n            this.currentParam += ch;\n          }\n        }\n        break;\n\n      case csi:\n        // '?', '>', '!'\n        if (ch === '?' || ch === '>' || ch === '!') {\n          this.prefix = ch;\n          break;\n        }\n\n        // 0 - 9\n        if (ch >= '0' && ch <= '9') {\n          this.currentParam = this.currentParam * 10 + ch.charCodeAt(0) - 48;\n          break;\n        }\n\n        // '$', '\"', ' ', '\\''\n        if (ch === '$' || ch === '\"' || ch === ' ' || ch === '\\'') {\n          this.postfix = ch;\n          break;\n        }\n\n        this.params.push(this.currentParam);\n        this.currentParam = 0;\n\n        // ';'\n        if (ch === ';') break;\n\n        this.state = normal;\n\n        switch (ch) {\n          // CSI Ps A\n          // Cursor Up Ps Times (default = 1) (CUU).\n          case 'A':\n            this.cursorUp(this.params);\n            break;\n\n          // CSI Ps B\n          // Cursor Down Ps Times (default = 1) (CUD).\n          case 'B':\n            this.cursorDown(this.params);\n            break;\n\n          // CSI Ps C\n          // Cursor Forward Ps Times (default = 1) (CUF).\n          case 'C':\n            this.cursorForward(this.params);\n            break;\n\n          // CSI Ps D\n          // Cursor Backward Ps Times (default = 1) (CUB).\n          case 'D':\n            this.cursorBackward(this.params);\n            break;\n\n          // CSI Ps ; Ps H\n          // Cursor Position [row;column] (default = [1,1]) (CUP).\n          case 'H':\n            this.cursorPos(this.params);\n            break;\n\n          // CSI Ps J  Erase in Display (ED).\n          case 'J':\n            this.eraseInDisplay(this.params);\n            break;\n\n          // CSI Ps K  Erase in Line (EL).\n          case 'K':\n            this.eraseInLine(this.params);\n            break;\n\n          // CSI Pm m  Character Attributes (SGR).\n          case 'm':\n            if (!this.prefix) {\n              this.charAttributes(this.params);\n            }\n            break;\n\n          // CSI Ps n  Device Status Report (DSR).\n          case 'n':\n            if (!this.prefix) {\n              this.deviceStatus(this.params);\n            }\n            break;\n\n          /**\n           * Additions\n           */\n\n          // CSI Ps @\n          // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n          case '@':\n            this.insertChars(this.params);\n            break;\n\n          // CSI Ps E\n          // Cursor Next Line Ps Times (default = 1) (CNL).\n          case 'E':\n            this.cursorNextLine(this.params);\n            break;\n\n          // CSI Ps F\n          // Cursor Preceding Line Ps Times (default = 1) (CNL).\n          case 'F':\n            this.cursorPrecedingLine(this.params);\n            break;\n\n          // CSI Ps G\n          // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n          case 'G':\n            this.cursorCharAbsolute(this.params);\n            break;\n\n          // CSI Ps L\n          // Insert Ps Line(s) (default = 1) (IL).\n          case 'L':\n            this.insertLines(this.params);\n            break;\n\n          // CSI Ps M\n          // Delete Ps Line(s) (default = 1) (DL).\n          case 'M':\n            this.deleteLines(this.params);\n            break;\n\n          // CSI Ps P\n          // Delete Ps Character(s) (default = 1) (DCH).\n          case 'P':\n            this.deleteChars(this.params);\n            break;\n\n          // CSI Ps X\n          // Erase Ps Character(s) (default = 1) (ECH).\n          case 'X':\n            this.eraseChars(this.params);\n            break;\n\n          // CSI Pm `  Character Position Absolute\n          //   [column] (default = [row,1]) (HPA).\n          case '`':\n            this.charPosAbsolute(this.params);\n            break;\n\n          // 141 61 a * HPR -\n          // Horizontal Position Relative\n          case 'a':\n            this.HPositionRelative(this.params);\n            break;\n\n          // CSI P s c\n          // Send Device Attributes (Primary DA).\n          // CSI > P s c\n          // Send Device Attributes (Secondary DA)\n          case 'c':\n            this.sendDeviceAttributes(this.params);\n            break;\n\n          // CSI Pm d\n          // Line Position Absolute  [row] (default = [1,column]) (VPA).\n          case 'd':\n            this.linePosAbsolute(this.params);\n            break;\n\n          // 145 65 e * VPR - Vertical Position Relative\n          case 'e':\n            this.VPositionRelative(this.params);\n            break;\n\n          // CSI Ps ; Ps f\n          //   Horizontal and Vertical Position [row;column] (default =\n          //   [1,1]) (HVP).\n          case 'f':\n            this.HVPosition(this.params);\n            break;\n\n          // CSI Pm h  Set Mode (SM).\n          // CSI ? Pm h - mouse escape codes, cursor escape codes\n          case 'h':\n            this.setMode(this.params);\n            break;\n\n          // CSI Pm l  Reset Mode (RM).\n          // CSI ? Pm l\n          case 'l':\n            this.resetMode(this.params);\n            break;\n\n          // CSI Ps ; Ps r\n          //   Set Scrolling Region [top;bottom] (default = full size of win-\n          //   dow) (DECSTBM).\n          // CSI ? Pm r\n          case 'r':\n            this.setScrollRegion(this.params);\n            break;\n\n          // CSI s\n          //   Save cursor (ANSI.SYS).\n          case 's':\n            this.saveCursor(this.params);\n            break;\n\n          // CSI u\n          //   Restore cursor (ANSI.SYS).\n          case 'u':\n            this.restoreCursor(this.params);\n            break;\n\n          /**\n           * Lesser Used\n           */\n\n          // CSI Ps I\n          // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n          case 'I':\n            this.cursorForwardTab(this.params);\n            break;\n\n          // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n          case 'S':\n            this.scrollUp(this.params);\n            break;\n\n          // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n          // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n          // CSI > Ps; Ps T\n          case 'T':\n            // if (this.prefix === '>') {\n            //   this.resetTitleModes(this.params);\n            //   break;\n            // }\n            // if (this.params.length > 2) {\n            //   this.initMouseTracking(this.params);\n            //   break;\n            // }\n            if (this.params.length < 2 && !this.prefix) {\n              this.scrollDown(this.params);\n            }\n            break;\n\n          // CSI Ps Z\n          // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n          case 'Z':\n            this.cursorBackwardTab(this.params);\n            break;\n\n          // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n          case 'b':\n            this.repeatPrecedingCharacter(this.params);\n            break;\n\n          // CSI Ps g  Tab Clear (TBC).\n          case 'g':\n            this.tabClear(this.params);\n            break;\n\n          // CSI Pm i  Media Copy (MC).\n          // CSI ? Pm i\n          // case 'i':\n          //   this.mediaCopy(this.params);\n          //   break;\n\n          // CSI Pm m  Character Attributes (SGR).\n          // CSI > Ps; Ps m\n          // case 'm': // duplicate\n          //   if (this.prefix === '>') {\n          //     this.setResources(this.params);\n          //   } else {\n          //     this.charAttributes(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps n  Device Status Report (DSR).\n          // CSI > Ps n\n          // case 'n': // duplicate\n          //   if (this.prefix === '>') {\n          //     this.disableModifiers(this.params);\n          //   } else {\n          //     this.deviceStatus(this.params);\n          //   }\n          //   break;\n\n          // CSI > Ps p  Set pointer mode.\n          // CSI ! p   Soft terminal reset (DECSTR).\n          // CSI Ps$ p\n          //   Request ANSI mode (DECRQM).\n          // CSI ? Ps$ p\n          //   Request DEC private mode (DECRQM).\n          // CSI Ps ; Ps \" p\n          case 'p':\n            switch (this.prefix) {\n              // case '>':\n              //   this.setPointerMode(this.params);\n              //   break;\n              case '!':\n                this.softReset(this.params);\n                break;\n              // case '?':\n              //   if (this.postfix === '$') {\n              //     this.requestPrivateMode(this.params);\n              //   }\n              //   break;\n              // default:\n              //   if (this.postfix === '\"') {\n              //     this.setConformanceLevel(this.params);\n              //   } else if (this.postfix === '$') {\n              //     this.requestAnsiMode(this.params);\n              //   }\n              //   break;\n            }\n            break;\n\n          // CSI Ps q  Load LEDs (DECLL).\n          // CSI Ps SP q\n          // CSI Ps \" q\n          // case 'q':\n          //   if (this.postfix === ' ') {\n          //     this.setCursorStyle(this.params);\n          //     break;\n          //   }\n          //   if (this.postfix === '\"') {\n          //     this.setCharProtectionAttr(this.params);\n          //     break;\n          //   }\n          //   this.loadLEDs(this.params);\n          //   break;\n\n          // CSI Ps ; Ps r\n          //   Set Scrolling Region [top;bottom] (default = full size of win-\n          //   dow) (DECSTBM).\n          // CSI ? Pm r\n          // CSI Pt; Pl; Pb; Pr; Ps$ r\n          // case 'r': // duplicate\n          //   if (this.prefix === '?') {\n          //     this.restorePrivateValues(this.params);\n          //   } else if (this.postfix === '$') {\n          //     this.setAttrInRectangle(this.params);\n          //   } else {\n          //     this.setScrollRegion(this.params);\n          //   }\n          //   break;\n\n          // CSI s     Save cursor (ANSI.SYS).\n          // CSI ? Pm s\n          // case 's': // duplicate\n          //   if (this.prefix === '?') {\n          //     this.savePrivateValues(this.params);\n          //   } else {\n          //     this.saveCursor(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps ; Ps ; Ps t\n          // CSI Pt; Pl; Pb; Pr; Ps$ t\n          // CSI > Ps; Ps t\n          // CSI Ps SP t\n          // case 't':\n          //   if (this.postfix === '$') {\n          //     this.reverseAttrInRectangle(this.params);\n          //   } else if (this.postfix === ' ') {\n          //     this.setWarningBellVolume(this.params);\n          //   } else {\n          //     if (this.prefix === '>') {\n          //       this.setTitleModeFeature(this.params);\n          //     } else {\n          //       this.manipulateWindow(this.params);\n          //     }\n          //   }\n          //   break;\n\n          // CSI u     Restore cursor (ANSI.SYS).\n          // CSI Ps SP u\n          // case 'u': // duplicate\n          //   if (this.postfix === ' ') {\n          //     this.setMarginBellVolume(this.params);\n          //   } else {\n          //     this.restoreCursor(this.params);\n          //   }\n          //   break;\n\n          // CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n          // case 'v':\n          //   if (this.postfix === '$') {\n          //     this.copyRectagle(this.params);\n          //   }\n          //   break;\n\n          // CSI Pt ; Pl ; Pb ; Pr ' w\n          // case 'w':\n          //   if (this.postfix === '\\'') {\n          //     this.enableFilterRectangle(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n          // CSI Ps x  Select Attribute Change Extent (DECSACE).\n          // CSI Pc; Pt; Pl; Pb; Pr$ x\n          // case 'x':\n          //   if (this.postfix === '$') {\n          //     this.fillRectangle(this.params);\n          //   } else {\n          //     this.requestParameters(this.params);\n          //     //this.__(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps ; Pu ' z\n          // CSI Pt; Pl; Pb; Pr$ z\n          // case 'z':\n          //   if (this.postfix === '\\'') {\n          //     this.enableLocatorReporting(this.params);\n          //   } else if (this.postfix === '$') {\n          //     this.eraseRectangle(this.params);\n          //   }\n          //   break;\n\n          // CSI Pm ' {\n          // CSI Pt; Pl; Pb; Pr$ {\n          // case '{':\n          //   if (this.postfix === '\\'') {\n          //     this.setLocatorEvents(this.params);\n          //   } else if (this.postfix === '$') {\n          //     this.selectiveEraseRectangle(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps ' |\n          // case '|':\n          //   if (this.postfix === '\\'') {\n          //     this.requestLocatorPosition(this.params);\n          //   }\n          //   break;\n\n          // CSI P m SP }\n          // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n          // case '}':\n          //   if (this.postfix === ' ') {\n          //     this.insertColumns(this.params);\n          //   }\n          //   break;\n\n          // CSI P m SP ~\n          // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n          // case '~':\n          //   if (this.postfix === ' ') {\n          //     this.deleteColumns(this.params);\n          //   }\n          //   break;\n\n          default:\n            this.error('Unknown CSI code: %s.', ch);\n            break;\n        }\n\n        this.prefix = '';\n        this.postfix = '';\n        break;\n\n      case dcs:\n        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n          // Workarounds:\n          if (this.prefix === 'tmux;\\x1b') {\n            // `DCS tmux; Pt ST` may contain a Pt with an ST\n            // XXX Does tmux work this way?\n            // if (this.lch === '\\x1b' & data[i + 1] === '\\x1b' && data[i + 2] === '\\\\') {\n            //   this.currentParam += ch;\n            //   continue;\n            // }\n            // Tmux only accepts ST, not BEL:\n            if (ch === '\\x07') {\n              this.currentParam += ch;\n              continue;\n            }\n          }\n\n          if (this.lch === '\\x1b') {\n            if (typeof this.currentParam === 'string') {\n              this.currentParam = this.currentParam.slice(0, -1);\n            } else if (typeof this.currentParam == 'number') {\n              this.currentParam = (this.currentParam - ('\\x1b'.charCodeAt(0) - 48)) / 10;\n            }\n          }\n\n          this.params.push(this.currentParam);\n\n          var pt = this.params[this.params.length - 1];\n\n          switch (this.prefix) {\n            // User-Defined Keys (DECUDK).\n            // DCS Ps; Ps| Pt ST\n            case UDK:\n              this.emit('udk', {\n                clearAll: this.params[0] === 0,\n                eraseBelow: this.params[0] === 1,\n                lockKeys: this.params[1] === 0,\n                dontLockKeys: this.params[1] === 1,\n                keyList: (this.params[2] + '').split(';').map(function(part) {\n                  part = part.split('/');\n                  return {\n                    keyCode: part[0],\n                    hexKeyValue: part[1]\n                  };\n                })\n              });\n              break;\n\n            // Request Status String (DECRQSS).\n            // DCS $ q Pt ST\n            // test: echo -e '\\eP$q\"p\\e\\\\'\n            case '$q':\n              var valid = 0;\n\n              switch (pt) {\n                // DECSCA\n                // CSI Ps \" q\n                case '\"q':\n                  pt = '0\"q';\n                  valid = 1;\n                  break;\n\n                // DECSCL\n                // CSI Ps ; Ps \" p\n                case '\"p':\n                  pt = '61;0\"p';\n                  valid = 1;\n                  break;\n\n                // DECSTBM\n                // CSI Ps ; Ps r\n                case 'r':\n                  pt = ''\n                    + (this.scrollTop + 1)\n                    + ';'\n                    + (this.scrollBottom + 1)\n                    + 'r';\n                  valid = 1;\n                  break;\n\n                // SGR\n                // CSI Pm m\n                case 'm':\n                  // TODO: Parse this.curAttr here.\n                  // pt = '0m';\n                  // valid = 1;\n                  valid = 0; // Not implemented.\n                  break;\n\n                default:\n                  this.error('Unknown DCS Pt: %s.', pt);\n                  valid = 0; // unimplemented\n                  break;\n              }\n\n              this.send('\\x1bP' + valid + '$r' + pt + '\\x1b\\\\');\n              break;\n\n            // Set Termcap/Terminfo Data (xterm, experimental).\n            // DCS + p Pt ST\n            case '+p':\n              this.emit('set terminfo', {\n                name: this.params[0]\n              });\n              break;\n\n            // Request Termcap/Terminfo String (xterm, experimental)\n            // Regular xterm does not even respond to this sequence.\n            // This can cause a small glitch in vim.\n            // DCS + q Pt ST\n            // test: echo -ne '\\eP+q6b64\\e\\\\'\n            case '+q':\n              var valid = false;\n              this.send('\\x1bP' + +valid + '+r' + pt + '\\x1b\\\\');\n              break;\n\n            // Implement tmux sequence forwarding is\n            // someone uses term.js for a multiplexer.\n            // DCS tmux; ESC Pt ST\n            case 'tmux;\\x1b':\n              this.emit('passthrough', pt);\n              break;\n\n            default:\n              this.error('Unknown DCS prefix: %s.', pt);\n              break;\n          }\n\n          this.currentParam = 0;\n          this.prefix = '';\n          this.state = normal;\n        } else {\n          this.currentParam += ch;\n          if (!this.prefix) {\n            if (/^\\d*;\\d*\\|/.test(this.currentParam)) {\n              this.prefix = UDK;\n              this.params = this.currentParam.split(/[;|]/).map(function(n) {\n                if (!n.length) return 0;\n                return +n;\n              }).slice(0, -1);\n              this.currentParam = '';\n            } else if (/^[$+][a-zA-Z]/.test(this.currentParam)\n                || /^\\w+;\\x1b/.test(this.currentParam)) {\n              this.prefix = this.currentParam;\n              this.currentParam = '';\n            }\n          }\n        }\n        break;\n\n      case ignore:\n        // For PM and APC.\n        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n          this.state = normal;\n        }\n        break;\n    }\n  }\n\n  this.updateRange(this.y);\n  this.refresh(this.refreshStart, this.refreshEnd);\n\n  return true;\n};\n\nTerminal.prototype.writeln = function(data) {\n  return this.write(data + '\\r\\n');\n};\n\nTerminal.prototype.end = function(data) {\n  var ret = true;\n  if (data) {\n    ret = this.write(data);\n  }\n  this.destroySoon();\n  return ret;\n};\n\nTerminal.prototype.resume = function() {\n  ;\n};\n\nTerminal.prototype.pause = function() {\n  ;\n};\n\n// Key Resources:\n// https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\nTerminal.prototype.keyDown = function(ev) {\n  var self = this\n    , key;\n\n  switch (ev.keyCode) {\n    // backspace\n    case 8:\n      if (ev.altKey) {\n        key = '\\x17';\n        break;\n      }\n      if (ev.shiftKey) {\n        key = '\\x08'; // ^H\n        break;\n      }\n      key = '\\x7f'; // ^?\n      break;\n    // tab\n    case 9:\n      if (ev.shiftKey) {\n        key = '\\x1b[Z';\n        break;\n      }\n      key = '\\t';\n      break;\n    // return/enter\n    case 13:\n      key = '\\r';\n      break;\n    // escape\n    case 27:\n      key = '\\x1b';\n      break;\n    // left-arrow\n    case 37:\n      if (this.applicationCursor) {\n        key = '\\x1bOD'; // SS3 as ^[O for 7-bit\n        //key = '\\x8fD'; // SS3 as 0x8f for 8-bit\n        break;\n      }\n      if (ev.ctrlKey) {\n        key = '\\x1b[5D';\n        break;\n      }\n      key = '\\x1b[D';\n      break;\n    // right-arrow\n    case 39:\n      if (this.applicationCursor) {\n        key = '\\x1bOC';\n        break;\n      }\n      if (ev.ctrlKey) {\n        key = '\\x1b[5C';\n        break;\n      }\n      key = '\\x1b[C';\n      break;\n    // up-arrow\n    case 38:\n      if (this.applicationCursor) {\n        key = '\\x1bOA';\n        break;\n      }\n      if (ev.ctrlKey) {\n        this.scrollDisp(-1);\n        return cancel(ev);\n      } else {\n        key = '\\x1b[A';\n      }\n      break;\n    // down-arrow\n    case 40:\n      if (this.applicationCursor) {\n        key = '\\x1bOB';\n        break;\n      }\n      if (ev.ctrlKey) {\n        this.scrollDisp(1);\n        return cancel(ev);\n      } else {\n        key = '\\x1b[B';\n      }\n      break;\n    // delete\n    case 46:\n      key = '\\x1b[3~';\n      break;\n    // insert\n    case 45:\n      key = '\\x1b[2~';\n      break;\n    // home\n    case 36:\n      if (this.applicationKeypad) {\n        key = '\\x1bOH';\n        break;\n      }\n      key = '\\x1bOH';\n      break;\n    // end\n    case 35:\n      if (this.applicationKeypad) {\n        key = '\\x1bOF';\n        break;\n      }\n      key = '\\x1bOF';\n      break;\n    // page up\n    case 33:\n      if (ev.shiftKey) {\n        this.scrollDisp(-(this.rows - 1));\n        return cancel(ev);\n      } else {\n        key = '\\x1b[5~';\n      }\n      break;\n    // page down\n    case 34:\n      if (ev.shiftKey) {\n        this.scrollDisp(this.rows - 1);\n        return cancel(ev);\n      } else {\n        key = '\\x1b[6~';\n      }\n      break;\n    // F1\n    case 112:\n      key = '\\x1bOP';\n      break;\n    // F2\n    case 113:\n      key = '\\x1bOQ';\n      break;\n    // F3\n    case 114:\n      key = '\\x1bOR';\n      break;\n    // F4\n    case 115:\n      key = '\\x1bOS';\n      break;\n    // F5\n    case 116:\n      key = '\\x1b[15~';\n      break;\n    // F6\n    case 117:\n      key = '\\x1b[17~';\n      break;\n    // F7\n    case 118:\n      key = '\\x1b[18~';\n      break;\n    // F8\n    case 119:\n      key = '\\x1b[19~';\n      break;\n    // F9\n    case 120:\n      key = '\\x1b[20~';\n      break;\n    // F10\n    case 121:\n      key = '\\x1b[21~';\n      break;\n    // F11\n    case 122:\n      key = '\\x1b[23~';\n      break;\n    // F12\n    case 123:\n      key = '\\x1b[24~';\n      break;\n    default:\n      // a-z and space\n      if (ev.ctrlKey) {\n        if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n          // Ctrl-A\n          if (this.screenKeys) {\n            if (!this.prefixMode && !this.selectMode && ev.keyCode === 65) {\n              this.enterPrefix();\n              return cancel(ev);\n            }\n          }\n          // Ctrl-V\n          if (this.prefixMode && ev.keyCode === 86) {\n            this.leavePrefix();\n            return;\n          }\n          // Ctrl-C\n          if ((this.prefixMode || this.selectMode) && ev.keyCode === 67) {\n            if (this.visualMode) {\n              setTimeout(function() {\n                self.leaveVisual();\n              }, 1);\n            }\n            return;\n          }\n          key = String.fromCharCode(ev.keyCode - 64);\n        } else if (ev.keyCode === 32) {\n          // NUL\n          key = String.fromCharCode(0);\n        } else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n          // escape, file sep, group sep, record sep, unit sep\n          key = String.fromCharCode(ev.keyCode - 51 + 27);\n        } else if (ev.keyCode === 56) {\n          // delete\n          key = String.fromCharCode(127);\n        } else if (ev.keyCode === 219) {\n          // ^[ - escape\n          key = String.fromCharCode(27);\n        } else if (ev.keyCode === 221) {\n          // ^] - group sep\n          key = String.fromCharCode(29);\n        }\n      } else if (ev.altKey) {\n        if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n          key = '\\x1b' + String.fromCharCode(ev.keyCode + 32);\n        } else if (ev.keyCode === 192) {\n          key = '\\x1b`';\n        } else if (ev.keyCode >= 48 && ev.keyCode <= 57) {\n          key = '\\x1b' + (ev.keyCode - 48);\n        }\n      }\n      break;\n  }\n\n  if (!key) return true;\n\n  if (this.prefixMode) {\n    this.leavePrefix();\n    return cancel(ev);\n  }\n\n  if (this.selectMode) {\n    this.keySelect(ev, key);\n    return cancel(ev);\n  }\n\n  this.emit('keydown', ev);\n  this.emit('key', key, ev);\n\n  this.showCursor();\n  this.handler(key);\n\n  return cancel(ev);\n};\n\nTerminal.prototype.setgLevel = function(g) {\n  this.glevel = g;\n  this.charset = this.charsets[g];\n};\n\nTerminal.prototype.setgCharset = function(g, charset) {\n  this.charsets[g] = charset;\n  if (this.glevel === g) {\n    this.charset = charset;\n  }\n};\n\nTerminal.prototype.keyPress = function(ev) {\n  var key;\n\n  cancel(ev);\n\n  if (ev.charCode) {\n    key = ev.charCode;\n  } else if (ev.which == null) {\n    key = ev.keyCode;\n  } else if (ev.which !== 0 && ev.charCode !== 0) {\n    key = ev.which;\n  } else {\n    return false;\n  }\n\n  if (!key || ev.ctrlKey || ev.altKey || ev.metaKey) return false;\n\n  key = String.fromCharCode(key);\n\n  if (this.prefixMode) {\n    this.leavePrefix();\n    this.keyPrefix(ev, key);\n    return false;\n  }\n\n  if (this.selectMode) {\n    this.keySelect(ev, key);\n    return false;\n  }\n\n  this.emit('keypress', key, ev);\n  this.emit('key', key, ev);\n\n  this.showCursor();\n  this.handler(key);\n\n  return false;\n};\n\nTerminal.prototype.send = function(data) {\n  var self = this;\n\n  if (!this.queue) {\n    setTimeout(function() {\n      self.handler(self.queue);\n      self.queue = '';\n    }, 1);\n  }\n\n  this.queue += data;\n};\n\nTerminal.prototype.bell = function() {\n  this.emit('bell');\n  if (!this.visualBell) return;\n  var self = this;\n  this.element.style.borderColor = 'white';\n  setTimeout(function() {\n    self.element.style.borderColor = '';\n  }, 10);\n  if (this.popOnBell) this.focus();\n};\n\nTerminal.prototype.log = function() {\n  if (!this.debug) return;\n  if (!this.context.console || !this.context.console.log) return;\n  var args = Array.prototype.slice.call(arguments);\n  this.context.console.log.apply(this.context.console, args);\n};\n\nTerminal.prototype.error = function() {\n  if (!this.debug) return;\n  if (!this.context.console || !this.context.console.error) return;\n  var args = Array.prototype.slice.call(arguments);\n  this.context.console.error.apply(this.context.console, args);\n};\n\nTerminal.prototype.resize = function(x, y) {\n  var line\n    , el\n    , i\n    , j\n    , ch;\n\n  if (x < 1) x = 1;\n  if (y < 1) y = 1;\n\n  // resize cols\n  j = this.cols;\n  if (j < x) {\n    ch = [this.defAttr, ' ']; // does xterm use the default attr?\n    i = this.lines.length;\n    while (i--) {\n      while (this.lines[i].length < x) {\n        this.lines[i].push(ch);\n      }\n    }\n  } else if (j > x) {\n    i = this.lines.length;\n    while (i--) {\n      while (this.lines[i].length > x) {\n        this.lines[i].pop();\n      }\n    }\n  }\n  this.setupStops(j);\n  this.cols = x;\n  this.columns = x;\n\n  // resize rows\n  j = this.rows;\n  if (j < y) {\n    el = this.element;\n    while (j++ < y) {\n      if (this.lines.length < y + this.ybase) {\n        this.lines.push(this.blankLine());\n      }\n      if (this.children.length < y) {\n        line = this.document.createElement('div');\n        el.appendChild(line);\n        this.children.push(line);\n      }\n    }\n  } else if (j > y) {\n    while (j-- > y) {\n      if (this.lines.length > y + this.ybase) {\n        this.lines.pop();\n      }\n      if (this.children.length > y) {\n        el = this.children.pop();\n        if (!el) continue;\n        el.parentNode.removeChild(el);\n      }\n    }\n  }\n  this.rows = y;\n\n  // make sure the cursor stays on screen\n  if (this.y >= y) this.y = y - 1;\n  if (this.x >= x) this.x = x - 1;\n\n  this.scrollTop = 0;\n  this.scrollBottom = y - 1;\n\n  this.refresh(0, this.rows - 1);\n\n  // it's a real nightmare trying\n  // to resize the original\n  // screen buffer. just set it\n  // to null for now.\n  this.normal = null;\n\n  // Act as though we are a node TTY stream:\n  this.emit('resize');\n};\n\nTerminal.prototype.updateRange = function(y) {\n  if (y < this.refreshStart) this.refreshStart = y;\n  if (y > this.refreshEnd) this.refreshEnd = y;\n  // if (y > this.refreshEnd) {\n  //   this.refreshEnd = y;\n  //   if (y > this.rows - 1) {\n  //     this.refreshEnd = this.rows - 1;\n  //   }\n  // }\n};\n\nTerminal.prototype.maxRange = function() {\n  this.refreshStart = 0;\n  this.refreshEnd = this.rows - 1;\n};\n\nTerminal.prototype.setupStops = function(i) {\n  if (i != null) {\n    if (!this.tabs[i]) {\n      i = this.prevStop(i);\n    }\n  } else {\n    this.tabs = {};\n    i = 0;\n  }\n\n  for (; i < this.cols; i += 8) {\n    this.tabs[i] = true;\n  }\n};\n\nTerminal.prototype.prevStop = function(x) {\n  if (x == null) x = this.x;\n  while (!this.tabs[--x] && x > 0);\n  return x >= this.cols\n    ? this.cols - 1\n    : x < 0 ? 0 : x;\n};\n\nTerminal.prototype.nextStop = function(x) {\n  if (x == null) x = this.x;\n  while (!this.tabs[++x] && x < this.cols);\n  return x >= this.cols\n    ? this.cols - 1\n    : x < 0 ? 0 : x;\n};\n\n// back_color_erase feature for xterm.\nTerminal.prototype.eraseAttr = function() {\n  // if (this.is('screen')) return this.defAttr;\n  return (this.defAttr & ~0x1ff) | (this.curAttr & 0x1ff);\n};\n\nTerminal.prototype.eraseRight = function(x, y) {\n  var line = this.lines[this.ybase + y]\n    , ch = [this.eraseAttr(), ' ']; // xterm\n\n\n  for (; x < this.cols; x++) {\n    line[x] = ch;\n  }\n\n  this.updateRange(y);\n};\n\nTerminal.prototype.eraseLeft = function(x, y) {\n  var line = this.lines[this.ybase + y]\n    , ch = [this.eraseAttr(), ' ']; // xterm\n\n  x++;\n  while (x--) line[x] = ch;\n\n  this.updateRange(y);\n};\n\nTerminal.prototype.eraseLine = function(y) {\n  this.eraseRight(0, y);\n};\n\nTerminal.prototype.blankLine = function(cur) {\n  var attr = cur\n    ? this.eraseAttr()\n    : this.defAttr;\n\n  var ch = [attr, ' ']\n    , line = []\n    , i = 0;\n\n  for (; i < this.cols; i++) {\n    line[i] = ch;\n  }\n\n  return line;\n};\n\nTerminal.prototype.ch = function(cur) {\n  return cur\n    ? [this.eraseAttr(), ' ']\n    : [this.defAttr, ' '];\n};\n\nTerminal.prototype.is = function(term) {\n  var name = this.termName;\n  return (name + '').indexOf(term) === 0;\n};\n\nTerminal.prototype.handler = function(data) {\n  this.emit('data', data);\n};\n\nTerminal.prototype.handleTitle = function(title) {\n  this.emit('title', title);\n};\n\n/**\n * ESC\n */\n\n// ESC D Index (IND is 0x84).\nTerminal.prototype.index = function() {\n  this.y++;\n  if (this.y > this.scrollBottom) {\n    this.y--;\n    this.scroll();\n  }\n  this.state = normal;\n};\n\n// ESC M Reverse Index (RI is 0x8d).\nTerminal.prototype.reverseIndex = function() {\n  var j;\n  this.y--;\n  if (this.y < this.scrollTop) {\n    this.y++;\n    // possibly move the code below to term.reverseScroll();\n    // test: echo -ne '\\e[1;1H\\e[44m\\eM\\e[0m'\n    // blankLine(true) is xterm/linux behavior\n    this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));\n    j = this.rows - 1 - this.scrollBottom;\n    this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);\n    // this.maxRange();\n    this.updateRange(this.scrollTop);\n    this.updateRange(this.scrollBottom);\n  }\n  this.state = normal;\n};\n\n// ESC c Full Reset (RIS).\nTerminal.prototype.reset = function() {\n  this.options.rows = this.rows;\n  this.options.cols = this.cols;\n  Terminal.call(this, this.options);\n  this.refresh(0, this.rows - 1);\n};\n\n// ESC H Tab Set (HTS is 0x88).\nTerminal.prototype.tabSet = function() {\n  this.tabs[this.x] = true;\n  this.state = normal;\n};\n\n/**\n * CSI\n */\n\n// CSI Ps A\n// Cursor Up Ps Times (default = 1) (CUU).\nTerminal.prototype.cursorUp = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y -= param;\n  if (this.y < 0) this.y = 0;\n};\n\n// CSI Ps B\n// Cursor Down Ps Times (default = 1) (CUD).\nTerminal.prototype.cursorDown = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y += param;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n};\n\n// CSI Ps C\n// Cursor Forward Ps Times (default = 1) (CUF).\nTerminal.prototype.cursorForward = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x += param;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// CSI Ps D\n// Cursor Backward Ps Times (default = 1) (CUB).\nTerminal.prototype.cursorBackward = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x -= param;\n  if (this.x < 0) this.x = 0;\n};\n\n// CSI Ps ; Ps H\n// Cursor Position [row;column] (default = [1,1]) (CUP).\nTerminal.prototype.cursorPos = function(params) {\n  var row, col;\n\n  row = params[0] - 1;\n\n  if (params.length >= 2) {\n    col = params[1] - 1;\n  } else {\n    col = 0;\n  }\n\n  if (row < 0) {\n    row = 0;\n  } else if (row >= this.rows) {\n    row = this.rows - 1;\n  }\n\n  if (col < 0) {\n    col = 0;\n  } else if (col >= this.cols) {\n    col = this.cols - 1;\n  }\n\n  this.x = col;\n  this.y = row;\n};\n\n// CSI Ps J  Erase in Display (ED).\n//     Ps = 0  -> Erase Below (default).\n//     Ps = 1  -> Erase Above.\n//     Ps = 2  -> Erase All.\n//     Ps = 3  -> Erase Saved Lines (xterm).\n// CSI ? Ps J\n//   Erase in Display (DECSED).\n//     Ps = 0  -> Selective Erase Below (default).\n//     Ps = 1  -> Selective Erase Above.\n//     Ps = 2  -> Selective Erase All.\nTerminal.prototype.eraseInDisplay = function(params) {\n  var j;\n  switch (params[0]) {\n    case 0:\n      this.eraseRight(this.x, this.y);\n      j = this.y + 1;\n      for (; j < this.rows; j++) {\n        this.eraseLine(j);\n      }\n      break;\n    case 1:\n      this.eraseLeft(this.x, this.y);\n      j = this.y;\n      while (j--) {\n        this.eraseLine(j);\n      }\n      break;\n    case 2:\n      j = this.rows;\n      while (j--) this.eraseLine(j);\n      break;\n    case 3:\n      ; // no saved lines\n      break;\n  }\n};\n\n// CSI Ps K  Erase in Line (EL).\n//     Ps = 0  -> Erase to Right (default).\n//     Ps = 1  -> Erase to Left.\n//     Ps = 2  -> Erase All.\n// CSI ? Ps K\n//   Erase in Line (DECSEL).\n//     Ps = 0  -> Selective Erase to Right (default).\n//     Ps = 1  -> Selective Erase to Left.\n//     Ps = 2  -> Selective Erase All.\nTerminal.prototype.eraseInLine = function(params) {\n  switch (params[0]) {\n    case 0:\n      this.eraseRight(this.x, this.y);\n      break;\n    case 1:\n      this.eraseLeft(this.x, this.y);\n      break;\n    case 2:\n      this.eraseLine(this.y);\n      break;\n  }\n};\n\n// CSI Pm m  Character Attributes (SGR).\n//     Ps = 0  -> Normal (default).\n//     Ps = 1  -> Bold.\n//     Ps = 4  -> Underlined.\n//     Ps = 5  -> Blink (appears as Bold).\n//     Ps = 7  -> Inverse.\n//     Ps = 8  -> Invisible, i.e., hidden (VT300).\n//     Ps = 2 2  -> Normal (neither bold nor faint).\n//     Ps = 2 4  -> Not underlined.\n//     Ps = 2 5  -> Steady (not blinking).\n//     Ps = 2 7  -> Positive (not inverse).\n//     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n//     Ps = 3 0  -> Set foreground color to Black.\n//     Ps = 3 1  -> Set foreground color to Red.\n//     Ps = 3 2  -> Set foreground color to Green.\n//     Ps = 3 3  -> Set foreground color to Yellow.\n//     Ps = 3 4  -> Set foreground color to Blue.\n//     Ps = 3 5  -> Set foreground color to Magenta.\n//     Ps = 3 6  -> Set foreground color to Cyan.\n//     Ps = 3 7  -> Set foreground color to White.\n//     Ps = 3 9  -> Set foreground color to default (original).\n//     Ps = 4 0  -> Set background color to Black.\n//     Ps = 4 1  -> Set background color to Red.\n//     Ps = 4 2  -> Set background color to Green.\n//     Ps = 4 3  -> Set background color to Yellow.\n//     Ps = 4 4  -> Set background color to Blue.\n//     Ps = 4 5  -> Set background color to Magenta.\n//     Ps = 4 6  -> Set background color to Cyan.\n//     Ps = 4 7  -> Set background color to White.\n//     Ps = 4 9  -> Set background color to default (original).\n\n//   If 16-color support is compiled, the following apply.  Assume\n//   that xterm's resources are set so that the ISO color codes are\n//   the first 8 of a set of 16.  Then the aixterm colors are the\n//   bright versions of the ISO colors:\n//     Ps = 9 0  -> Set foreground color to Black.\n//     Ps = 9 1  -> Set foreground color to Red.\n//     Ps = 9 2  -> Set foreground color to Green.\n//     Ps = 9 3  -> Set foreground color to Yellow.\n//     Ps = 9 4  -> Set foreground color to Blue.\n//     Ps = 9 5  -> Set foreground color to Magenta.\n//     Ps = 9 6  -> Set foreground color to Cyan.\n//     Ps = 9 7  -> Set foreground color to White.\n//     Ps = 1 0 0  -> Set background color to Black.\n//     Ps = 1 0 1  -> Set background color to Red.\n//     Ps = 1 0 2  -> Set background color to Green.\n//     Ps = 1 0 3  -> Set background color to Yellow.\n//     Ps = 1 0 4  -> Set background color to Blue.\n//     Ps = 1 0 5  -> Set background color to Magenta.\n//     Ps = 1 0 6  -> Set background color to Cyan.\n//     Ps = 1 0 7  -> Set background color to White.\n\n//   If xterm is compiled with the 16-color support disabled, it\n//   supports the following, from rxvt:\n//     Ps = 1 0 0  -> Set foreground and background color to\n//     default.\n\n//   If 88- or 256-color support is compiled, the following apply.\n//     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n//     Ps.\n//     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n//     Ps.\nTerminal.prototype.charAttributes = function(params) {\n  // Optimize a single SGR0.\n  if (params.length === 1 && params[0] === 0) {\n    this.curAttr = this.defAttr;\n    return;\n  }\n\n  var l = params.length\n    , i = 0\n    , flags = this.curAttr >> 18\n    , fg = (this.curAttr >> 9) & 0x1ff\n    , bg = this.curAttr & 0x1ff\n    , p;\n\n  for (; i < l; i++) {\n    p = params[i];\n    if (p >= 30 && p <= 37) {\n      // fg color 8\n      fg = p - 30;\n    } else if (p >= 40 && p <= 47) {\n      // bg color 8\n      bg = p - 40;\n    } else if (p >= 90 && p <= 97) {\n      // fg color 16\n      p += 8;\n      fg = p - 90;\n    } else if (p >= 100 && p <= 107) {\n      // bg color 16\n      p += 8;\n      bg = p - 100;\n    } else if (p === 0) {\n      // default\n      flags = this.defAttr >> 18;\n      fg = (this.defAttr >> 9) & 0x1ff;\n      bg = this.defAttr & 0x1ff;\n      // flags = 0;\n      // fg = 0x1ff;\n      // bg = 0x1ff;\n    } else if (p === 1) {\n      // bold text\n      flags |= 1;\n    } else if (p === 4) {\n      // underlined text\n      flags |= 2;\n    } else if (p === 5) {\n      // blink\n      flags |= 4;\n    } else if (p === 7) {\n      // inverse and positive\n      // test with: echo -e '\\e[31m\\e[42mhello\\e[7mworld\\e[27mhi\\e[m'\n      flags |= 8;\n    } else if (p === 8) {\n      // invisible\n      flags |= 16;\n    } else if (p === 22) {\n      // not bold\n      flags &= ~1;\n    } else if (p === 24) {\n      // not underlined\n      flags &= ~2;\n    } else if (p === 25) {\n      // not blink\n      flags &= ~4;\n    } else if (p === 27) {\n      // not inverse\n      flags &= ~8;\n    } else if (p === 28) {\n      // not invisible\n      flags &= ~16;\n    } else if (p === 39) {\n      // reset fg\n      fg = (this.defAttr >> 9) & 0x1ff;\n    } else if (p === 49) {\n      // reset bg\n      bg = this.defAttr & 0x1ff;\n    } else if (p === 38) {\n      // fg color 256\n      if (params[i + 1] === 2) {\n        i += 2;\n        fg = matchColor(\n          params[i] & 0xff,\n          params[i + 1] & 0xff,\n          params[i + 2] & 0xff);\n        if (fg === -1) fg = 0x1ff;\n        i += 2;\n      } else if (params[i + 1] === 5) {\n        i += 2;\n        p = params[i] & 0xff;\n        fg = p;\n      }\n    } else if (p === 48) {\n      // bg color 256\n      if (params[i + 1] === 2) {\n        i += 2;\n        bg = matchColor(\n          params[i] & 0xff,\n          params[i + 1] & 0xff,\n          params[i + 2] & 0xff);\n        if (bg === -1) bg = 0x1ff;\n        i += 2;\n      } else if (params[i + 1] === 5) {\n        i += 2;\n        p = params[i] & 0xff;\n        bg = p;\n      }\n    } else if (p === 100) {\n      // reset fg/bg\n      fg = (this.defAttr >> 9) & 0x1ff;\n      bg = this.defAttr & 0x1ff;\n    } else {\n      this.error('Unknown SGR attribute: %d.', p);\n    }\n  }\n\n  this.curAttr = (flags << 18) | (fg << 9) | bg;\n};\n\n// CSI Ps n  Device Status Report (DSR).\n//     Ps = 5  -> Status Report.  Result (``OK'') is\n//   CSI 0 n\n//     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n//   Result is\n//   CSI r ; c R\n// CSI ? Ps n\n//   Device Status Report (DSR, DEC-specific).\n//     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n//     ? r ; c R (assumes page is zero).\n//     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n//     or CSI ? 1 1  n  (not ready).\n//     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n//     or CSI ? 2 1  n  (locked).\n//     Ps = 2 6  -> Report Keyboard status as\n//   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n//   The last two parameters apply to VT400 & up, and denote key-\n//   board ready and LK01 respectively.\n//     Ps = 5 3  -> Report Locator status as\n//   CSI ? 5 3  n  Locator available, if compiled-in, or\n//   CSI ? 5 0  n  No Locator, if not.\nTerminal.prototype.deviceStatus = function(params) {\n  if (!this.prefix) {\n    switch (params[0]) {\n      case 5:\n        // status report\n        this.send('\\x1b[0n');\n        break;\n      case 6:\n        // cursor position\n        this.send('\\x1b['\n          + (this.y + 1)\n          + ';'\n          + (this.x + 1)\n          + 'R');\n        break;\n    }\n  } else if (this.prefix === '?') {\n    // modern xterm doesnt seem to\n    // respond to any of these except ?6, 6, and 5\n    switch (params[0]) {\n      case 6:\n        // cursor position\n        this.send('\\x1b[?'\n          + (this.y + 1)\n          + ';'\n          + (this.x + 1)\n          + 'R');\n        break;\n      case 15:\n        // no printer\n        // this.send('\\x1b[?11n');\n        break;\n      case 25:\n        // dont support user defined keys\n        // this.send('\\x1b[?21n');\n        break;\n      case 26:\n        // north american keyboard\n        // this.send('\\x1b[?27;1;0;0n');\n        break;\n      case 53:\n        // no dec locator/mouse\n        // this.send('\\x1b[?50n');\n        break;\n    }\n  }\n};\n\n/**\n * Additions\n */\n\n// CSI Ps @\n// Insert Ps (Blank) Character(s) (default = 1) (ICH).\nTerminal.prototype.insertChars = function(params) {\n  var param, row, j, ch;\n\n  param = params[0];\n  if (param < 1) param = 1;\n\n  row = this.y + this.ybase;\n  j = this.x;\n  ch = [this.eraseAttr(), ' ']; // xterm\n\n  while (param-- && j < this.cols) {\n    this.lines[row].splice(j++, 0, ch);\n    this.lines[row].pop();\n  }\n};\n\n// CSI Ps E\n// Cursor Next Line Ps Times (default = 1) (CNL).\n// same as CSI Ps B ?\nTerminal.prototype.cursorNextLine = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y += param;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n  this.x = 0;\n};\n\n// CSI Ps F\n// Cursor Preceding Line Ps Times (default = 1) (CNL).\n// reuse CSI Ps A ?\nTerminal.prototype.cursorPrecedingLine = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y -= param;\n  if (this.y < 0) this.y = 0;\n  this.x = 0;\n};\n\n// CSI Ps G\n// Cursor Character Absolute  [column] (default = [row,1]) (CHA).\nTerminal.prototype.cursorCharAbsolute = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x = param - 1;\n};\n\n// CSI Ps L\n// Insert Ps Line(s) (default = 1) (IL).\nTerminal.prototype.insertLines = function(params) {\n  var param, row, j;\n\n  param = params[0];\n  if (param < 1) param = 1;\n  row = this.y + this.ybase;\n\n  j = this.rows - 1 - this.scrollBottom;\n  j = this.rows - 1 + this.ybase - j + 1;\n\n  while (param--) {\n    // test: echo -e '\\e[44m\\e[1L\\e[0m'\n    // blankLine(true) - xterm/linux behavior\n    this.lines.splice(row, 0, this.blankLine(true));\n    this.lines.splice(j, 1);\n  }\n\n  // this.maxRange();\n  this.updateRange(this.y);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps M\n// Delete Ps Line(s) (default = 1) (DL).\nTerminal.prototype.deleteLines = function(params) {\n  var param, row, j;\n\n  param = params[0];\n  if (param < 1) param = 1;\n  row = this.y + this.ybase;\n\n  j = this.rows - 1 - this.scrollBottom;\n  j = this.rows - 1 + this.ybase - j;\n\n  while (param--) {\n    // test: echo -e '\\e[44m\\e[1M\\e[0m'\n    // blankLine(true) - xterm/linux behavior\n    this.lines.splice(j + 1, 0, this.blankLine(true));\n    this.lines.splice(row, 1);\n  }\n\n  // this.maxRange();\n  this.updateRange(this.y);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps P\n// Delete Ps Character(s) (default = 1) (DCH).\nTerminal.prototype.deleteChars = function(params) {\n  var param, row, ch;\n\n  param = params[0];\n  if (param < 1) param = 1;\n\n  row = this.y + this.ybase;\n  ch = [this.eraseAttr(), ' ']; // xterm\n\n  while (param--) {\n    this.lines[row].splice(this.x, 1);\n    this.lines[row].push(ch);\n  }\n};\n\n// CSI Ps X\n// Erase Ps Character(s) (default = 1) (ECH).\nTerminal.prototype.eraseChars = function(params) {\n  var param, row, j, ch;\n\n  param = params[0];\n  if (param < 1) param = 1;\n\n  row = this.y + this.ybase;\n  j = this.x;\n  ch = [this.eraseAttr(), ' ']; // xterm\n\n  while (param-- && j < this.cols) {\n    this.lines[row][j++] = ch;\n  }\n};\n\n// CSI Pm `  Character Position Absolute\n//   [column] (default = [row,1]) (HPA).\nTerminal.prototype.charPosAbsolute = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x = param - 1;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// 141 61 a * HPR -\n// Horizontal Position Relative\n// reuse CSI Ps C ?\nTerminal.prototype.HPositionRelative = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x += param;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// CSI Ps c  Send Device Attributes (Primary DA).\n//     Ps = 0  or omitted -> request attributes from terminal.  The\n//     response depends on the decTerminalID resource setting.\n//     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n//     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n//     -> CSI ? 6 c  (``VT102'')\n//     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n//   The VT100-style response parameters do not mean anything by\n//   themselves.  VT220 parameters do, telling the host what fea-\n//   tures the terminal supports:\n//     Ps = 1  -> 132-columns.\n//     Ps = 2  -> Printer.\n//     Ps = 6  -> Selective erase.\n//     Ps = 8  -> User-defined keys.\n//     Ps = 9  -> National replacement character sets.\n//     Ps = 1 5  -> Technical characters.\n//     Ps = 2 2  -> ANSI color, e.g., VT525.\n//     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n// CSI > Ps c\n//   Send Device Attributes (Secondary DA).\n//     Ps = 0  or omitted -> request the terminal's identification\n//     code.  The response depends on the decTerminalID resource set-\n//     ting.  It should apply only to VT220 and up, but xterm extends\n//     this to VT100.\n//     -> CSI  > Pp ; Pv ; Pc c\n//   where Pp denotes the terminal type\n//     Pp = 0  -> ``VT100''.\n//     Pp = 1  -> ``VT220''.\n//   and Pv is the firmware version (for xterm, this was originally\n//   the XFree86 patch number, starting with 95).  In a DEC termi-\n//   nal, Pc indicates the ROM cartridge registration number and is\n//   always zero.\n// More information:\n//   xterm/charproc.c - line 2012, for more information.\n//   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\nTerminal.prototype.sendDeviceAttributes = function(params) {\n  if (params[0] > 0) return;\n\n  if (!this.prefix) {\n    if (this.is('xterm')\n        || this.is('rxvt-unicode')\n        || this.is('screen')) {\n      this.send('\\x1b[?1;2c');\n    } else if (this.is('linux')) {\n      this.send('\\x1b[?6c');\n    }\n  } else if (this.prefix === '>') {\n    // xterm and urxvt\n    // seem to spit this\n    // out around ~370 times (?).\n    if (this.is('xterm')) {\n      this.send('\\x1b[>0;276;0c');\n    } else if (this.is('rxvt-unicode')) {\n      this.send('\\x1b[>85;95;0c');\n    } else if (this.is('linux')) {\n      // not supported by linux console.\n      // linux console echoes parameters.\n      this.send(params[0] + 'c');\n    } else if (this.is('screen')) {\n      this.send('\\x1b[>83;40003;0c');\n    }\n  }\n};\n\n// CSI Pm d\n// Line Position Absolute  [row] (default = [1,column]) (VPA).\nTerminal.prototype.linePosAbsolute = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y = param - 1;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n};\n\n// 145 65 e * VPR - Vertical Position Relative\n// reuse CSI Ps B ?\nTerminal.prototype.VPositionRelative = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y += param;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n};\n\n// CSI Ps ; Ps f\n//   Horizontal and Vertical Position [row;column] (default =\n//   [1,1]) (HVP).\nTerminal.prototype.HVPosition = function(params) {\n  if (params[0] < 1) params[0] = 1;\n  if (params[1] < 1) params[1] = 1;\n\n  this.y = params[0] - 1;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n\n  this.x = params[1] - 1;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// CSI Pm h  Set Mode (SM).\n//     Ps = 2  -> Keyboard Action Mode (AM).\n//     Ps = 4  -> Insert Mode (IRM).\n//     Ps = 1 2  -> Send/receive (SRM).\n//     Ps = 2 0  -> Automatic Newline (LNM).\n// CSI ? Pm h\n//   DEC Private Mode Set (DECSET).\n//     Ps = 1  -> Application Cursor Keys (DECCKM).\n//     Ps = 2  -> Designate USASCII for character sets G0-G3\n//     (DECANM), and set VT100 mode.\n//     Ps = 3  -> 132 Column Mode (DECCOLM).\n//     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n//     Ps = 5  -> Reverse Video (DECSCNM).\n//     Ps = 6  -> Origin Mode (DECOM).\n//     Ps = 7  -> Wraparound Mode (DECAWM).\n//     Ps = 8  -> Auto-repeat Keys (DECARM).\n//     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n//     tion Mouse Tracking.\n//     Ps = 1 0  -> Show toolbar (rxvt).\n//     Ps = 1 2  -> Start Blinking Cursor (att610).\n//     Ps = 1 8  -> Print form feed (DECPFF).\n//     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n//     Ps = 2 5  -> Show Cursor (DECTCEM).\n//     Ps = 3 0  -> Show scrollbar (rxvt).\n//     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n//     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n//     Ps = 4 0  -> Allow 80 -> 132 Mode.\n//     Ps = 4 1  -> more(1) fix (see curses resource).\n//     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n//     RCM).\n//     Ps = 4 4  -> Turn On Margin Bell.\n//     Ps = 4 5  -> Reverse-wraparound Mode.\n//     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n//     compile-time option.\n//     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n//     abled by the titeInhibit resource).\n//     Ps = 6 6  -> Application keypad (DECNKM).\n//     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n//     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n//     release.  See the section Mouse Tracking.\n//     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n//     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n//     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n//     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n//     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n//     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n//     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n//     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n//     (enables the eightBitInput resource).\n//     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n//     Lock keys.  (This enables the numLock resource).\n//     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n//     enables the metaSendsEscape resource).\n//     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n//     key.\n//     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n//     enables the altSendsEscape resource).\n//     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n//     (This enables the keepSelection resource).\n//     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n//     the selectToClipboard resource).\n//     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n//     Control-G is received.  (This enables the bellIsUrgent\n//     resource).\n//     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n//     is received.  (enables the popOnBell resource).\n//     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n//     disabled by the titeInhibit resource).\n//     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n//     abled by the titeInhibit resource).\n//     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n//     Screen Buffer, clearing it first.  (This may be disabled by\n//     the titeInhibit resource).  This combines the effects of the 1\n//     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n//     applications rather than the 4 7  mode.\n//     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n//     Ps = 1 0 5 1  -> Set Sun function-key mode.\n//     Ps = 1 0 5 2  -> Set HP function-key mode.\n//     Ps = 1 0 5 3  -> Set SCO function-key mode.\n//     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n//     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n//     Ps = 2 0 0 4  -> Set bracketed paste mode.\n// Modes:\n//   http://vt100.net/docs/vt220-rm/chapter4.html\nTerminal.prototype.setMode = function(params) {\n  if (typeof params === 'object') {\n    var l = params.length\n      , i = 0;\n\n    for (; i < l; i++) {\n      this.setMode(params[i]);\n    }\n\n    return;\n  }\n\n  if (!this.prefix) {\n    switch (params) {\n      case 4:\n        this.insertMode = true;\n        break;\n      case 20:\n        //this.convertEol = true;\n        break;\n    }\n  } else if (this.prefix === '?') {\n    switch (params) {\n      case 1:\n        this.applicationCursor = true;\n        break;\n      case 2:\n        this.setgCharset(0, Terminal.charsets.US);\n        this.setgCharset(1, Terminal.charsets.US);\n        this.setgCharset(2, Terminal.charsets.US);\n        this.setgCharset(3, Terminal.charsets.US);\n        // set VT100 mode here\n        break;\n      case 3: // 132 col mode\n        this.savedCols = this.cols;\n        this.resize(132, this.rows);\n        break;\n      case 6:\n        this.originMode = true;\n        break;\n      case 7:\n        this.wraparoundMode = true;\n        break;\n      case 12:\n        // this.cursorBlink = true;\n        break;\n      case 66:\n        this.log('Serial port requested application keypad.');\n        this.applicationKeypad = true;\n        break;\n      case 9: // X10 Mouse\n        // no release, no motion, no wheel, no modifiers.\n      case 1000: // vt200 mouse\n        // no motion.\n        // no modifiers, except control on the wheel.\n      case 1002: // button event mouse\n      case 1003: // any event mouse\n        // any event - sends motion events,\n        // even if there is no button held down.\n        this.x10Mouse = params === 9;\n        this.vt200Mouse = params === 1000;\n        this.normalMouse = params > 1000;\n        this.mouseEvents = true;\n        this.element.style.cursor = 'default';\n        this.log('Binding to mouse events.');\n        break;\n      case 1004: // send focusin/focusout events\n        // focusin: ^[[I\n        // focusout: ^[[O\n        this.sendFocus = true;\n        break;\n      case 1005: // utf8 ext mode mouse\n        this.utfMouse = true;\n        // for wide terminals\n        // simply encodes large values as utf8 characters\n        break;\n      case 1006: // sgr ext mode mouse\n        this.sgrMouse = true;\n        // for wide terminals\n        // does not add 32 to fields\n        // press: ^[[<b;x;yM\n        // release: ^[[<b;x;ym\n        break;\n      case 1015: // urxvt ext mode mouse\n        this.urxvtMouse = true;\n        // for wide terminals\n        // numbers for fields\n        // press: ^[[b;x;yM\n        // motion: ^[[b;x;yT\n        break;\n      case 25: // show cursor\n        this.cursorHidden = false;\n        break;\n      case 1049: // alt screen buffer cursor\n        //this.saveCursor();\n        ; // FALL-THROUGH\n      case 47: // alt screen buffer\n      case 1047: // alt screen buffer\n        if (!this.normal) {\n          var normal = {\n            lines: this.lines,\n            ybase: this.ybase,\n            ydisp: this.ydisp,\n            x: this.x,\n            y: this.y,\n            scrollTop: this.scrollTop,\n            scrollBottom: this.scrollBottom,\n            tabs: this.tabs\n            // XXX save charset(s) here?\n            // charset: this.charset,\n            // glevel: this.glevel,\n            // charsets: this.charsets\n          };\n          this.reset();\n          this.normal = normal;\n          this.showCursor();\n        }\n        break;\n    }\n  }\n};\n\n// CSI Pm l  Reset Mode (RM).\n//     Ps = 2  -> Keyboard Action Mode (AM).\n//     Ps = 4  -> Replace Mode (IRM).\n//     Ps = 1 2  -> Send/receive (SRM).\n//     Ps = 2 0  -> Normal Linefeed (LNM).\n// CSI ? Pm l\n//   DEC Private Mode Reset (DECRST).\n//     Ps = 1  -> Normal Cursor Keys (DECCKM).\n//     Ps = 2  -> Designate VT52 mode (DECANM).\n//     Ps = 3  -> 80 Column Mode (DECCOLM).\n//     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n//     Ps = 5  -> Normal Video (DECSCNM).\n//     Ps = 6  -> Normal Cursor Mode (DECOM).\n//     Ps = 7  -> No Wraparound Mode (DECAWM).\n//     Ps = 8  -> No Auto-repeat Keys (DECARM).\n//     Ps = 9  -> Don't send Mouse X & Y on button press.\n//     Ps = 1 0  -> Hide toolbar (rxvt).\n//     Ps = 1 2  -> Stop Blinking Cursor (att610).\n//     Ps = 1 8  -> Don't print form feed (DECPFF).\n//     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n//     Ps = 2 5  -> Hide Cursor (DECTCEM).\n//     Ps = 3 0  -> Don't show scrollbar (rxvt).\n//     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n//     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n//     Ps = 4 1  -> No more(1) fix (see curses resource).\n//     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n//     NRCM).\n//     Ps = 4 4  -> Turn Off Margin Bell.\n//     Ps = 4 5  -> No Reverse-wraparound Mode.\n//     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n//     compile-time option).\n//     Ps = 4 7  -> Use Normal Screen Buffer.\n//     Ps = 6 6  -> Numeric keypad (DECNKM).\n//     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n//     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n//     release.  See the section Mouse Tracking.\n//     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n//     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n//     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n//     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n//     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n//     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n//     (rxvt).\n//     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n//     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n//     the eightBitInput resource).\n//     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n//     Lock keys.  (This disables the numLock resource).\n//     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n//     (This disables the metaSendsEscape resource).\n//     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n//     Delete key.\n//     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n//     (This disables the altSendsEscape resource).\n//     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n//     (This disables the keepSelection resource).\n//     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n//     the selectToClipboard resource).\n//     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n//     Control-G is received.  (This disables the bellIsUrgent\n//     resource).\n//     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n//     G is received.  (This disables the popOnBell resource).\n//     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n//     first if in the Alternate Screen.  (This may be disabled by\n//     the titeInhibit resource).\n//     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n//     disabled by the titeInhibit resource).\n//     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n//     as in DECRC.  (This may be disabled by the titeInhibit\n//     resource).  This combines the effects of the 1 0 4 7  and 1 0\n//     4 8  modes.  Use this with terminfo-based applications rather\n//     than the 4 7  mode.\n//     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n//     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n//     Ps = 1 0 5 2  -> Reset HP function-key mode.\n//     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n//     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n//     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n//     Ps = 2 0 0 4  -> Reset bracketed paste mode.\nTerminal.prototype.resetMode = function(params) {\n  if (typeof params === 'object') {\n    var l = params.length\n      , i = 0;\n\n    for (; i < l; i++) {\n      this.resetMode(params[i]);\n    }\n\n    return;\n  }\n\n  if (!this.prefix) {\n    switch (params) {\n      case 4:\n        this.insertMode = false;\n        break;\n      case 20:\n        //this.convertEol = false;\n        break;\n    }\n  } else if (this.prefix === '?') {\n    switch (params) {\n      case 1:\n        this.applicationCursor = false;\n        break;\n      case 3:\n        if (this.cols === 132 && this.savedCols) {\n          this.resize(this.savedCols, this.rows);\n        }\n        delete this.savedCols;\n        break;\n      case 6:\n        this.originMode = false;\n        break;\n      case 7:\n        this.wraparoundMode = false;\n        break;\n      case 12:\n        // this.cursorBlink = false;\n        break;\n      case 66:\n        this.log('Switching back to normal keypad.');\n        this.applicationKeypad = false;\n        break;\n      case 9: // X10 Mouse\n      case 1000: // vt200 mouse\n      case 1002: // button event mouse\n      case 1003: // any event mouse\n        this.x10Mouse = false;\n        this.vt200Mouse = false;\n        this.normalMouse = false;\n        this.mouseEvents = false;\n        this.element.style.cursor = '';\n        break;\n      case 1004: // send focusin/focusout events\n        this.sendFocus = false;\n        break;\n      case 1005: // utf8 ext mode mouse\n        this.utfMouse = false;\n        break;\n      case 1006: // sgr ext mode mouse\n        this.sgrMouse = false;\n        break;\n      case 1015: // urxvt ext mode mouse\n        this.urxvtMouse = false;\n        break;\n      case 25: // hide cursor\n        this.cursorHidden = true;\n        break;\n      case 1049: // alt screen buffer cursor\n        ; // FALL-THROUGH\n      case 47: // normal screen buffer\n      case 1047: // normal screen buffer - clearing it first\n        if (this.normal) {\n          this.lines = this.normal.lines;\n          this.ybase = this.normal.ybase;\n          this.ydisp = this.normal.ydisp;\n          this.x = this.normal.x;\n          this.y = this.normal.y;\n          this.scrollTop = this.normal.scrollTop;\n          this.scrollBottom = this.normal.scrollBottom;\n          this.tabs = this.normal.tabs;\n          this.normal = null;\n          // if (params === 1049) {\n          //   this.x = this.savedX;\n          //   this.y = this.savedY;\n          // }\n          this.refresh(0, this.rows - 1);\n          this.showCursor();\n        }\n        break;\n    }\n  }\n};\n\n// CSI Ps ; Ps r\n//   Set Scrolling Region [top;bottom] (default = full size of win-\n//   dow) (DECSTBM).\n// CSI ? Pm r\nTerminal.prototype.setScrollRegion = function(params) {\n  if (this.prefix) return;\n  this.scrollTop = (params[0] || 1) - 1;\n  this.scrollBottom = (params[1] || this.rows) - 1;\n  this.x = 0;\n  this.y = 0;\n};\n\n// CSI s\n//   Save cursor (ANSI.SYS).\nTerminal.prototype.saveCursor = function(params) {\n  this.savedX = this.x;\n  this.savedY = this.y;\n};\n\n// CSI u\n//   Restore cursor (ANSI.SYS).\nTerminal.prototype.restoreCursor = function(params) {\n  this.x = this.savedX || 0;\n  this.y = this.savedY || 0;\n};\n\n/**\n * Lesser Used\n */\n\n// CSI Ps I\n//   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\nTerminal.prototype.cursorForwardTab = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.x = this.nextStop();\n  }\n};\n\n// CSI Ps S  Scroll up Ps lines (default = 1) (SU).\nTerminal.prototype.scrollUp = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.lines.splice(this.ybase + this.scrollTop, 1);\n    this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());\n  }\n  // this.maxRange();\n  this.updateRange(this.scrollTop);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps T  Scroll down Ps lines (default = 1) (SD).\nTerminal.prototype.scrollDown = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.lines.splice(this.ybase + this.scrollBottom, 1);\n    this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());\n  }\n  // this.maxRange();\n  this.updateRange(this.scrollTop);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps ; Ps ; Ps ; Ps ; Ps T\n//   Initiate highlight mouse tracking.  Parameters are\n//   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n//   Tracking.\nTerminal.prototype.initMouseTracking = function(params) {\n  // Relevant: DECSET 1001\n};\n\n// CSI > Ps; Ps T\n//   Reset one or more features of the title modes to the default\n//   value.  Normally, \"reset\" disables the feature.  It is possi-\n//   ble to disable the ability to reset features by compiling a\n//   different default for the title modes into xterm.\n//     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n//     Ps = 1  -> Do not query window/icon labels using hexadeci-\n//     mal.\n//     Ps = 2  -> Do not set window/icon labels using UTF-8.\n//     Ps = 3  -> Do not query window/icon labels using UTF-8.\n//   (See discussion of \"Title Modes\").\nTerminal.prototype.resetTitleModes = function(params) {\n  ;\n};\n\n// CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\nTerminal.prototype.cursorBackwardTab = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.x = this.prevStop();\n  }\n};\n\n// CSI Ps b  Repeat the preceding graphic character Ps times (REP).\nTerminal.prototype.repeatPrecedingCharacter = function(params) {\n  var param = params[0] || 1\n    , line = this.lines[this.ybase + this.y]\n    , ch = line[this.x - 1] || [this.defAttr, ' '];\n\n  while (param--) line[this.x++] = ch;\n};\n\n// CSI Ps g  Tab Clear (TBC).\n//     Ps = 0  -> Clear Current Column (default).\n//     Ps = 3  -> Clear All.\n// Potentially:\n//   Ps = 2  -> Clear Stops on Line.\n//   http://vt100.net/annarbor/aaa-ug/section6.html\nTerminal.prototype.tabClear = function(params) {\n  var param = params[0];\n  if (param <= 0) {\n    delete this.tabs[this.x];\n  } else if (param === 3) {\n    this.tabs = {};\n  }\n};\n\n// CSI Pm i  Media Copy (MC).\n//     Ps = 0  -> Print screen (default).\n//     Ps = 4  -> Turn off printer controller mode.\n//     Ps = 5  -> Turn on printer controller mode.\n// CSI ? Pm i\n//   Media Copy (MC, DEC-specific).\n//     Ps = 1  -> Print line containing cursor.\n//     Ps = 4  -> Turn off autoprint mode.\n//     Ps = 5  -> Turn on autoprint mode.\n//     Ps = 1  0  -> Print composed display, ignores DECPEX.\n//     Ps = 1  1  -> Print all pages.\nTerminal.prototype.mediaCopy = function(params) {\n  ;\n};\n\n// CSI > Ps; Ps m\n//   Set or reset resource-values used by xterm to decide whether\n//   to construct escape sequences holding information about the\n//   modifiers pressed with a given key.  The first parameter iden-\n//   tifies the resource to set/reset.  The second parameter is the\n//   value to assign to the resource.  If the second parameter is\n//   omitted, the resource is reset to its initial value.\n//     Ps = 1  -> modifyCursorKeys.\n//     Ps = 2  -> modifyFunctionKeys.\n//     Ps = 4  -> modifyOtherKeys.\n//   If no parameters are given, all resources are reset to their\n//   initial values.\nTerminal.prototype.setResources = function(params) {\n  ;\n};\n\n// CSI > Ps n\n//   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n//   sequence.  This corresponds to a resource value of \"-1\", which\n//   cannot be set with the other sequence.  The parameter identi-\n//   fies the resource to be disabled:\n//     Ps = 1  -> modifyCursorKeys.\n//     Ps = 2  -> modifyFunctionKeys.\n//     Ps = 4  -> modifyOtherKeys.\n//   If the parameter is omitted, modifyFunctionKeys is disabled.\n//   When modifyFunctionKeys is disabled, xterm uses the modifier\n//   keys to make an extended sequence of functions rather than\n//   adding a parameter to each function key to denote the modi-\n//   fiers.\nTerminal.prototype.disableModifiers = function(params) {\n  ;\n};\n\n// CSI > Ps p\n//   Set resource value pointerMode.  This is used by xterm to\n//   decide whether to hide the pointer cursor as the user types.\n//   Valid values for the parameter:\n//     Ps = 0  -> never hide the pointer.\n//     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n//     Ps = 2  -> always hide the pointer.  If no parameter is\n//     given, xterm uses the default, which is 1 .\nTerminal.prototype.setPointerMode = function(params) {\n  ;\n};\n\n// CSI ! p   Soft terminal reset (DECSTR).\n// http://vt100.net/docs/vt220-rm/table4-10.html\nTerminal.prototype.softReset = function(params) {\n  this.cursorHidden = false;\n  this.insertMode = false;\n  this.originMode = false;\n  this.wraparoundMode = false; // autowrap\n  this.applicationKeypad = false; // ?\n  this.applicationCursor = false;\n  this.scrollTop = 0;\n  this.scrollBottom = this.rows - 1;\n  this.curAttr = this.defAttr;\n  this.x = this.y = 0; // ?\n  this.charset = null;\n  this.glevel = 0; // ??\n  this.charsets = [null]; // ??\n};\n\n// CSI Ps$ p\n//   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n//     CSI Ps; Pm$ y\n//   where Ps is the mode number as in RM, and Pm is the mode\n//   value:\n//     0 - not recognized\n//     1 - set\n//     2 - reset\n//     3 - permanently set\n//     4 - permanently reset\nTerminal.prototype.requestAnsiMode = function(params) {\n  ;\n};\n\n// CSI ? Ps$ p\n//   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n//     CSI ? Ps; Pm$ p\n//   where Ps is the mode number as in DECSET, Pm is the mode value\n//   as in the ANSI DECRQM.\nTerminal.prototype.requestPrivateMode = function(params) {\n  ;\n};\n\n// CSI Ps ; Ps \" p\n//   Set conformance level (DECSCL).  Valid values for the first\n//   parameter:\n//     Ps = 6 1  -> VT100.\n//     Ps = 6 2  -> VT200.\n//     Ps = 6 3  -> VT300.\n//   Valid values for the second parameter:\n//     Ps = 0  -> 8-bit controls.\n//     Ps = 1  -> 7-bit controls (always set for VT100).\n//     Ps = 2  -> 8-bit controls.\nTerminal.prototype.setConformanceLevel = function(params) {\n  ;\n};\n\n// CSI Ps q  Load LEDs (DECLL).\n//     Ps = 0  -> Clear all LEDS (default).\n//     Ps = 1  -> Light Num Lock.\n//     Ps = 2  -> Light Caps Lock.\n//     Ps = 3  -> Light Scroll Lock.\n//     Ps = 2  1  -> Extinguish Num Lock.\n//     Ps = 2  2  -> Extinguish Caps Lock.\n//     Ps = 2  3  -> Extinguish Scroll Lock.\nTerminal.prototype.loadLEDs = function(params) {\n  ;\n};\n\n// CSI Ps SP q\n//   Set cursor style (DECSCUSR, VT520).\n//     Ps = 0  -> blinking block.\n//     Ps = 1  -> blinking block (default).\n//     Ps = 2  -> steady block.\n//     Ps = 3  -> blinking underline.\n//     Ps = 4  -> steady underline.\nTerminal.prototype.setCursorStyle = function(params) {\n  ;\n};\n\n// CSI Ps \" q\n//   Select character protection attribute (DECSCA).  Valid values\n//   for the parameter:\n//     Ps = 0  -> DECSED and DECSEL can erase (default).\n//     Ps = 1  -> DECSED and DECSEL cannot erase.\n//     Ps = 2  -> DECSED and DECSEL can erase.\nTerminal.prototype.setCharProtectionAttr = function(params) {\n  ;\n};\n\n// CSI ? Pm r\n//   Restore DEC Private Mode Values.  The value of Ps previously\n//   saved is restored.  Ps values are the same as for DECSET.\nTerminal.prototype.restorePrivateValues = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr; Ps$ r\n//   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.setAttrInRectangle = function(params) {\n  var t = params[0]\n    , l = params[1]\n    , b = params[2]\n    , r = params[3]\n    , attr = params[4];\n\n  var line\n    , i;\n\n  for (; t < b + 1; t++) {\n    line = this.lines[this.ybase + t];\n    for (i = l; i < r; i++) {\n      line[i] = [attr, line[i][1]];\n    }\n  }\n\n  // this.maxRange();\n  this.updateRange(params[0]);\n  this.updateRange(params[2]);\n};\n\n// CSI ? Pm s\n//   Save DEC Private Mode Values.  Ps values are the same as for\n//   DECSET.\nTerminal.prototype.savePrivateValues = function(params) {\n  ;\n};\n\n// CSI Ps ; Ps ; Ps t\n//   Window manipulation (from dtterm, as well as extensions).\n//   These controls may be disabled using the allowWindowOps\n//   resource.  Valid values for the first (and any additional\n//   parameters) are:\n//     Ps = 1  -> De-iconify window.\n//     Ps = 2  -> Iconify window.\n//     Ps = 3  ;  x ;  y -> Move window to [x, y].\n//     Ps = 4  ;  height ;  width -> Resize the xterm window to\n//     height and width in pixels.\n//     Ps = 5  -> Raise the xterm window to the front of the stack-\n//     ing order.\n//     Ps = 6  -> Lower the xterm window to the bottom of the\n//     stacking order.\n//     Ps = 7  -> Refresh the xterm window.\n//     Ps = 8  ;  height ;  width -> Resize the text area to\n//     [height;width] in characters.\n//     Ps = 9  ;  0  -> Restore maximized window.\n//     Ps = 9  ;  1  -> Maximize window (i.e., resize to screen\n//     size).\n//     Ps = 1 0  ;  0  -> Undo full-screen mode.\n//     Ps = 1 0  ;  1  -> Change to full-screen.\n//     Ps = 1 1  -> Report xterm window state.  If the xterm window\n//     is open (non-iconified), it returns CSI 1 t .  If the xterm\n//     window is iconified, it returns CSI 2 t .\n//     Ps = 1 3  -> Report xterm window position.  Result is CSI 3\n//     ; x ; y t\n//     Ps = 1 4  -> Report xterm window in pixels.  Result is CSI\n//     4  ;  height ;  width t\n//     Ps = 1 8  -> Report the size of the text area in characters.\n//     Result is CSI  8  ;  height ;  width t\n//     Ps = 1 9  -> Report the size of the screen in characters.\n//     Result is CSI  9  ;  height ;  width t\n//     Ps = 2 0  -> Report xterm window's icon label.  Result is\n//     OSC  L  label ST\n//     Ps = 2 1  -> Report xterm window's title.  Result is OSC  l\n//     label ST\n//     Ps = 2 2  ;  0  -> Save xterm icon and window title on\n//     stack.\n//     Ps = 2 2  ;  1  -> Save xterm icon title on stack.\n//     Ps = 2 2  ;  2  -> Save xterm window title on stack.\n//     Ps = 2 3  ;  0  -> Restore xterm icon and window title from\n//     stack.\n//     Ps = 2 3  ;  1  -> Restore xterm icon title from stack.\n//     Ps = 2 3  ;  2  -> Restore xterm window title from stack.\n//     Ps >= 2 4  -> Resize to Ps lines (DECSLPP).\nTerminal.prototype.manipulateWindow = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr; Ps$ t\n//   Reverse Attributes in Rectangular Area (DECRARA), VT400 and\n//   up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Ps denotes the attributes to reverse, i.e.,  1, 4, 5, 7.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.reverseAttrInRectangle = function(params) {\n  ;\n};\n\n// CSI > Ps; Ps t\n//   Set one or more features of the title modes.  Each parameter\n//   enables a single feature.\n//     Ps = 0  -> Set window/icon labels using hexadecimal.\n//     Ps = 1  -> Query window/icon labels using hexadecimal.\n//     Ps = 2  -> Set window/icon labels using UTF-8.\n//     Ps = 3  -> Query window/icon labels using UTF-8.  (See dis-\n//     cussion of \"Title Modes\")\nTerminal.prototype.setTitleModeFeature = function(params) {\n  ;\n};\n\n// CSI Ps SP t\n//   Set warning-bell volume (DECSWBV, VT520).\n//     Ps = 0  or 1  -> off.\n//     Ps = 2 , 3  or 4  -> low.\n//     Ps = 5 , 6 , 7 , or 8  -> high.\nTerminal.prototype.setWarningBellVolume = function(params) {\n  ;\n};\n\n// CSI Ps SP u\n//   Set margin-bell volume (DECSMBV, VT520).\n//     Ps = 1  -> off.\n//     Ps = 2 , 3  or 4  -> low.\n//     Ps = 0 , 5 , 6 , 7 , or 8  -> high.\nTerminal.prototype.setMarginBellVolume = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n//   Copy Rectangular Area (DECCRA, VT400 and up).\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Pp denotes the source page.\n//     Pt; Pl denotes the target location.\n//     Pp denotes the target page.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.copyRectangle = function(params) {\n  ;\n};\n\n// CSI Pt ; Pl ; Pb ; Pr ' w\n//   Enable Filter Rectangle (DECEFR), VT420 and up.\n//   Parameters are [top;left;bottom;right].\n//   Defines the coordinates of a filter rectangle and activates\n//   it.  Anytime the locator is detected outside of the filter\n//   rectangle, an outside rectangle event is generated and the\n//   rectangle is disabled.  Filter rectangles are always treated\n//   as \"one-shot\" events.  Any parameters that are omitted default\n//   to the current locator position.  If all parameters are omit-\n//   ted, any locator motion will be reported.  DECELR always can-\n//   cels any prevous rectangle definition.\nTerminal.prototype.enableFilterRectangle = function(params) {\n  ;\n};\n\n// CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n//   if Ps is a \"0\" (default) or \"1\", and xterm is emulating VT100,\n//   the control sequence elicits a response of the same form whose\n//   parameters describe the terminal:\n//     Ps -> the given Ps incremented by 2.\n//     Pn = 1  <- no parity.\n//     Pn = 1  <- eight bits.\n//     Pn = 1  <- 2  8  transmit 38.4k baud.\n//     Pn = 1  <- 2  8  receive 38.4k baud.\n//     Pn = 1  <- clock multiplier.\n//     Pn = 0  <- STP flags.\nTerminal.prototype.requestParameters = function(params) {\n  ;\n};\n\n// CSI Ps x  Select Attribute Change Extent (DECSACE).\n//     Ps = 0  -> from start to end position, wrapped.\n//     Ps = 1  -> from start to end position, wrapped.\n//     Ps = 2  -> rectangle (exact).\nTerminal.prototype.selectChangeExtent = function(params) {\n  ;\n};\n\n// CSI Pc; Pt; Pl; Pb; Pr$ x\n//   Fill Rectangular Area (DECFRA), VT420 and up.\n//     Pc is the character to use.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.fillRectangle = function(params) {\n  var ch = params[0]\n    , t = params[1]\n    , l = params[2]\n    , b = params[3]\n    , r = params[4];\n\n  var line\n    , i;\n\n  for (; t < b + 1; t++) {\n    line = this.lines[this.ybase + t];\n    for (i = l; i < r; i++) {\n      line[i] = [line[i][0], String.fromCharCode(ch)];\n    }\n  }\n\n  // this.maxRange();\n  this.updateRange(params[1]);\n  this.updateRange(params[3]);\n};\n\n// CSI Ps ; Pu ' z\n//   Enable Locator Reporting (DECELR).\n//   Valid values for the first parameter:\n//     Ps = 0  -> Locator disabled (default).\n//     Ps = 1  -> Locator enabled.\n//     Ps = 2  -> Locator enabled for one report, then disabled.\n//   The second parameter specifies the coordinate unit for locator\n//   reports.\n//   Valid values for the second parameter:\n//     Pu = 0  <- or omitted -> default to character cells.\n//     Pu = 1  <- device physical pixels.\n//     Pu = 2  <- character cells.\nTerminal.prototype.enableLocatorReporting = function(params) {\n  var val = params[0] > 0;\n  //this.mouseEvents = val;\n  //this.decLocator = val;\n};\n\n// CSI Pt; Pl; Pb; Pr$ z\n//   Erase Rectangular Area (DECERA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.eraseRectangle = function(params) {\n  var t = params[0]\n    , l = params[1]\n    , b = params[2]\n    , r = params[3];\n\n  var line\n    , i\n    , ch;\n\n  ch = [this.eraseAttr(), ' ']; // xterm?\n\n  for (; t < b + 1; t++) {\n    line = this.lines[this.ybase + t];\n    for (i = l; i < r; i++) {\n      line[i] = ch;\n    }\n  }\n\n  // this.maxRange();\n  this.updateRange(params[0]);\n  this.updateRange(params[2]);\n};\n\n// CSI Pm ' {\n//   Select Locator Events (DECSLE).\n//   Valid values for the first (and any additional parameters)\n//   are:\n//     Ps = 0  -> only respond to explicit host requests (DECRQLP).\n//                (This is default).  It also cancels any filter\n//   rectangle.\n//     Ps = 1  -> report button down transitions.\n//     Ps = 2  -> do not report button down transitions.\n//     Ps = 3  -> report button up transitions.\n//     Ps = 4  -> do not report button up transitions.\nTerminal.prototype.setLocatorEvents = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr$ {\n//   Selective Erase Rectangular Area (DECSERA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\nTerminal.prototype.selectiveEraseRectangle = function(params) {\n  ;\n};\n\n// CSI Ps ' |\n//   Request Locator Position (DECRQLP).\n//   Valid values for the parameter are:\n//     Ps = 0 , 1 or omitted -> transmit a single DECLRP locator\n//     report.\n\n//   If Locator Reporting has been enabled by a DECELR, xterm will\n//   respond with a DECLRP Locator Report.  This report is also\n//   generated on button up and down events if they have been\n//   enabled with a DECSLE, or when the locator is detected outside\n//   of a filter rectangle, if filter rectangles have been enabled\n//   with a DECEFR.\n\n//     -> CSI Pe ; Pb ; Pr ; Pc ; Pp &  w\n\n//   Parameters are [event;button;row;column;page].\n//   Valid values for the event:\n//     Pe = 0  -> locator unavailable - no other parameters sent.\n//     Pe = 1  -> request - xterm received a DECRQLP.\n//     Pe = 2  -> left button down.\n//     Pe = 3  -> left button up.\n//     Pe = 4  -> middle button down.\n//     Pe = 5  -> middle button up.\n//     Pe = 6  -> right button down.\n//     Pe = 7  -> right button up.\n//     Pe = 8  -> M4 button down.\n//     Pe = 9  -> M4 button up.\n//     Pe = 1 0  -> locator outside filter rectangle.\n//   ``button'' parameter is a bitmask indicating which buttons are\n//     pressed:\n//     Pb = 0  <- no buttons down.\n//     Pb & 1  <- right button down.\n//     Pb & 2  <- middle button down.\n//     Pb & 4  <- left button down.\n//     Pb & 8  <- M4 button down.\n//   ``row'' and ``column'' parameters are the coordinates of the\n//     locator position in the xterm window, encoded as ASCII deci-\n//     mal.\n//   The ``page'' parameter is not used by xterm, and will be omit-\n//   ted.\nTerminal.prototype.requestLocatorPosition = function(params) {\n  ;\n};\n\n// CSI P m SP }\n// Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.insertColumns = function() {\n  var param = params[0]\n    , l = this.ybase + this.rows\n    , ch = [this.eraseAttr(), ' '] // xterm?\n    , i;\n\n  while (param--) {\n    for (i = this.ybase; i < l; i++) {\n      this.lines[i].splice(this.x + 1, 0, ch);\n      this.lines[i].pop();\n    }\n  }\n\n  this.maxRange();\n};\n\n// CSI P m SP ~\n// Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.deleteColumns = function() {\n  var param = params[0]\n    , l = this.ybase + this.rows\n    , ch = [this.eraseAttr(), ' '] // xterm?\n    , i;\n\n  while (param--) {\n    for (i = this.ybase; i < l; i++) {\n      this.lines[i].splice(this.x, 1);\n      this.lines[i].push(ch);\n    }\n  }\n\n  this.maxRange();\n};\n\n/**\n * Prefix/Select/Visual/Search Modes\n */\n\nTerminal.prototype.enterPrefix = function() {\n  this.prefixMode = true;\n};\n\nTerminal.prototype.leavePrefix = function() {\n  this.prefixMode = false;\n};\n\nTerminal.prototype.enterSelect = function() {\n  this._real = {\n    x: this.x,\n    y: this.y,\n    ydisp: this.ydisp,\n    ybase: this.ybase,\n    cursorHidden: this.cursorHidden,\n    lines: this.copyBuffer(this.lines),\n    write: this.write\n  };\n  this.write = function() {};\n  this.selectMode = true;\n  this.visualMode = false;\n  this.cursorHidden = false;\n  this.refresh(this.y, this.y);\n};\n\nTerminal.prototype.leaveSelect = function() {\n  this.x = this._real.x;\n  this.y = this._real.y;\n  this.ydisp = this._real.ydisp;\n  this.ybase = this._real.ybase;\n  this.cursorHidden = this._real.cursorHidden;\n  this.lines = this._real.lines;\n  this.write = this._real.write;\n  delete this._real;\n  this.selectMode = false;\n  this.visualMode = false;\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.enterVisual = function() {\n  this._real.preVisual = this.copyBuffer(this.lines);\n  this.selectText(this.x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n  this.visualMode = true;\n};\n\nTerminal.prototype.leaveVisual = function() {\n  this.lines = this._real.preVisual;\n  delete this._real.preVisual;\n  delete this._selected;\n  this.visualMode = false;\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.enterSearch = function(down) {\n  this.entry = '';\n  this.searchMode = true;\n  this.searchDown = down;\n  this._real.preSearch = this.copyBuffer(this.lines);\n  this._real.preSearchX = this.x;\n  this._real.preSearchY = this.y;\n\n  var bottom = this.ydisp + this.rows - 1;\n  for (var i = 0; i < this.entryPrefix.length; i++) {\n    //this.lines[bottom][i][0] = (this.defAttr & ~0x1ff) | 4;\n    //this.lines[bottom][i][1] = this.entryPrefix[i];\n    this.lines[bottom][i] = [\n      (this.defAttr & ~0x1ff) | 4,\n      this.entryPrefix[i]\n    ];\n  }\n\n  this.y = this.rows - 1;\n  this.x = this.entryPrefix.length;\n\n  this.refresh(this.rows - 1, this.rows - 1);\n};\n\nTerminal.prototype.leaveSearch = function() {\n  this.searchMode = false;\n\n  if (this._real.preSearch) {\n    this.lines = this._real.preSearch;\n    this.x = this._real.preSearchX;\n    this.y = this._real.preSearchY;\n    delete this._real.preSearch;\n    delete this._real.preSearchX;\n    delete this._real.preSearchY;\n  }\n\n  this.refresh(this.rows - 1, this.rows - 1);\n};\n\nTerminal.prototype.copyBuffer = function(lines) {\n  var lines = lines || this.lines\n    , out = [];\n\n  for (var y = 0; y < lines.length; y++) {\n    out[y] = [];\n    for (var x = 0; x < lines[y].length; x++) {\n      out[y][x] = [lines[y][x][0], lines[y][x][1]];\n    }\n  }\n\n  return out;\n};\n\nTerminal.prototype.getCopyTextarea = function(text) {\n  var textarea = this._copyTextarea\n    , document = this.document;\n\n  if (!textarea) {\n    textarea = document.createElement('textarea');\n    textarea.style.position = 'absolute';\n    textarea.style.left = '-32000px';\n    textarea.style.top = '-32000px';\n    textarea.style.width = '0px';\n    textarea.style.height = '0px';\n    textarea.style.opacity = '0';\n    textarea.style.backgroundColor = 'transparent';\n    textarea.style.borderStyle = 'none';\n    textarea.style.outlineStyle = 'none';\n\n    document.getElementsByTagName('body')[0].appendChild(textarea);\n\n    this._copyTextarea = textarea;\n  }\n\n  return textarea;\n};\n\n// NOTE: Only works for primary selection on X11.\n// Non-X11 users should use Ctrl-C instead.\nTerminal.prototype.copyText = function(text) {\n  var self = this\n    , textarea = this.getCopyTextarea();\n\n  this.emit('copy', text);\n\n  textarea.focus();\n  textarea.textContent = text;\n  textarea.value = text;\n  textarea.setSelectionRange(0, text.length);\n\n  setTimeout(function() {\n    self.element.focus();\n    self.focus();\n  }, 1);\n};\n\nTerminal.prototype.selectText = function(x1, x2, y1, y2) {\n  var ox1\n    , ox2\n    , oy1\n    , oy2\n    , tmp\n    , x\n    , y\n    , xl\n    , attr;\n\n  if (this._selected) {\n    ox1 = this._selected.x1;\n    ox2 = this._selected.x2;\n    oy1 = this._selected.y1;\n    oy2 = this._selected.y2;\n\n    if (oy2 < oy1) {\n      tmp = ox2;\n      ox2 = ox1;\n      ox1 = tmp;\n      tmp = oy2;\n      oy2 = oy1;\n      oy1 = tmp;\n    }\n\n    if (ox2 < ox1 && oy1 === oy2) {\n      tmp = ox2;\n      ox2 = ox1;\n      ox1 = tmp;\n    }\n\n    for (y = oy1; y <= oy2; y++) {\n      x = 0;\n      xl = this.cols - 1;\n      if (y === oy1) {\n        x = ox1;\n      }\n      if (y === oy2) {\n        xl = ox2;\n      }\n      for (; x <= xl; x++) {\n        if (this.lines[y][x].old != null) {\n          //this.lines[y][x][0] = this.lines[y][x].old;\n          //delete this.lines[y][x].old;\n          attr = this.lines[y][x].old;\n          delete this.lines[y][x].old;\n          this.lines[y][x] = [attr, this.lines[y][x][1]];\n        }\n      }\n    }\n\n    y1 = this._selected.y1;\n    x1 = this._selected.x1;\n  }\n\n  y1 = Math.max(y1, 0);\n  y1 = Math.min(y1, this.ydisp + this.rows - 1);\n\n  y2 = Math.max(y2, 0);\n  y2 = Math.min(y2, this.ydisp + this.rows - 1);\n\n  this._selected = { x1: x1, x2: x2, y1: y1, y2: y2 };\n\n  if (y2 < y1) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n    tmp = y2;\n    y2 = y1;\n    y1 = tmp;\n  }\n\n  if (x2 < x1 && y1 === y2) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n  }\n\n  for (y = y1; y <= y2; y++) {\n    x = 0;\n    xl = this.cols - 1;\n    if (y === y1) {\n      x = x1;\n    }\n    if (y === y2) {\n      xl = x2;\n    }\n    for (; x <= xl; x++) {\n      //this.lines[y][x].old = this.lines[y][x][0];\n      //this.lines[y][x][0] &= ~0x1ff;\n      //this.lines[y][x][0] |= (0x1ff << 9) | 4;\n      attr = this.lines[y][x][0];\n      this.lines[y][x] = [\n        (attr & ~0x1ff) | ((0x1ff << 9) | 4),\n        this.lines[y][x][1]\n      ];\n      this.lines[y][x].old = attr;\n    }\n  }\n\n  y1 = y1 - this.ydisp;\n  y2 = y2 - this.ydisp;\n\n  y1 = Math.max(y1, 0);\n  y1 = Math.min(y1, this.rows - 1);\n\n  y2 = Math.max(y2, 0);\n  y2 = Math.min(y2, this.rows - 1);\n\n  //this.refresh(y1, y2);\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.grabText = function(x1, x2, y1, y2) {\n  var out = ''\n    , buf = ''\n    , ch\n    , x\n    , y\n    , xl\n    , tmp;\n\n  if (y2 < y1) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n    tmp = y2;\n    y2 = y1;\n    y1 = tmp;\n  }\n\n  if (x2 < x1 && y1 === y2) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n  }\n\n  for (y = y1; y <= y2; y++) {\n    x = 0;\n    xl = this.cols - 1;\n    if (y === y1) {\n      x = x1;\n    }\n    if (y === y2) {\n      xl = x2;\n    }\n    for (; x <= xl; x++) {\n      ch = this.lines[y][x][1];\n      if (ch === ' ') {\n        buf += ch;\n        continue;\n      }\n      if (buf) {\n        out += buf;\n        buf = '';\n      }\n      out += ch;\n      if (isWide(ch)) x++;\n    }\n    buf = '';\n    out += '\\n';\n  }\n\n  // If we're not at the end of the\n  // line, don't add a newline.\n  for (x = x2, y = y2; x < this.cols; x++) {\n    if (this.lines[y][x][1] !== ' ') {\n      out = out.slice(0, -1);\n      break;\n    }\n  }\n\n  return out;\n};\n\nTerminal.prototype.keyPrefix = function(ev, key) {\n  if (key === 'k' || key === '&') {\n    this.destroy();\n  } else if (key === 'p' || key === ']') {\n    this.emit('request paste');\n  } else if (key === 'c') {\n    this.emit('request create');\n  } else if (key >= '0' && key <= '9') {\n    key = +key - 1;\n    if (!~key) key = 9;\n    this.emit('request term', key);\n  } else if (key === 'n') {\n    this.emit('request term next');\n  } else if (key === 'P') {\n    this.emit('request term previous');\n  } else if (key === ':') {\n    this.emit('request command mode');\n  } else if (key === '[') {\n    this.enterSelect();\n  }\n};\n\nTerminal.prototype.keySelect = function(ev, key) {\n  this.showCursor();\n\n  if (this.searchMode || key === 'n' || key === 'N') {\n    return this.keySearch(ev, key);\n  }\n\n  if (key === '\\x04') { // ctrl-d\n    var y = this.ydisp + this.y;\n    if (this.ydisp === this.ybase) {\n      // Mimic vim behavior\n      this.y = Math.min(this.y + (this.rows - 1) / 2 | 0, this.rows - 1);\n      this.refresh(0, this.rows - 1);\n    } else {\n      this.scrollDisp((this.rows - 1) / 2 | 0);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '\\x15') { // ctrl-u\n    var y = this.ydisp + this.y;\n    if (this.ydisp === 0) {\n      // Mimic vim behavior\n      this.y = Math.max(this.y - (this.rows - 1) / 2 | 0, 0);\n      this.refresh(0, this.rows - 1);\n    } else {\n      this.scrollDisp(-(this.rows - 1) / 2 | 0);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '\\x06') { // ctrl-f\n    var y = this.ydisp + this.y;\n    this.scrollDisp(this.rows - 1);\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '\\x02') { // ctrl-b\n    var y = this.ydisp + this.y;\n    this.scrollDisp(-(this.rows - 1));\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'k' || key === '\\x1b[A') {\n    var y = this.ydisp + this.y;\n    this.y--;\n    if (this.y < 0) {\n      this.y = 0;\n      this.scrollDisp(-1);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y + 1);\n    }\n    return;\n  }\n\n  if (key === 'j' || key === '\\x1b[B') {\n    var y = this.ydisp + this.y;\n    this.y++;\n    if (this.y >= this.rows) {\n      this.y = this.rows - 1;\n      this.scrollDisp(1);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y - 1, this.y);\n    }\n    return;\n  }\n\n  if (key === 'h' || key === '\\x1b[D') {\n    var x = this.x;\n    this.x--;\n    if (this.x < 0) {\n      this.x = 0;\n    }\n    if (this.visualMode) {\n      this.selectText(x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === 'l' || key === '\\x1b[C') {\n    var x = this.x;\n    this.x++;\n    if (this.x >= this.cols) {\n      this.x = this.cols - 1;\n    }\n    if (this.visualMode) {\n      this.selectText(x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === 'v' || key === ' ') {\n    if (!this.visualMode) {\n      this.enterVisual();\n    } else {\n      this.leaveVisual();\n    }\n    return;\n  }\n\n  if (key === 'y') {\n    if (this.visualMode) {\n      var text = this.grabText(\n        this._selected.x1, this._selected.x2,\n        this._selected.y1, this._selected.y2);\n      this.copyText(text);\n      this.leaveVisual();\n      // this.leaveSelect();\n    }\n    return;\n  }\n\n  if (key === 'q' || key === '\\x1b') {\n    if (this.visualMode) {\n      this.leaveVisual();\n    } else {\n      this.leaveSelect();\n    }\n    return;\n  }\n\n  if (key === 'w' || key === 'W') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var x = this.x;\n    var y = this.y;\n    var yb = this.ydisp;\n    var saw_space = false;\n\n    for (;;) {\n      var line = this.lines[yb + y];\n      while (x < this.cols) {\n        if (line[x][1] <= ' ') {\n          saw_space = true;\n        } else if (saw_space) {\n          break;\n        }\n        x++;\n      }\n      if (x >= this.cols) x = this.cols - 1;\n      if (x === this.cols - 1 && line[x][1] <= ' ') {\n        x = 0;\n        if (++y >= this.rows) {\n          y--;\n          if (++yb > this.ybase) {\n            yb = this.ybase;\n            x = this.x;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    this.x = x, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'b' || key === 'B') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var x = this.x;\n    var y = this.y;\n    var yb = this.ydisp;\n\n    for (;;) {\n      var line = this.lines[yb + y];\n      var saw_space = x > 0 && line[x][1] > ' ' && line[x - 1][1] > ' ';\n      while (x >= 0) {\n        if (line[x][1] <= ' ') {\n          if (saw_space && (x + 1 < this.cols && line[x + 1][1] > ' ')) {\n            x++;\n            break;\n          } else {\n            saw_space = true;\n          }\n        }\n        x--;\n      }\n      if (x < 0) x = 0;\n      if (x === 0 && (line[x][1] <= ' ' || !saw_space)) {\n        x = this.cols - 1;\n        if (--y < 0) {\n          y++;\n          if (--yb < 0) {\n            yb++;\n            x = 0;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    this.x = x, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'e' || key === 'E') {\n    var x = this.x + 1;\n    var y = this.y;\n    var yb = this.ydisp;\n    if (x >= this.cols) x--;\n\n    for (;;) {\n      var line = this.lines[yb + y];\n      while (x < this.cols) {\n        if (line[x][1] <= ' ') {\n          x++;\n        } else {\n          break;\n        }\n      }\n      while (x < this.cols) {\n        if (line[x][1] <= ' ') {\n          if (x - 1 >= 0 && line[x - 1][1] > ' ') {\n            x--;\n            break;\n          }\n        }\n        x++;\n      }\n      if (x >= this.cols) x = this.cols - 1;\n      if (x === this.cols - 1 && line[x][1] <= ' ') {\n        x = 0;\n        if (++y >= this.rows) {\n          y--;\n          if (++yb > this.ybase) {\n            yb = this.ybase;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    this.x = x, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '^' || key === '0') {\n    var ox = this.x;\n\n    if (key === '0') {\n      this.x = 0;\n    } else if (key === '^') {\n      var line = this.lines[this.ydisp + this.y];\n      var x = 0;\n      while (x < this.cols) {\n        if (line[x][1] > ' ') {\n          break;\n        }\n        x++;\n      }\n      if (x >= this.cols) x = this.cols - 1;\n      this.x = x;\n    }\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === '$') {\n    var ox = this.x;\n    var line = this.lines[this.ydisp + this.y];\n    var x = this.cols - 1;\n    while (x >= 0) {\n      if (line[x][1] > ' ') {\n        if (this.visualMode && x < this.cols - 1) x++;\n        break;\n      }\n      x--;\n    }\n    if (x < 0) x = 0;\n    this.x = x;\n    if (this.visualMode) {\n      this.selectText(ox, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === 'g' || key === 'G') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n    if (key === 'g') {\n      this.x = 0, this.y = 0;\n      this.scrollDisp(-this.ydisp);\n    } else if (key === 'G') {\n      this.x = 0, this.y = this.rows - 1;\n      this.scrollDisp(this.ybase);\n    }\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'H' || key === 'M' || key === 'L') {\n    var ox = this.x;\n    var oy = this.y;\n    if (key === 'H') {\n      this.x = 0, this.y = 0;\n    } else if (key === 'M') {\n      this.x = 0, this.y = this.rows / 2 | 0;\n    } else if (key === 'L') {\n      this.x = 0, this.y = this.rows - 1;\n    }\n    if (this.visualMode) {\n      this.selectText(ox, this.x, this.ydisp + oy, this.ydisp + this.y);\n    } else {\n      this.refresh(oy, oy);\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === '{' || key === '}') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var line;\n    var saw_full = false;\n    var found = false;\n    var first_is_space = -1;\n    var y = this.y + (key === '{' ? -1 : 1);\n    var yb = this.ydisp;\n    var i;\n\n    if (key === '{') {\n      if (y < 0) {\n        y++;\n        if (yb > 0) yb--;\n      }\n    } else if (key === '}') {\n      if (y >= this.rows) {\n        y--;\n        if (yb < this.ybase) yb++;\n      }\n    }\n\n    for (;;) {\n      line = this.lines[yb + y];\n\n      for (i = 0; i < this.cols; i++) {\n        if (line[i][1] > ' ') {\n          if (first_is_space === -1) {\n            first_is_space = 0;\n          }\n          saw_full = true;\n          break;\n        } else if (i === this.cols - 1) {\n          if (first_is_space === -1) {\n            first_is_space = 1;\n          } else if (first_is_space === 0) {\n            found = true;\n          } else if (first_is_space === 1) {\n            if (saw_full) found = true;\n          }\n          break;\n        }\n      }\n\n      if (found) break;\n\n      if (key === '{') {\n        y--;\n        if (y < 0) {\n          y++;\n          if (yb > 0) yb--;\n          else break;\n        }\n      } else if (key === '}') {\n        y++;\n        if (y >= this.rows) {\n          y--;\n          if (yb < this.ybase) yb++;\n          else break;\n        }\n      }\n    }\n\n    if (!found) {\n      if (key === '{') {\n        y = 0;\n        yb = 0;\n      } else if (key === '}') {\n        y = this.rows - 1;\n        yb = this.ybase;\n      }\n    }\n\n    this.x = 0, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '/' || key === '?') {\n    if (!this.visualMode) {\n      this.enterSearch(key === '/');\n    }\n    return;\n  }\n\n  return false;\n};\n\nTerminal.prototype.keySearch = function(ev, key) {\n  if (key === '\\x1b') {\n    this.leaveSearch();\n    return;\n  }\n\n  if (key === '\\r' || (!this.searchMode && (key === 'n' || key === 'N'))) {\n    this.leaveSearch();\n\n    var entry = this.entry;\n\n    if (!entry) {\n      this.refresh(0, this.rows - 1);\n      return;\n    }\n\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var line;\n    var found = false;\n    var wrapped = false;\n    var x = this.x + 1;\n    var y = this.ydisp + this.y;\n    var yb, i;\n    var up = key === 'N'\n      ? this.searchDown\n      : !this.searchDown;\n\n    for (;;) {\n      line = this.lines[y];\n\n      while (x < this.cols) {\n        for (i = 0; i < entry.length; i++) {\n          if (x + i >= this.cols) break;\n          if (line[x + i][1] !== entry[i]) {\n            break;\n          } else if (line[x + i][1] === entry[i] && i === entry.length - 1) {\n            found = true;\n            break;\n          }\n        }\n        if (found) break;\n        x += i + 1;\n      }\n      if (found) break;\n\n      x = 0;\n\n      if (!up) {\n        y++;\n        if (y > this.ybase + this.rows - 1) {\n          if (wrapped) break;\n          // this.setMessage('Search wrapped. Continuing at TOP.');\n          wrapped = true;\n          y = 0;\n        }\n      } else {\n        y--;\n        if (y < 0) {\n          if (wrapped) break;\n          // this.setMessage('Search wrapped. Continuing at BOTTOM.');\n          wrapped = true;\n          y = this.ybase + this.rows - 1;\n        }\n      }\n    }\n\n    if (found) {\n      if (y - this.ybase < 0) {\n        yb = y;\n        y = 0;\n        if (yb > this.ybase) {\n          y = yb - this.ybase;\n          yb = this.ybase;\n        }\n      } else {\n        yb = this.ybase;\n        y -= this.ybase;\n      }\n\n      this.x = x, this.y = y;\n      this.scrollDisp(-this.ydisp + yb);\n\n      if (this.visualMode) {\n        this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n      }\n      return;\n    }\n\n    // this.setMessage(\"No matches found.\");\n    this.refresh(0, this.rows - 1);\n\n    return;\n  }\n\n  if (key === '\\b' || key === '\\x7f') {\n    if (this.entry.length === 0) return;\n    var bottom = this.ydisp + this.rows - 1;\n    this.entry = this.entry.slice(0, -1);\n    var i = this.entryPrefix.length + this.entry.length;\n    //this.lines[bottom][i][1] = ' ';\n    this.lines[bottom][i] = [\n      this.lines[bottom][i][0],\n      ' '\n    ];\n    this.x--;\n    this.refresh(this.rows - 1, this.rows - 1);\n    this.refresh(this.y, this.y);\n    return;\n  }\n\n  if (key.length === 1 && key >= ' ' && key <= '~') {\n    var bottom = this.ydisp + this.rows - 1;\n    this.entry += key;\n    var i = this.entryPrefix.length + this.entry.length - 1;\n    //this.lines[bottom][i][0] = (this.defAttr & ~0x1ff) | 4;\n    //this.lines[bottom][i][1] = key;\n    this.lines[bottom][i] = [\n      (this.defAttr & ~0x1ff) | 4,\n      key\n    ];\n    this.x++;\n    this.refresh(this.rows - 1, this.rows - 1);\n    this.refresh(this.y, this.y);\n    return;\n  }\n\n  return false;\n};\n\n/**\n * Character Sets\n */\n\nTerminal.charsets = {};\n\n// DEC Special Character and Line Drawing Set.\n// http://vt100.net/docs/vt102-ug/table5-13.html\n// A lot of curses apps use this if they see TERM=xterm.\n// testing: echo -e '\\e(0a\\e(B'\n// The xterm output sometimes seems to conflict with the\n// reference above. xterm seems in line with the reference\n// when running vttest however.\n// The table below now uses xterm's output from vttest.\nTerminal.charsets.SCLD = { // (0\n  '`': '\\u25c6', // '\u25C6'\n  'a': '\\u2592', // '\u2592'\n  'b': '\\u0009', // '\\t'\n  'c': '\\u000c', // '\\f'\n  'd': '\\u000d', // '\\r'\n  'e': '\\u000a', // '\\n'\n  'f': '\\u00b0', // '\u00B0'\n  'g': '\\u00b1', // '\u00B1'\n  'h': '\\u2424', // '\\u2424' (NL)\n  'i': '\\u000b', // '\\v'\n  'j': '\\u2518', // '\u2518'\n  'k': '\\u2510', // '\u2510'\n  'l': '\\u250c', // '\u250C'\n  'm': '\\u2514', // '\u2514'\n  'n': '\\u253c', // '\u253C'\n  'o': '\\u23ba', // '\u23BA'\n  'p': '\\u23bb', // '\u23BB'\n  'q': '\\u2500', // '\u2500'\n  'r': '\\u23bc', // '\u23BC'\n  's': '\\u23bd', // '\u23BD'\n  't': '\\u251c', // '\u251C'\n  'u': '\\u2524', // '\u2524'\n  'v': '\\u2534', // '\u2534'\n  'w': '\\u252c', // '\u252C'\n  'x': '\\u2502', // '\u2502'\n  'y': '\\u2264', // '\u2264'\n  'z': '\\u2265', // '\u2265'\n  '{': '\\u03c0', // '\u03C0'\n  '|': '\\u2260', // '\u2260'\n  '}': '\\u00a3', // '\u00A3'\n  '~': '\\u00b7'  // '\u00B7'\n};\n\nTerminal.charsets.UK = null; // (A\nTerminal.charsets.US = null; // (B (USASCII)\nTerminal.charsets.Dutch = null; // (4\nTerminal.charsets.Finnish = null; // (C or (5\nTerminal.charsets.French = null; // (R\nTerminal.charsets.FrenchCanadian = null; // (Q\nTerminal.charsets.German = null; // (K\nTerminal.charsets.Italian = null; // (Y\nTerminal.charsets.NorwegianDanish = null; // (E or (6\nTerminal.charsets.Spanish = null; // (Z\nTerminal.charsets.Swedish = null; // (H or (7\nTerminal.charsets.Swiss = null; // (=\nTerminal.charsets.ISOLatin = null; // /A\n\n/**\n * Helpers\n */\n\nfunction on(el, type, handler, capture) {\n  el.addEventListener(type, handler, capture || false);\n}\n\nfunction off(el, type, handler, capture) {\n  el.removeEventListener(type, handler, capture || false);\n}\n\nfunction cancel(ev) {\n  if (ev.preventDefault) ev.preventDefault();\n  ev.returnValue = false;\n  if (ev.stopPropagation) ev.stopPropagation();\n  ev.cancelBubble = true;\n  return false;\n}\n\nfunction inherits(child, parent) {\n  function f() {\n    this.constructor = child;\n  }\n  f.prototype = parent.prototype;\n  child.prototype = new f;\n}\n\n// if bold is broken, we can't\n// use it in the terminal.\nfunction isBoldBroken(document) {\n  var body = document.getElementsByTagName('body')[0];\n  var terminal = document.createElement('div');\n  terminal.className = 'terminal';\n  var line = document.createElement('div');\n  var el = document.createElement('span');\n  el.innerHTML = 'hello world';\n  line.appendChild(el);\n  terminal.appendChild(line);\n  body.appendChild(terminal);\n  var w1 = el.scrollWidth;\n  el.style.fontWeight = 'bold';\n  var w2 = el.scrollWidth;\n  body.removeChild(terminal);\n  return w1 !== w2;\n}\n\nvar String = this.String;\nvar setTimeout = this.setTimeout;\nvar setInterval = this.setInterval;\n\nfunction indexOf(obj, el) {\n  var i = obj.length;\n  while (i--) {\n    if (obj[i] === el) return i;\n  }\n  return -1;\n}\n\nfunction isWide(ch) {\n  if (ch <= '\\uff00') return false;\n  return (ch >= '\\uff01' && ch <= '\\uffbe')\n      || (ch >= '\\uffc2' && ch <= '\\uffc7')\n      || (ch >= '\\uffca' && ch <= '\\uffcf')\n      || (ch >= '\\uffd2' && ch <= '\\uffd7')\n      || (ch >= '\\uffda' && ch <= '\\uffdc')\n      || (ch >= '\\uffe0' && ch <= '\\uffe6')\n      || (ch >= '\\uffe8' && ch <= '\\uffee');\n}\n\nfunction matchColor(r1, g1, b1) {\n  var hash = (r1 << 16) | (g1 << 8) | b1;\n\n  if (matchColor._cache[hash] != null) {\n    return matchColor._cache[hash];\n  }\n\n  var ldiff = Infinity\n    , li = -1\n    , i = 0\n    , c\n    , r2\n    , g2\n    , b2\n    , diff;\n\n  for (; i < Terminal.vcolors.length; i++) {\n    c = Terminal.vcolors[i];\n    r2 = c[0];\n    g2 = c[1];\n    b2 = c[2];\n\n    diff = matchColor.distance(r1, g1, b1, r2, g2, b2);\n\n    if (diff === 0) {\n      li = i;\n      break;\n    }\n\n    if (diff < ldiff) {\n      ldiff = diff;\n      li = i;\n    }\n  }\n\n  return matchColor._cache[hash] = li;\n}\n\nmatchColor._cache = {};\n\n// http://stackoverflow.com/questions/1633828\nmatchColor.distance = function(r1, g1, b1, r2, g2, b2) {\n  return Math.pow(30 * (r1 - r2), 2)\n    + Math.pow(59 * (g1 - g2), 2)\n    + Math.pow(11 * (b1 - b2), 2);\n};\n\nfunction each(obj, iter, con) {\n  if (obj.forEach) return obj.forEach(iter, con);\n  for (var i = 0; i < obj.length; i++) {\n    iter.call(con, obj[i], i, obj);\n  }\n}\n\nfunction keys(obj) {\n  if (Object.keys) return Object.keys(obj);\n  var key, keys = [];\n  for (key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n  return keys;\n}\n\n/**\n * Expose\n */\n\nTerminal.EventEmitter = EventEmitter;\nTerminal.Stream = Stream;\nTerminal.inherits = inherits;\nTerminal.on = on;\nTerminal.off = off;\nTerminal.cancel = cancel;\n\nif (typeof module !== 'undefined') {\n  module.exports = Terminal;\n} else {\n  this.Terminal = Terminal;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());\n", "/**\n * term.js - an xterm emulator\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n */\n\nfunction term(options) {\n  return new term.Terminal(options);\n}\n\nterm.middleware = function(options) {\n  var url = require('url');\n\n  options = options || {};\n  options.path = options.path || '/term.js';\n\n  return function(req, res, next) {\n    if (url.parse(req.url).pathname !== options.path) {\n      return next();\n    }\n\n    if (+new Date(req.headers['if-modified-since']) === term.last) {\n      res.statusCode = 304;\n      res.end();\n      return;\n    }\n\n    res.writeHead(200, {\n      'Content-Type': 'application/javascript; charset=utf-8',\n      'Content-Length': Buffer.byteLength(term.script),\n      'Last-Modified': term.last\n    });\n\n    res.end(term.script);\n  };\n};\n\nterm.path = __dirname + '/../src/term.js';\n\nterm.__defineGetter__('script', function() {\n  if (term._script) return term._script;\n  term.last = +new Date;\n  return term._script = require('fs').readFileSync(term.path, 'utf8');\n});\n\nterm.__defineGetter__('Terminal', function() {\n  if (term._Terminal) return term._Terminal;\n  return term._Terminal = require('../src/term');\n});\n\n/**\n * Expose\n */\n\nmodule.exports = term;\n", "module.exports = require('./lib/index.js');\n", "/**\n * terminal.js - term.js terminal element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar nextTick = global.setImmediate || process.nextTick.bind(process);\n\nvar Node = require('./node');\nvar Box = require('./box');\n\n/**\n * Terminal\n */\n\nfunction Terminal(options) {\n  if (!(this instanceof Node)) {\n    return new Terminal(options);\n  }\n\n  options = options || {};\n  options.scrollable = false;\n\n  Box.call(this, options);\n\n  // XXX Workaround for all motion\n  if (this.screen.program.tmux && this.screen.program.tmuxVersion >= 2) {\n    this.screen.program.enableMouse();\n  }\n\n  this.handler = options.handler;\n  this.shell = options.shell || process.env.SHELL || 'sh';\n  this.args = options.args || [];\n\n  this.cursor = this.options.cursor;\n  this.cursorBlink = this.options.cursorBlink;\n  this.screenKeys = this.options.screenKeys;\n\n  this.style = this.style || {};\n  this.style.bg = this.style.bg || 'default';\n  this.style.fg = this.style.fg || 'default';\n\n  this.termName = options.terminal\n    || options.term\n    || process.env.TERM\n    || 'xterm';\n\n  this.bootstrap();\n}\n\nTerminal.prototype.__proto__ = Box.prototype;\n\nTerminal.prototype.type = 'terminal';\n\nTerminal.prototype.bootstrap = function() {\n  var self = this;\n\n  var element = {\n    // window\n    get document() { return element; },\n    navigator: { userAgent: 'node.js' },\n\n    // document\n    get defaultView() { return element; },\n    get documentElement() { return element; },\n    createElement: function() { return element; },\n\n    // element\n    get ownerDocument() { return element; },\n    addEventListener: function() {},\n    removeEventListener: function() {},\n    getElementsByTagName: function() { return [element]; },\n    getElementById: function() { return element; },\n    parentNode: null,\n    offsetParent: null,\n    appendChild: function() {},\n    removeChild: function() {},\n    setAttribute: function() {},\n    getAttribute: function() {},\n    style: {},\n    focus: function() {},\n    blur: function() {},\n    console: console\n  };\n\n  element.parentNode = element;\n  element.offsetParent = element;\n\n  this.term = require('term.js')({\n    termName: this.termName,\n    cols: this.width - this.iwidth,\n    rows: this.height - this.iheight,\n    context: element,\n    document: element,\n    body: element,\n    parent: element,\n    cursorBlink: this.cursorBlink,\n    screenKeys: this.screenKeys\n  });\n\n  this.term.refresh = function() {\n    self.screen.render();\n  };\n\n  this.term.keyDown = function() {};\n  this.term.keyPress = function() {};\n\n  this.term.open(element);\n\n  // Emits key sequences in html-land.\n  // Technically not necessary here.\n  // In reality if we wanted to be neat, we would overwrite the keyDown and\n  // keyPress methods with our own node.js-keys->terminal-keys methods, but\n  // since all the keys are already coming in as escape sequences, we can just\n  // send the input directly to the handler/socket (see below).\n  // this.term.on('data', function(data) {\n  //   self.handler(data);\n  // });\n\n  // Incoming keys and mouse inputs.\n  // NOTE: Cannot pass mouse events - coordinates will be off!\n  this.screen.program.input.on('data', this._onData = function(data) {\n    if (self.screen.focused === self && !self._isMouse(data)) {\n      self.handler(data);\n    }\n  });\n\n  this.onScreenEvent('mouse', function(data) {\n    if (self.screen.focused !== self) return;\n\n    if (data.x < self.aleft + self.ileft) return;\n    if (data.y < self.atop + self.itop) return;\n    if (data.x > self.aleft - self.ileft + self.width) return;\n    if (data.y > self.atop - self.itop + self.height) return;\n\n    if (self.term.x10Mouse\n        || self.term.vt200Mouse\n        || self.term.normalMouse\n        || self.term.mouseEvents\n        || self.term.utfMouse\n        || self.term.sgrMouse\n        || self.term.urxvtMouse) {\n      ;\n    } else {\n      return;\n    }\n\n    var b = data.raw[0]\n      , x = data.x - self.aleft\n      , y = data.y - self.atop\n      , s;\n\n    if (self.term.urxvtMouse) {\n      if (self.screen.program.sgrMouse) {\n        b += 32;\n      }\n      s = '\\x1b[' + b + ';' + (x + 32) + ';' + (y + 32) + 'M';\n    } else if (self.term.sgrMouse) {\n      if (!self.screen.program.sgrMouse) {\n        b -= 32;\n      }\n      s = '\\x1b[<' + b + ';' + x + ';' + y\n        + (data.action === 'mousedown' ? 'M' : 'm');\n    } else {\n      if (self.screen.program.sgrMouse) {\n        b += 32;\n      }\n      s = '\\x1b[M'\n        + String.fromCharCode(b)\n        + String.fromCharCode(x + 32)\n        + String.fromCharCode(y + 32);\n    }\n\n    self.handler(s);\n  });\n\n  this.on('focus', function() {\n    self.term.focus();\n  });\n\n  this.on('blur', function() {\n    self.term.blur();\n  });\n\n  this.term.on('title', function(title) {\n    self.title = title;\n    self.emit('title', title);\n  });\n\n  this.term.on('passthrough', function(data) {\n    self.screen.program.flush();\n    self.screen.program._owrite(data);\n  });\n\n  this.on('resize', function() {\n    nextTick(function() {\n      self.term.resize(self.width - self.iwidth, self.height - self.iheight);\n    });\n  });\n\n  this.once('render', function() {\n    self.term.resize(self.width - self.iwidth, self.height - self.iheight);\n  });\n\n  this.on('destroy', function() {\n    self.kill();\n    self.screen.program.input.removeListener('data', self._onData);\n  });\n\n  if (this.handler) {\n    return;\n  }\n\n  this.pty = require('pty.js').fork(this.shell, this.args, {\n    name: this.termName,\n    cols: this.width - this.iwidth,\n    rows: this.height - this.iheight,\n    cwd: process.env.HOME,\n    env: this.options.env || process.env\n  });\n\n  this.on('resize', function() {\n    nextTick(function() {\n      try {\n        self.pty.resize(self.width - self.iwidth, self.height - self.iheight);\n      } catch (e) {\n        ;\n      }\n    });\n  });\n\n  this.handler = function(data) {\n    self.pty.write(data);\n    self.screen.render();\n  };\n\n  this.pty.on('data', function(data) {\n    self.write(data);\n    self.screen.render();\n  });\n\n  this.pty.on('exit', function(code) {\n    self.emit('exit', code || null);\n  });\n\n  this.onScreenEvent('keypress', function() {\n    self.screen.render();\n  });\n\n  this.screen._listenKeys(this);\n};\n\nTerminal.prototype.write = function(data) {\n  return this.term.write(data);\n};\n\nTerminal.prototype.render = function() {\n  var ret = this._render();\n  if (!ret) return;\n\n  this.dattr = this.sattr(this.style);\n\n  var xi = ret.xi + this.ileft\n    , xl = ret.xl - this.iright\n    , yi = ret.yi + this.itop\n    , yl = ret.yl - this.ibottom\n    , cursor;\n\n  var scrollback = this.term.lines.length - (yl - yi);\n\n  for (var y = Math.max(yi, 0); y < yl; y++) {\n    var line = this.screen.lines[y];\n    if (!line || !this.term.lines[scrollback + y - yi]) break;\n\n    if (y === yi + this.term.y\n        && this.term.cursorState\n        && this.screen.focused === this\n        && (this.term.ydisp === this.term.ybase || this.term.selectMode)\n        && !this.term.cursorHidden) {\n      cursor = xi + this.term.x;\n    } else {\n      cursor = -1;\n    }\n\n    for (var x = Math.max(xi, 0); x < xl; x++) {\n      if (!line[x] || !this.term.lines[scrollback + y - yi][x - xi]) break;\n\n      line[x][0] = this.term.lines[scrollback + y - yi][x - xi][0];\n\n      if (x === cursor) {\n        if (this.cursor === 'line') {\n          line[x][0] = this.dattr;\n          line[x][1] = '\\u2502';\n          continue;\n        } else if (this.cursor === 'underline') {\n          line[x][0] = this.dattr | (2 << 18);\n        } else if (this.cursor === 'block' || !this.cursor) {\n          line[x][0] = this.dattr | (8 << 18);\n        }\n      }\n\n      line[x][1] = this.term.lines[scrollback + y - yi][x - xi][1];\n\n      // default foreground = 257\n      if (((line[x][0] >> 9) & 0x1ff) === 257) {\n        line[x][0] &= ~(0x1ff << 9);\n        line[x][0] |= ((this.dattr >> 9) & 0x1ff) << 9;\n      }\n\n      // default background = 256\n      if ((line[x][0] & 0x1ff) === 256) {\n        line[x][0] &= ~0x1ff;\n        line[x][0] |= this.dattr & 0x1ff;\n      }\n    }\n\n    line.dirty = true;\n  }\n\n  return ret;\n};\n\nTerminal.prototype._isMouse = function(buf) {\n  var s = buf;\n  if (Buffer.isBuffer(s)) {\n    if (s[0] > 127 && s[1] === undefined) {\n      s[0] -= 128;\n      s = '\\x1b' + s.toString('utf-8');\n    } else {\n      s = s.toString('utf-8');\n    }\n  }\n  return (buf[0] === 0x1b && buf[1] === 0x5b && buf[2] === 0x4d)\n    || /^\\x1b\\[M([\\x00\\u0020-\\uffff]{3})/.test(s)\n    || /^\\x1b\\[(\\d+;\\d+;\\d+)M/.test(s)\n    || /^\\x1b\\[<(\\d+;\\d+;\\d+)([mM])/.test(s)\n    || /^\\x1b\\[<(\\d+;\\d+;\\d+;\\d+)&w/.test(s)\n    || /^\\x1b\\[24([0135])~\\[(\\d+),(\\d+)\\]\\r/.test(s)\n    || /^\\x1b\\[(O|I)/.test(s);\n};\n\nTerminal.prototype.setScroll =\nTerminal.prototype.scrollTo = function(offset) {\n  this.term.ydisp = offset;\n  return this.emit('scroll');\n};\n\nTerminal.prototype.getScroll = function() {\n  return this.term.ydisp;\n};\n\nTerminal.prototype.scroll = function(offset) {\n  this.term.scrollDisp(offset);\n  return this.emit('scroll');\n};\n\nTerminal.prototype.resetScroll = function() {\n  this.term.ydisp = 0;\n  this.term.ybase = 0;\n  return this.emit('scroll');\n};\n\nTerminal.prototype.getScrollHeight = function() {\n  return this.term.rows - 1;\n};\n\nTerminal.prototype.getScrollPerc = function() {\n  return (this.term.ydisp / this.term.ybase) * 100;\n};\n\nTerminal.prototype.setScrollPerc = function(i) {\n  return this.setScroll((i / 100) * this.term.ybase | 0);\n};\n\nTerminal.prototype.screenshot = function(xi, xl, yi, yl) {\n  xi = 0 + (xi || 0);\n  if (xl != null) {\n    xl = 0 + (xl || 0);\n  } else {\n    xl = this.term.lines[0].length;\n  }\n  yi = 0 + (yi || 0);\n  if (yl != null) {\n    yl = 0 + (yl || 0);\n  } else {\n    yl = this.term.lines.length;\n  }\n  return this.screen.screenshot(xi, xl, yi, yl, this.term);\n};\n\nTerminal.prototype.kill = function() {\n  if (this.pty) {\n    this.pty.destroy();\n    this.pty.kill();\n  }\n  this.term.refresh = function() {};\n  this.term.write('\\x1b[H\\x1b[J');\n  if (this.term._blink) {\n    clearInterval(this.term._blink);\n  }\n  this.term.destroy();\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Terminal;\n", "/**\n * video.js - video element for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Modules\n */\n\nvar cp = require('child_process');\n\nvar Node = require('./node');\nvar Box = require('./box');\nvar Terminal = require('./terminal');\n\n/**\n * Video\n */\n\nfunction Video(options) {\n  var self = this\n    , shell\n    , args;\n\n  if (!(this instanceof Node)) {\n    return new Video(options);\n  }\n\n  options = options || {};\n\n  Box.call(this, options);\n\n  if (this.exists('mplayer')) {\n    shell = 'mplayer';\n    args = ['-vo', 'caca', '-quiet', options.file];\n  } else if (this.exists('mpv')) {\n    shell = 'mpv';\n    args = ['--vo', 'caca', '--really-quiet', options.file];\n  } else {\n    this.parseTags = true;\n    this.setContent('{red-fg}{bold}Error:{/bold}'\n      + ' mplayer or mpv not installed.{/red-fg}');\n    return this;\n  }\n\n  var opts = {\n    parent: this,\n    left: 0,\n    top: 0,\n    width: this.width - this.iwidth,\n    height: this.height - this.iheight,\n    shell: shell,\n    args: args.slice()\n  };\n\n  this.now = Date.now() / 1000 | 0;\n  this.start = opts.start || 0;\n  if (this.start) {\n    if (shell === 'mplayer') {\n      opts.args.unshift('-ss', this.start + '');\n    } else if (shell === 'mpv') {\n      opts.args.unshift('--start', this.start + '');\n    }\n  }\n\n  var DISPLAY = process.env.DISPLAY;\n  delete process.env.DISPLAY;\n  this.tty = new Terminal(opts);\n  process.env.DISPLAY = DISPLAY;\n\n  this.on('click', function() {\n    self.tty.pty.write('p');\n  });\n\n  // mplayer/mpv cannot resize itself in the terminal, so we have\n  // to restart it at the correct start time.\n  this.on('resize', function() {\n    self.tty.destroy();\n\n    var opts = {\n      parent: self,\n      left: 0,\n      top: 0,\n      width: self.width - self.iwidth,\n      height: self.height - self.iheight,\n      shell: shell,\n      args: args.slice()\n    };\n\n    var watched = (Date.now() / 1000 | 0) - self.now;\n    self.now = Date.now() / 1000 | 0;\n    self.start += watched;\n    if (shell === 'mplayer') {\n      opts.args.unshift('-ss', self.start + '');\n    } else if (shell === 'mpv') {\n      opts.args.unshift('--start', self.start + '');\n    }\n\n    var DISPLAY = process.env.DISPLAY;\n    delete process.env.DISPLAY;\n    self.tty = new Terminal(opts);\n    process.env.DISPLAY = DISPLAY;\n    self.screen.render();\n  });\n}\n\nVideo.prototype.__proto__ = Box.prototype;\n\nVideo.prototype.type = 'video';\n\nVideo.prototype.exists = function(program) {\n  try {\n    return !!+cp.execSync('type '\n      + program + ' > /dev/null 2> /dev/null'\n      + ' && echo 1', { encoding: 'utf8' }).trim();\n  } catch (e) {\n    return false;\n  }\n};\n\n/**\n * Expose\n */\n\nmodule.exports = Video;\n", "/**\n * widget.js - high-level interface for blessed\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\nvar widget = exports;\n\nwidget.classes = [\n  'Node',\n  'Screen',\n  'Element',\n  'Box',\n  'Text',\n  'Line',\n  'ScrollableBox',\n  'ScrollableText',\n  'BigText',\n  'List',\n  'Form',\n  'Input',\n  'Textarea',\n  'Textbox',\n  'Button',\n  'ProgressBar',\n  'FileManager',\n  'Checkbox',\n  'RadioSet',\n  'RadioButton',\n  'Prompt',\n  'Question',\n  'Message',\n  'Loading',\n  'Listbar',\n  'Log',\n  'Table',\n  'ListTable',\n  'Terminal',\n  'Image',\n  'ANSIImage',\n  'OverlayImage',\n  'Video',\n  'Layout'\n];\n\nwidget.classes.forEach(function(name) {\n  var file = name.toLowerCase();\n  widget[name] = widget[file] = require('./widgets/' + file);\n});\n\nwidget.aliases = {\n  'ListBar': 'Listbar',\n  'PNG': 'ANSIImage'\n};\n\nObject.keys(widget.aliases).forEach(function(key) {\n  var name = widget.aliases[key];\n  widget[key] = widget[name];\n  widget[key.toLowerCase()] = widget[name];\n});\n", "/**\n * blessed - a high-level terminal interface library for node.js\n * Copyright (c) 2013-2015, Christopher Jeffrey and contributors (MIT License).\n * https://github.com/chjj/blessed\n */\n\n/**\n * Blessed\n */\n\nfunction blessed() {\n  return blessed.program.apply(null, arguments);\n}\n\nblessed.program = blessed.Program = require('./program');\nblessed.tput = blessed.Tput = require('./tput');\nblessed.widget = require('./widget');\nblessed.colors = require('./colors');\nblessed.unicode = require('./unicode');\nblessed.helpers = require('./helpers');\n\nblessed.helpers.sprintf = blessed.tput.sprintf;\nblessed.helpers.tryRead = blessed.tput.tryRead;\nblessed.helpers.merge(blessed, blessed.helpers);\n\nblessed.helpers.merge(blessed, blessed.widget);\n\n/**\n * Expose\n */\n\nmodule.exports = blessed;\n", "import blessed from 'blessed'\nimport { bindExitInput } from '../input'\n\nexport function spawnScreen (opts: ScreenConstructorArgs = {}) {\n  const { bindExit = true } = opts\n  const screen = blessed.screen({ smartCSR: true, ...opts })\n  if (bindExit) bindExitInput(screen)\n  return screen\n}\n\nexport interface ScreenConstructorArgs {\n  title?: string\n  bindExit?: boolean\n}\n", "import { Screen } from '../core'\n\n/**\n* -----\n* The purpose of this function is to bind\n* exit buttons (for example, CTRL+C) to the\n* input screen.\n*\n* This is designed to allow the user to\n* exit the application with their keyboard.\n* */\nexport function bindExitInput (screen: Screen): void {\n  screen.key([ 'C-c', 'q', 'escape' ], () => {\n    process.exit(0)\n  })\n}\n", "export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}", "import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}", "import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}", "export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}", "import _arity from \"./_arity.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    var hasPlaceholder = false;\n\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n\n      combined[combinedIdx] = result;\n\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      } else {\n        hasPlaceholder = true;\n      }\n\n      combinedIdx += 1;\n    }\n\n    return !hasPlaceholder && left <= 0 ? fn.apply(this, combined) : _arity(Math.max(0, left), _curryN(length, combined, fn));\n  };\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _curryN from \"./internal/_curryN.js\";\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curryN =\n/*#__PURE__*/\n_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n\n  return _arity(length, _curryN(length, [], fn));\n});\n\nexport default curryN;", "/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};", "export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}", "import _isArray from \"./_isArray.js\";\nimport _isTransformer from \"./_isTransformer.js\";\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\n\nexport default function _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[arguments.length - 1];\n\n    if (!_isArray(obj)) {\n      var idx = 0;\n\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n\n        idx += 1;\n      }\n\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n\n    return fn.apply(this, arguments);\n  };\n}", "export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};", "export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}", "export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}", "export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}", "export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}", "// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;", "import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;", "import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\"; // cover IE < 9 keys issues\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nexport default keys;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig * -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(async () => {}); //=> \"AsyncFunction\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;", "import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nexport default equals;", "export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n\n  return result;\n}", "export default function _arrayReduce(reducer, acc, list) {\n  var index = 0;\n  var length = list.length;\n\n  while (index < length) {\n    acc = reducer(acc, list[index]);\n    index += 1;\n  }\n\n  return acc;\n}", "export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}", "import _xfBase from \"./_xfBase.js\";\n\nvar XMap =\n/*#__PURE__*/\nfunction () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return XMap;\n}();\n\nvar _xmap = function _xmap(f) {\n  return function (xf) {\n    return new XMap(f, xf);\n  };\n};\n\nexport default _xmap;", "import _arrayReduce from \"./internal/_arrayReduce.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _map from \"./internal/_map.js\";\nimport _xmap from \"./internal/_xmap.js\";\nimport curryN from \"./curryN.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\n\nvar map =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n\n    case '[object Object]':\n      return _arrayReduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n\n    default:\n      return _map(fn, functor);\n  }\n}));\n\nexport default map;", "export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}", "/**\n * Tests whether or not an object is a typed array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is a typed array, `false` otherwise.\n * @example\n *\n *      _isTypedArray(new Uint8Array([])); //=> true\n *      _isTypedArray(new Float32Array([])); //=> true\n *      _isTypedArray([]); //=> false\n *      _isTypedArray(null); //=> false\n *      _isTypedArray({}); //=> false\n */\nexport default function _isTypedArray(val) {\n  var type = Object.prototype.toString.call(val);\n  return type === '[object Uint8ClampedArray]' || type === '[object Int8Array]' || type === '[object Uint8Array]' || type === '[object Int16Array]' || type === '[object Uint16Array]' || type === '[object Int32Array]' || type === '[object Uint32Array]' || type === '[object Float32Array]' || type === '[object Float64Array]' || type === '[object BigInt64Array]' || type === '[object BigUint64Array]';\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _isArguments from \"./internal/_isArguments.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _isString from \"./internal/_isString.js\";\nimport _isTypedArray from \"./internal/_isTypedArray.js\";\n/**\n * Returns the empty value of its argument's type. Ramda defines the empty\n * value of Array (`[]`), Object (`{}`), String (`''`),\n * TypedArray (`Uint8Array []`, `Float32Array []`, etc), and Arguments. Other\n * types are supported if they define `<Type>.empty`,\n * `<Type>.prototype.empty` or implement the\n * [FantasyLand Monoid spec](https://github.com/fantasyland/fantasy-land#monoid).\n *\n * Dispatches to the `empty` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig a -> a\n * @param {*} x\n * @return {*}\n * @example\n *\n *      R.empty(Just(42));               //=> Nothing()\n *      R.empty([1, 2, 3]);              //=> []\n *      R.empty('unicorns');             //=> ''\n *      R.empty({x: 1, y: 2});           //=> {}\n *      R.empty(Uint8Array.from('123')); //=> Uint8Array []\n */\n\nvar empty =\n/*#__PURE__*/\n_curry1(function empty(x) {\n  return x != null && typeof x['fantasy-land/empty'] === 'function' ? x['fantasy-land/empty']() : x != null && x.constructor != null && typeof x.constructor['fantasy-land/empty'] === 'function' ? x.constructor['fantasy-land/empty']() : x != null && typeof x.empty === 'function' ? x.empty() : x != null && x.constructor != null && typeof x.constructor.empty === 'function' ? x.constructor.empty() : _isArray(x) ? [] : _isString(x) ? '' : _isObject(x) ? {} : _isArguments(x) ? function () {\n    return arguments;\n  }() : _isTypedArray(x) ? x.constructor.from('') : void 0 // else\n  ;\n});\n\nexport default empty;", "import _curry1 from \"./internal/_curry1.js\";\nimport empty from \"./empty.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns `true` if the given value is its type's empty value; `false`\n * otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> Boolean\n * @param {*} x\n * @return {Boolean}\n * @see R.empty\n * @example\n *\n *      R.isEmpty([1, 2, 3]);           //=> false\n *      R.isEmpty([]);                  //=> true\n *      R.isEmpty('');                  //=> true\n *      R.isEmpty(null);                //=> false\n *      R.isEmpty({});                  //=> true\n *      R.isEmpty({length: 0});         //=> false\n *      R.isEmpty(Uint8Array.from('')); //=> true\n */\n\nvar isEmpty =\n/*#__PURE__*/\n_curry1(function isEmpty(x) {\n  return x != null && equals(x, empty(x));\n});\n\nexport default isEmpty;", "import { isEmpty, map } from 'ramda'\nimport blessed, { Widgets } from 'blessed'\nimport { UIComponentTrait } from './types'\n\ntype ListbarElement = Widgets.ListbarElement\n\nconst convertTabToOption = (tab: Tab): Widgets.Types.ListbarCommand => ({\n  key: tab.key,\n  // XXX: Invalid types in the external library.\n  // @ts-ignore\n  text: tab.name,\n  callback () {\n    // TODO: Implement switching\n  },\n})\n\nexport class TabsNavigation implements UIComponentTrait<ListbarElement> {\n  private listbar: ListbarElement\n  private tabs: Tab[]\n  constructor (tabs: Tab[]) {\n    this.tabs = tabs\n    this.listbar = this.init()\n  }\n  private init () {\n    const listbar = blessed.listbar({\n      commands: [],\n      items: [],\n      autoCommandKeys: true,\n      mouse: true,\n      keys: true,\n      width: '100%',\n      height: 3,\n      tags: true,\n      border: {\n        type: 'line',\n      },\n      style: {\n        bg: 'red',\n      },\n    })\n    return listbar\n  }\n  appendTab (tab: Tab): void {\n    this.tabs.push(tab)\n  }\n  prependTab (tab: Tab) {\n    this.tabs.unshift(tab)\n  }\n  render () {\n    const hasTabs = !isEmpty(this.tabs)\n    const tabs: Tab[] = hasTabs\n      ? this.tabs\n      : [ { name: 'No tabs', key: '__noitems' } ]\n    this.listbar.setItems(map(convertTabToOption, tabs))\n    this.listbar.style = {\n      selected: { bg: 'red' },\n    }\n    return this.listbar\n  }\n}\n\nexport interface Tab {\n  name: string\n  key: string\n}\n", "import { spawnScreen } from './src/core'\nimport { TabsNavigation } from './src/ui'\n\n// TODO: \"blessed-contrib\" for more widgets\n\n// XXX: Probably create an abstraction for\n//  - Blessed API\n//  - General linking, so that potentially could work anywhere.\n\nfunction main () {\n  const screen = spawnScreen()\n  const nav = new TabsNavigation([\n    //{ key: 'a', name: 'webapp' },\n    //{ key: 'b', name: 'mt-mediaplanning-ui' },\n  ])\n  screen.append(nav.render())\n  screen.render() // should be called on each update\n}\n\ntry {\n  main()\n} catch (e) {\n  console.log(e)\n  console.log('Crashed.')\n  process.exit(1)\n}\n"],
  "mappings": "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AA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,UAAuD,CAAC,OAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,UAAuD,CAAC,OAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,UAAuD,CAAC,OAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QAAoC,IAAI;AAAA;AAAA,MAChG,WAAuD,CAAC,QA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AAA,MACA;AAAA,IACF;AAEA,SAAK,UAAU;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,M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,QAAW,SACX,QAAW,SACX,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,QAAW,SACX,QAAW,SACX,OAAU,SAAS,SAAS,OAC5B,OAAU,SAAS,SAAS,OAC5B,OAAU,SAAS,SAAS,OAC5B,OAAU,SAAS,SAAS,OAC5B,OAAU,SAAS,SAAS,OAC5B,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC5B,SAAW,SACX,SAAW,SACX,QAAU,SAAS,SAAS,QAC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IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MACvD,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,MAAQ,IAAM;AAAA,MAAK,CAAC,OAAQ,KAAM;AAAA,MACvD,CAAC,OAAQ,KAAM;AAAA,MAAK,CAAC,OAAQ,KAAM;AAAA,MAAK,CAAC,OAAQ,KAAM;AAAA,MACvD,CAAC,OAAQ,KAAM;AAAA,MAAK,CAAC,OAAQ,KAAM;AAAA,MAAK,CAAC,OAAQ,KAAM;AAAA,MACvD,CAAC,OAAQ,KAAM;AAAA,MAAK,CAA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AAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAAY;AAAA,QAC5D;AAAA,Q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",
  "names": ["module", "file", "j", "type", "term", "map", "out", "params", "flag", "i", "r", "g", "b", "s", "module", "module", "program", "type", "keys", "key", "params", "listener", "module", "type", "params", "module", "module", "data", "y", "perc", "module", "type", "line", "module", "module", "module", "type", "screen", "el", "main", "program", "callback", "err", "module", "module", "type", "i", "cellLines", "y", "x", "img", "p", "module", "module", "line", "ch", "map", "module", "module", "module", "module", "module", "module", "module", "err", "module", "module", "el", "module", "module", "el", "lpos", "module", "total", "i", "module", "i", "module", "module", "module", "module", "module", "module", "module", "module", "module", "el", "module", "module", "window", "type", "on", "keys", "r", "document", "setTimeout", "String", "el", "ev", "setInterval", "charset", "params", "normal", "module", "require_term", "module", "module", "module", "opts", "DISPLAY", "module", "blessed", "blessed", "curryN", "_isArguments", "contains", "keys", "type", "b", "equals", "XMap", "_xmap", "map", "type", "empty", "isEmpty", "import_blessed", "blessed"]
}
